<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­æ–‡ä½œä¸šåŠ©æ‰‹ - å¬å†™ä¸å£è¯­ç»ƒä¹ </title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Microsoft YaHei", "Segoe UI", Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            background: white;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            color: #5a67d8;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .header p {
            color: #666;
            font-size: 1.2em;
        }
        
        .week-info {
            color: #666;
            font-size: 1.1em;
            margin-top: 10px;
        }
        
        .instructions {
            background: #e6fffa;
            border: 2px solid #38b2ac;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .instructions h3 {
            color: #2c7a7b;
            margin-bottom: 10px;
        }
        
        .instructions ul {
            margin-left: 20px;
            color: #2d3748;
            line-height: 1.8;
        }
        
        .tabs {
            display: flex;
            background: white;
            border-radius: 20px 20px 0 0;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: #666;
            background: #f7f7f7;
            border-bottom: 3px solid transparent;
        }
        
        .tab:hover {
            background: #ebebeb;
        }
        
        .tab.active {
            background: white;
            color: #5a67d8;
            border-bottom: 3px solid #5a67d8;
        }
        
        .content {
            background: white;
            border-radius: 0 0 20px 20px;
            padding: 40px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .section {
            display: none;
        }
        
        .section.active {
            display: block;
        }
        
        .section-title {
            color: #5a67d8;
            font-size: 1.8em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .icon {
            font-size: 1.5em;
        }
        
        .week-selector {
            margin-bottom: 30px;
        }
        
        .week-selector label {
            font-weight: 600;
            color: #333;
            margin-right: 10px;
        }
        
        .week-selector select {
            padding: 10px 20px;
            border-radius: 10px;
            border: 2px solid #e0e0e0;
            font-size: 16px;
            cursor: pointer;
            transition: border-color 0.3s ease;
        }
        
        .week-selector select:focus {
            outline: none;
            border-color: #5a67d8;
        }
        
        /* New flip card styles */
        .vocab-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .vocab-card {
            position: relative;
            height: 200px;
            perspective: 1000px;
            cursor: pointer;
        }
        
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        
        .vocab-card.flipped .card-inner {
            transform: rotateY(180deg);
        }
        
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 15px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .card-front {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }
        
        .card-back {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            transform: rotateY(180deg);
        }
        
        .vocab-number {
            font-size: 3em;
            font-weight: bold;
            margin-bottom: 15px;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .audio-btn {
            background: rgba(255,255,255,0.3);
            border: 2px solid white;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-size: 1.5em;
        }
        
        .audio-btn:hover {
            background: rgba(255,255,255,0.5);
            transform: scale(1.1);
        }
        
        .chinese-display {
            font-size: 3em;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            margin-bottom: 10px;
        }
        
        .pinyin-display {
            font-size: 1.2em;
            color: rgba(255,255,255,0.9);
            margin-bottom: 5px;
        }
        
        .meaning-display {
            font-size: 1em;
            color: rgba(255,255,255,0.8);
        }
        
        .stroke-hint {
            font-size: 0.9em;
            position: absolute;
            bottom: 10px;
            color: rgba(255,255,255,0.8);
        }
        
        .practice-controls {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
        }
        
        .btn-warning {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        /* Oral Practice Styles */
        .oral-scenario {
            background: #f7fafc;
            border-left: 5px solid #5a67d8;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 10px;
        }
        
        .scenario-title {
            color: #5a67d8;
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        
        .scenario-content {
            margin: 15px 0;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f0f4f8;
            border-radius: 10px;
            padding: 20px;
            position: relative;
        }
        
        .scenario-text {
            display: none;
            animation: fadeIn 0.5s ease-in;
            line-height: 1.8;
            text-align: left;
            width: 100%;
            font-size: 1.1em;
        }
        
        .scenario-text.visible {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .highlight {
            background: #ffd93d;
            padding: 2px 5px;
            border-radius: 3px;
            font-weight: 600;
        }
        
        .reveal-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .reveal-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .reveal-btn.hidden {
            display: none;
        }
        
        .practice-btn {
            background: #5a67d8;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }
        
        .practice-btn:hover {
            background: #4c51bf;
            transform: translateY(-2px);
        }
        
        .audio-recorder {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background: #e6f3ff;
            border-radius: 10px;
        }
        
        .record-btn {
            background: #e53e3e;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            margin: 5px;
            font-size: 1em;
        }
        
        .record-btn.recording {
            background: #38a169;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
        
        .timer {
            font-size: 3em;
            font-weight: bold;
            color: #f5576c;
            margin: 20px 0;
            text-align: center;
        }
        
        .recording-indicator {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 10px 20px;
            background: #ff6b6b;
            color: white;
            border-radius: 20px;
            font-weight: 600;
            animation: pulse 1.5s infinite;
            margin: 0 auto;
        }
        
        .recording-dot {
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        
        /* Exercise section */
        .exercise-item {
            background: #f0f4f8;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .exercise-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            cursor: pointer;
        }
        
        .check-btn {
            background: #38a169;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }
        
        .check-btn:hover {
            background: #2f855a;
            transform: translateY(-1px);
        }
        
        .check-btn:disabled {
            background: #48bb78;
            cursor: not-allowed;
        }
        
        /* Dictation styles */
        .practice-area {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .current-word {
            font-size: 4em;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .word-info {
            font-size: 1.5em;
            color: #666;
            margin-bottom: 20px;
        }
        
        .progress-bar {
            background: #e0e0e0;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .progress-fill {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .score-display {
            font-size: 1.2em;
            color: #666;
            margin-top: 20px;
        }
        
        .word-list {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin-top: 30px;
        }
        
        .word-list h3 {
            color: #333;
            margin-bottom: 15px;
        }
        
        .word-list ul {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 10px;
        }
        
        .word-list li {
            background: white;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
            transition: all 0.3s ease;
        }
        
        .word-list li:hover {
            border-color: #667eea;
            transform: translateX(5px);
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            color: white;
            font-size: 0.9em;
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .section-title {
                font-size: 1.5em;
            }
            
            .vocab-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
            
            .current-word {
                font-size: 3em;
            }
            
            .chinese-display {
                font-size: 2.5em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ä¸­æ–‡ä½œä¸šåŠ©æ‰‹</h1>
            <p>Chinese Homework Helper</p>
            <div class="week-info" id="week-info">ç¬¬1å‘¨ Week 1</div>
        </div>
        
        <div class="instructions">
            <h3>ğŸ“± ä½¿ç”¨è¯´æ˜ Instructions</h3>
            <ul>
                <li>è¯æ±‡ç»ƒä¹ ï¼šç‚¹å‡»å–‡å­æŒ‰é’® ğŸ”Š å¬è¯è¯­å‘éŸ³ï¼Œå¡ç‰‡ä¼šè‡ªåŠ¨ç¿»è½¬æ˜¾ç¤ºä¸­æ–‡å­—è¯</li>
                <li>å¬å†™ç»ƒä¹ ï¼šå¬éŸ³é¢‘å†™å‡ºæ­£ç¡®çš„ä¸­æ–‡è¯è¯­ï¼Œå¯é‡å¤æ’­æ”¾</li>
                <li>å£è¯­ç»ƒä¹ ï¼šå…ˆè‡ªå·±ç»ƒä¹ è¯´ï¼Œç„¶åç‚¹å‡»"æ˜¾ç¤ºå¥å­"æŸ¥çœ‹å‚è€ƒç­”æ¡ˆ</li>
                <li>é»„è‰²æ ‡è®°çš„å¥å­éœ€è¦é‡ç‚¹ç»ƒä¹ å’ŒèƒŒè¯µ</li>
                <li>å®Œæˆç»ƒä¹ åè®°å¾—å‹¾é€‰ç»¼åˆç»ƒä¹ é¡¹ç›®</li>
            </ul>
        </div>
        
        <div class="tabs">
            <div class="tab active" onclick="switchTab('vocabulary')">ğŸ“ è¯æ±‡ Vocabulary</div>
            <div class="tab" onclick="switchTab('dictation')">ğŸ§ å¬å†™ Dictation</div>
            <div class="tab" onclick="switchTab('oral')">ğŸ¤ å£è¯­ Oral Practice</div>
            <div class="tab" onclick="switchTab('exercises')">ğŸ“š ç»¼åˆç»ƒä¹  Exercises</div>
        </div>
        
        <div class="content">
            <!-- Vocabulary Section -->
            <div id="vocabulary" class="section active">
                <h2 class="section-title">
                    <span class="icon">ğŸ“</span>
                    è¯æ±‡ç»ƒä¹  Vocabulary Practice
                </h2>
                
                <div class="week-selector">
                    <label for="week-select-vocab">é€‰æ‹©å‘¨ Select Week:</label>
                    <select id="week-select-vocab" onchange="loadVocabulary()">
                        <option value="1">ç¬¬ä¸€å‘¨ Week 1 - åŸºç¡€é—®å€™</option>
                        <option value="2">ç¬¬äºŒå‘¨ Week 2 - å­¦æ ¡ç”Ÿæ´»</option>
                        <option value="3">ç¬¬ä¸‰å‘¨ Week 3 - æ—¶é—´è¡¨è¾¾</option>
                        <option value="4">ç¬¬å››å‘¨ Week 4 - å®¶åº­æˆå‘˜</option>
                    </select>
                </div>
                
                <p>ç‚¹å‡»å–‡å­å¬å‘éŸ³ï¼Œå­¦ä¹ æ­£ç¡®è¯»éŸ³å’Œå†™æ³•ï¼š</p>
                <div class="vocab-grid" id="vocab-grid">
                    <!-- Vocabulary cards will be loaded here -->
                </div>
                
                <div class="practice-controls">
                    <button class="btn btn-primary" onclick="shuffleCards()">ğŸ”€ æ‰“ä¹±é¡ºåº</button>
                    <button class="btn btn-success" onclick="flipAllCards()">ğŸ‘€ æ˜¾ç¤ºå…¨éƒ¨</button>
                    <button class="btn btn-warning" onclick="resetAllCards()">ğŸ”„ é‡ç½®å¡ç‰‡</button>
                </div>
            </div>
            
            <!-- Dictation Section -->
            <div id="dictation" class="section">
                <h2 class="section-title">
                    <span class="icon">ğŸ§</span>
                    å¬å†™ç»ƒä¹  Dictation Practice
                </h2>
                
                <div class="week-selector">
                    <label for="week-select-dictation">é€‰æ‹©å‘¨ Select Week:</label>
                    <select id="week-select-dictation" onchange="loadDictationWords()">
                        <option value="1">ç¬¬ä¸€å‘¨ Week 1 - åŸºç¡€é—®å€™</option>
                        <option value="2">ç¬¬äºŒå‘¨ Week 2 - å­¦æ ¡ç”Ÿæ´»</option>
                        <option value="3">ç¬¬ä¸‰å‘¨ Week 3 - æ—¶é—´è¡¨è¾¾</option>
                        <option value="4">ç¬¬å››å‘¨ Week 4 - å®¶åº­æˆå‘˜</option>
                    </select>
                </div>
                
                <div class="practice-area">
                    <div class="current-word" id="current-word">
                        å‡†å¤‡å¼€å§‹ Ready to Start
                    </div>
                    <div class="word-info" id="word-info"></div>
                    
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    
                    <div class="practice-controls">
                        <button class="btn btn-primary" id="start-btn" onclick="startDictation()">â–¶ï¸ å¼€å§‹ç»ƒä¹ </button>
                        <button class="btn btn-success" id="play-btn" onclick="playCurrentWord()" disabled>ğŸ”Š é‡æ’­</button>
                        <button class="btn btn-warning" id="next-btn" onclick="nextWord()" disabled>â­ï¸ ä¸‹ä¸€ä¸ª</button>
                    </div>
                    
                    <div class="score-display" id="score-display"></div>
                </div>
                
                <div class="word-list">
                    <h3>æœ¬å‘¨è¯æ±‡åˆ—è¡¨ This Week's Vocabulary</h3>
                    <ul id="word-list"></ul>
                </div>
            </div>
            
            <!-- Oral Practice Section -->
            <div id="oral" class="section">
                <h2 class="section-title">
                    <span class="icon">ğŸ¤</span>
                    å£è¯­ç»ƒä¹  Oral Practice
                </h2>
                
                <p>å…ˆçœ‹åœºæ™¯æ ‡é¢˜ï¼Œè‡ªå·±ç»ƒä¹ è¯´å¥å­ï¼Œç„¶åç‚¹å‡»"æ˜¾ç¤ºå¥å­"æŸ¥çœ‹å‚è€ƒç­”æ¡ˆã€‚<span class="highlight">é»„è‰²æ ‡è®°çš„å¥å­è¦é‡ç‚¹ç»ƒä¹ </span>ï¼š</p>
                
                <div class="oral-scenario">
                    <div class="scenario-title">åœºæ™¯1ï¼šè‡ªæˆ‘ä»‹ç»</div>
                    <div class="scenario-content">
                        <button class="reveal-btn" onclick="revealText('scenario1')">ğŸ‘€ æ˜¾ç¤ºå¥å­</button>
                        <p class="scenario-text" id="scenario1">
                            <span class="highlight">å¤§å®¶å¥½ï¼æˆ‘å«å°æ˜ï¼Œä»Šå¹´å…«å²ã€‚</span>
                            æˆ‘æ˜¯äºŒå¹´çº§çš„å­¦ç”Ÿã€‚æˆ‘å–œæ¬¢å­¦ä¸­æ–‡ï¼Œä¹Ÿå–œæ¬¢ç”»ç”»ã€‚
                            å¾ˆé«˜å…´è®¤è¯†å¤§å®¶ï¼
                        </p>
                    </div>
                    <button class="practice-btn" onclick="toggleRecorder('recorder1')">ğŸ™ï¸ å¼€å§‹ç»ƒä¹ </button>
                    <div class="audio-recorder" id="recorder1">
                        <button class="record-btn" onclick="toggleRecording(this, 'oral1')">ğŸ”´ å½•éŸ³</button>
                        <button class="record-btn" onclick="playRecording('oral1')">â–¶ï¸ æ’­æ”¾</button>
                        <button class="record-btn" onclick="saveRecording('oral1')">ğŸ’¾ ä¿å­˜</button>
                    </div>
                </div>
                
                <div class="oral-scenario">
                    <div class="scenario-title">åœºæ™¯2ï¼šä»‹ç»å®¶äºº</div>
                    <div class="scenario-content">
                        <button class="reveal-btn" onclick="revealText('scenario2')">ğŸ‘€ æ˜¾ç¤ºå¥å­</button>
                        <p class="scenario-text" id="scenario2">
                            <span class="highlight">æˆ‘å®¶æœ‰å››å£äººï¼šçˆ¸çˆ¸ã€å¦ˆå¦ˆã€å¦¹å¦¹å’Œæˆ‘ã€‚</span>
                            æˆ‘çˆ¸çˆ¸æ˜¯è€å¸ˆï¼Œå¦ˆå¦ˆæ˜¯åŒ»ç”Ÿã€‚
                            æˆ‘å¦¹å¦¹ä»Šå¹´äº”å²ï¼Œå¥¹å¾ˆå¯çˆ±ã€‚
                            æˆ‘ä»¬ä¸€å®¶äººå¾ˆå¹¸ç¦ã€‚
                        </p>
                    </div>
                    <button class="practice-btn" onclick="toggleRecorder('recorder2')">ğŸ™ï¸ å¼€å§‹ç»ƒä¹ </button>
                    <div class="audio-recorder" id="recorder2">
                        <button class="record-btn" onclick="toggleRecording(this, 'oral2')">ğŸ”´ å½•éŸ³</button>
                        <button class="record-btn" onclick="playRecording('oral2')">â–¶ï¸ æ’­æ”¾</button>
                        <button class="record-btn" onclick="saveRecording('oral2')">ğŸ’¾ ä¿å­˜</button>
                    </div>
                </div>
                
                <div class="oral-scenario">
                    <div class="scenario-title">åœºæ™¯3ï¼šè°ˆè®ºçˆ±å¥½</div>
                    <div class="scenario-content">
                        <button class="reveal-btn" onclick="revealText('scenario3')">ğŸ‘€ æ˜¾ç¤ºå¥å­</button>
                        <p class="scenario-text" id="scenario3">
                            <span class="highlight">æˆ‘æœ‰å¾ˆå¤šçˆ±å¥½ã€‚æˆ‘æœ€å–œæ¬¢çœ‹ä¹¦å’Œç”»ç”»ã€‚</span>
                            å‘¨æœ«çš„æ—¶å€™ï¼Œæˆ‘ç»å¸¸å’Œæœ‹å‹ä¸€èµ·è¸¢è¶³çƒã€‚
                            æˆ‘ä¹Ÿå–œæ¬¢å¬éŸ³ä¹ï¼Œç‰¹åˆ«æ˜¯ä¸­æ–‡æ­Œæ›²ã€‚
                            è¿™äº›çˆ±å¥½è®©æˆ‘çš„ç”Ÿæ´»å¾ˆå……å®ã€‚
                        </p>
                    </div>
                    <button class="practice-btn" onclick="toggleRecorder('recorder3')">ğŸ™ï¸ å¼€å§‹ç»ƒä¹ </button>
                    <div class="audio-recorder" id="recorder3">
                        <button class="record-btn" onclick="toggleRecording(this, 'oral3')">ğŸ”´ å½•éŸ³</button>
                        <button class="record-btn" onclick="playRecording('oral3')">â–¶ï¸ æ’­æ”¾</button>
                        <button class="record-btn" onclick="saveRecording('oral3')">ğŸ’¾ ä¿å­˜</button>
                    </div>
                </div>
                
                <div class="timer" id="timer" style="display: none;">2:00</div>
                <div id="recording-indicator" class="recording-indicator" style="display: none;">
                    <div class="recording-dot"></div>
                    æ­£åœ¨å½•éŸ³ Recording
                </div>
            </div>
            
            <!-- Exercises Section -->
            <div id="exercises" class="section">
                <h2 class="section-title">
                    <span class="icon">ğŸ“š</span>
                    ç»¼åˆç»ƒä¹  Comprehensive Exercises
                </h2>
                
                <p>å®Œæˆä»¥ä¸‹ç»ƒä¹ é¡¹ç›®ï¼Œç‚¹å‡»"å®Œæˆ"æŒ‰é’®æ ‡è®°è¿›åº¦ï¼š</p>
                
                <div class="exercise-item">
                    <div>
                        <input type="checkbox" id="ex1">
                        <label for="ex1">å®Œæˆæœ¬å‘¨è¯¾æœ¬ç»ƒä¹ ï¼ˆç¬¬__é¡µï¼‰</label>
                    </div>
                    <button class="check-btn" onclick="markComplete(this, 'ex1')">âœ“ å®Œæˆ</button>
                </div>
                
                <div class="exercise-item">
                    <div>
                        <input type="checkbox" id="ex2">
                        <label for="ex2">æŠ„å†™æœ¬å‘¨ç”Ÿè¯ï¼Œæ¯ä¸ªè¯3é</label>
                    </div>
                    <button class="check-btn" onclick="markComplete(this, 'ex2')">âœ“ å®Œæˆ</button>
                </div>
                
                <div class="exercise-item">
                    <div>
                        <input type="checkbox" id="ex3">
                        <label for="ex3">ç”¨æœ¬å‘¨è¯æ±‡é€ å¥ï¼ˆè‡³å°‘5ä¸ªå¥å­ï¼‰</label>
                    </div>
                    <button class="check-btn" onclick="markComplete(this, 'ex3')">âœ“ å®Œæˆ</button>
                </div>
                
                <div class="exercise-item">
                    <div>
                        <input type="checkbox" id="ex4">
                        <label for="ex4">æœ—è¯»è¯¾æ–‡3éå¹¶å½•éŸ³</label>
                    </div>
                    <button class="check-btn" onclick="markComplete(this, 'ex4')">âœ“ å®Œæˆ</button>
                </div>
                
                <div class="exercise-item">
                    <div>
                        <input type="checkbox" id="ex5">
                        <label for="ex5">å¤ä¹ ä¸Šå‘¨å­¦è¿‡çš„å†…å®¹</label>
                    </div>
                    <button class="check-btn" onclick="markComplete(this, 'ex5')">âœ“ å®Œæˆ</button>
                </div>
                
                <div style="margin-top: 30px; text-align: center;">
                    <button class="btn btn-primary" onclick="generateReport()">ğŸ“Š ç”Ÿæˆå­¦ä¹ æŠ¥å‘Š</button>
                    <button class="btn btn-success" onclick="saveProgress()">ğŸ’¾ ä¿å­˜è¿›åº¦</button>
                </div>
            </div>
        </div>
        
        <div class="footer">
            Made with â¤ï¸ for Chinese learners | ä¸ºä¸­æ–‡å­¦ä¹ è€…ç”¨å¿ƒåˆ¶ä½œ
        </div>
    </div>
    
    <script>
        // Enhanced vocabulary data structure
        const vocabularyData = {
            1: [
                { id: 1, chinese: 'ä½ å¥½', pinyin: 'nÇ hÇo', meaning: 'Hello', audio: 'nihao.mp3' },
                { id: 2, chinese: 'è°¢è°¢', pinyin: 'xiÃ¨ xie', meaning: 'Thank you', audio: 'xiexie.mp3' },
                { id: 3, chinese: 'å†è§', pinyin: 'zÃ i jiÃ n', meaning: 'Goodbye', audio: 'zaijian.mp3' },
                { id: 4, chinese: 'è€å¸ˆ', pinyin: 'lÇo shÄ«', meaning: 'Teacher', audio: 'laoshi.mp3' },
                { id: 5, chinese: 'å­¦ç”Ÿ', pinyin: 'xuÃ© shÄ“ng', meaning: 'Student', audio: 'xuesheng.mp3' },
                { id: 6, chinese: 'æœ‹å‹', pinyin: 'pÃ©ng yÇ’u', meaning: 'Friend', audio: 'pengyou.mp3' },
                { id: 7, chinese: 'å®¶äºº', pinyin: 'jiÄ rÃ©n', meaning: 'Family', audio: 'jiaren.mp3' },
                { id: 8, chinese: 'ä¸­å›½', pinyin: 'zhÅng guÃ³', meaning: 'China', audio: 'zhongguo.mp3' },
                { id: 9, chinese: 'æ—©ä¸Šå¥½', pinyin: 'zÇo shang hÇo', meaning: 'Good morning', audio: 'zaoshanghao.mp3' },
                { id: 10, chinese: 'æ™šå®‰', pinyin: 'wÇn Än', meaning: 'Good night', audio: 'wanan.mp3' }
            ],
            2: [
                { id: 1, chinese: 'å­¦æ ¡', pinyin: 'xuÃ© xiÃ o', meaning: 'School', audio: 'xuexiao.mp3' },
                { id: 2, chinese: 'æ•™å®¤', pinyin: 'jiÃ o shÃ¬', meaning: 'Classroom', audio: 'jiaoshi.mp3' },
                { id: 3, chinese: 'ä¹¦åŒ…', pinyin: 'shÅ« bÄo', meaning: 'Backpack', audio: 'shubao.mp3' },
                { id: 4, chinese: 'é“…ç¬”', pinyin: 'qiÄn bÇ', meaning: 'Pencil', audio: 'qianbi.mp3' },
                { id: 5, chinese: 'ä½œä¸š', pinyin: 'zuÃ² yÃ¨', meaning: 'Homework', audio: 'zuoye.mp3' },
                { id: 6, chinese: 'è€ƒè¯•', pinyin: 'kÇo shÃ¬', meaning: 'Exam', audio: 'kaoshi.mp3' },
                { id: 7, chinese: 'æˆç»©', pinyin: 'chÃ©ng jÃ¬', meaning: 'Grades', audio: 'chengji.mp3' },
                { id: 8, chinese: 'è¯¾æœ¬', pinyin: 'kÃ¨ bÄ›n', meaning: 'Textbook', audio: 'keben.mp3' },
                { id: 9, chinese: 'é»‘æ¿', pinyin: 'hÄ“i bÇn', meaning: 'Blackboard', audio: 'heiban.mp3' },
                { id: 10, chinese: 'åŒå­¦', pinyin: 'tÃ³ng xuÃ©', meaning: 'Classmate', audio: 'tongxue.mp3' }
            ],
            3: [
                { id: 1, chinese: 'æ—©ä¸Š', pinyin: 'zÇo shang', meaning: 'Morning', audio: 'zaoshang.mp3' },
                { id: 2, chinese: 'ä¸­åˆ', pinyin: 'zhÅng wÇ”', meaning: 'Noon', audio: 'zhongwu.mp3' },
                { id: 3, chinese: 'æ™šä¸Š', pinyin: 'wÇn shang', meaning: 'Evening', audio: 'wanshang.mp3' },
                { id: 4, chinese: 'ä»Šå¤©', pinyin: 'jÄ«n tiÄn', meaning: 'Today', audio: 'jintian.mp3' },
                { id: 5, chinese: 'æ˜å¤©', pinyin: 'mÃ­ng tiÄn', meaning: 'Tomorrow', audio: 'mingtian.mp3' },
                { id: 6, chinese: 'æ˜¨å¤©', pinyin: 'zuÃ³ tiÄn', meaning: 'Yesterday', audio: 'zuotian.mp3' },
                { id: 7, chinese: 'æ˜ŸæœŸ', pinyin: 'xÄ«ng qÄ«', meaning: 'Week', audio: 'xingqi.mp3' },
                { id: 8, chinese: 'å‘¨æœ«', pinyin: 'zhÅu mÃ²', meaning: 'Weekend', audio: 'zhoumo.mp3' },
                { id: 9, chinese: 'å°æ—¶', pinyin: 'xiÇo shÃ­', meaning: 'Hour', audio: 'xiaoshi.mp3' },
                { id: 10, chinese: 'åˆ†é’Ÿ', pinyin: 'fÄ“n zhÅng', meaning: 'Minute', audio: 'fenzhong.mp3' }
            ],
            4: [
                { id: 1, chinese: 'çˆ¸çˆ¸', pinyin: 'bÃ  ba', meaning: 'Father', audio: 'baba.mp3' },
                { id: 2, chinese: 'å¦ˆå¦ˆ', pinyin: 'mÄ ma', meaning: 'Mother', audio: 'mama.mp3' },
                { id: 3, chinese: 'å“¥å“¥', pinyin: 'gÄ“ ge', meaning: 'Older brother', audio: 'gege.mp3' },
                { id: 4, chinese: 'å§å§', pinyin: 'jiÄ› jie', meaning: 'Older sister', audio: 'jiejie.mp3' },
                { id: 5, chinese: 'å¼Ÿå¼Ÿ', pinyin: 'dÃ¬ di', meaning: 'Younger brother', audio: 'didi.mp3' },
                { id: 6, chinese: 'å¦¹å¦¹', pinyin: 'mÃ¨i mei', meaning: 'Younger sister', audio: 'meimei.mp3' },
                { id: 7, chinese: 'çˆ·çˆ·', pinyin: 'yÃ© ye', meaning: 'Grandfather', audio: 'yeye.mp3' },
                { id: 8, chinese: 'å¥¶å¥¶', pinyin: 'nÇi nai', meaning: 'Grandmother', audio: 'nainai.mp3' },
                { id: 9, chinese: 'å”å”', pinyin: 'shÅ« shu', meaning: 'Uncle', audio: 'shushu.mp3' },
                { id: 10, chinese: 'é˜¿å§¨', pinyin: 'Ä yÃ­', meaning: 'Aunt', audio: 'ayi.mp3' }
            ]
        };
        
        // Global variables
        let currentWeek = 1;
        let dictationWords = [];
        let currentWordIndex = 0;
        let isPlaying = false;
        let oralTimer = null;
        let oralTimeLeft = 120;
        let recordings = {};
        let mediaRecorder = null;
        let audioChunks = [];
        
        // Tab switching
        function switchTab(tabName) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            // Save current tab to localStorage
            localStorage.setItem('currentTab', tabName);
        }
        
        // Vocabulary functions
        function loadVocabulary() {
            const week = document.getElementById('week-select-vocab').value;
            const vocabGrid = document.getElementById('vocab-grid');
            const words = vocabularyData[week] || [];
            
            currentWeek = week;
            updateWeekInfo(week);
            
            vocabGrid.innerHTML = '';
            
            words.forEach((word, index) => {
                const card = document.createElement('div');
                card.className = 'vocab-card';
                card.id = `vocab-card-${word.id}`;
                card.innerHTML = `
                    <div class="card-inner">
                        <div class="card-front">
                            <div class="vocab-number">${word.id}</div>
                            <button class="audio-btn" onclick="playAudioAndFlip('vocab-card-${word.id}', '${word.audio}')">ğŸ”Š</button>
                        </div>
                        <div class="card-back" onclick="flipBack('vocab-card-${word.id}')">
                            <div class="chinese-display">${word.chinese}</div>
                            <div class="pinyin-display">${word.pinyin}</div>
                            <div class="meaning-display">${word.meaning}</div>
                            <div class="stroke-hint">ç‚¹å‡»è¿”å› Click to flip back</div>
                        </div>
                    </div>
                `;
                vocabGrid.appendChild(card);
            });
            
            // Save current week selection
            localStorage.setItem('currentWeek', week);
        }
        
        function playAudioAndFlip(cardId, audioFile) {
            const card = document.getElementById(cardId);
            const week = document.getElementById('week-select-vocab').value;
            
            // Play audio
            const audio = new Audio(`audio/week${week}/${audioFile}`);
            audio.play().catch(e => {
                console.log('Audio file not found: ' + audioFile);
                // Show visual feedback
                const audioBtn = card.querySelector('.audio-btn');
                audioBtn.textContent = 'ğŸ”Šâœ“';
                setTimeout(() => {
                    audioBtn.textContent = 'ğŸ”Š';
                }, 1000);
            });
            
            // Flip card after a short delay
            setTimeout(() => {
                card.classList.add('flipped');
            }, 300);
        }
        
        function flipBack(cardId) {
            const card = document.getElementById(cardId);
            card.classList.remove('flipped');
        }
        
        function shuffleCards() {
            const vocabGrid = document.getElementById('vocab-grid');
            const cards = Array.from(vocabGrid.children);
            
            for (let i = cards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [cards[i], cards[j]] = [cards[j], cards[i]];
            }
            
            vocabGrid.innerHTML = '';
            cards.forEach(card => vocabGrid.appendChild(card));
        }
        
        function flipAllCards() {
            document.querySelectorAll('.vocab-card').forEach(card => {
                card.classList.add('flipped');
            });
        }
        
        function resetAllCards() {
            document.querySelectorAll('.vocab-card').forEach(card => {
                card.classList.remove('flipped');
            });
        }
        
        // Dictation functions
        function loadDictationWords() {
            const week = document.getElementById('week-select-dictation').value;
            dictationWords = vocabularyData[week] || [];
            
            const wordList = document.getElementById('word-list');
            wordList.innerHTML = '';
            
            dictationWords.forEach(word => {
                const li = document.createElement('li');
                li.textContent = `${word.chinese} (${word.pinyin}) - ${word.meaning}`;
                wordList.appendChild(li);
            });
            
            resetDictation();
        }
        
        function startDictation() {
            if (dictationWords.length === 0) {
                alert('è¯·å…ˆé€‰æ‹©ä¸€å‘¨çš„è¯æ±‡ï¼ Please select a week first!');
                return;
            }
            
            currentWordIndex = 0;
            isPlaying = true;
            
            document.getElementById('start-btn').disabled = true;
            document.getElementById('play-btn').disabled = false;
            document.getElementById('next-btn').disabled = false;
            
            dictationWords = dictationWords.sort(() => Math.random() - 0.5);
            
            showCurrentWord();
            playCurrentWord();
        }
        
        function showCurrentWord() {
            const word = dictationWords[currentWordIndex];
            document.getElementById('current-word').textContent = '?';
            document.getElementById('word-info').textContent = `ç¬¬ ${currentWordIndex + 1} ä¸ª / å…± ${dictationWords.length} ä¸ª`;
            
            updateProgress();
        }
        
        function playCurrentWord() {
            const word = dictationWords[currentWordIndex];
            const week = document.getElementById('week-select-dictation').value;
            
            const audio = new Audio(`audio/week${week}/${word.audio}`);
            audio.play().catch(e => {
                console.log('Audio file not found');
                alert(`æ’­æ”¾è¯è¯­: ${word.pinyin}`);
            });
        }
        
        function nextWord() {
            const word = dictationWords[currentWordIndex];
            document.getElementById('current-word').textContent = word.chinese;
            
            setTimeout(() => {
                currentWordIndex++;
                
                if (currentWordIndex >= dictationWords.length) {
                    endDictation();
                } else {
                    showCurrentWord();
                    playCurrentWord();
                }
            }, 2000);
        }
        
        function updateProgress() {
            const progress = (currentWordIndex / dictationWords.length) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
        }
        
        function endDictation() {
            isPlaying = false;
            document.getElementById('current-word').textContent = 'ç»ƒä¹ å®Œæˆï¼Well done!';
            document.getElementById('word-info').textContent = '';
            document.getElementById('score-display').textContent = `ä½ å®Œæˆäº† ${dictationWords.length} ä¸ªè¯çš„å¬å†™ç»ƒä¹ ï¼`;
            
            document.getElementById('start-btn').disabled = false;
            document.getElementById('play-btn').disabled = true;
            document.getElementById('next-btn').disabled = true;
            
            // Save completion to localStorage
            const completions = JSON.parse(localStorage.getItem('dictationCompletions') || '{}');
            const week = document.getElementById('week-select-dictation').value;
            completions[`week${week}`] = new Date().toISOString();
            localStorage.setItem('dictationCompletions', JSON.stringify(completions));
        }
        
        function resetDictation() {
            isPlaying = false;
            currentWordIndex = 0;
            document.getElementById('current-word').textContent = 'å‡†å¤‡å¼€å§‹ Ready to Start';
            document.getElementById('word-info').textContent = '';
            document.getElementById('score-display').textContent = '';
            document.getElementById('progress-fill').style.width = '0%';
            
            document.getElementById('start-btn').disabled = false;
            document.getElementById('play-btn').disabled = true;
            document.getElementById('next-btn').disabled = true;
        }
        
        // Oral Practice functions
        function revealText(scenarioId) {
            const text = document.getElementById(scenarioId);
            const btn = text.parentElement.querySelector('.reveal-btn');
            
            text.classList.add('visible');
            btn.classList.add('hidden');
        }
        
        function toggleRecorder(recorderId) {
            const recorder = document.getElementById(recorderId);
            recorder.style.display = recorder.style.display === 'none' ? 'block' : 'none';
        }
        
        async function toggleRecording(btn, recordingId) {
            if (!btn.classList.contains('recording')) {
                // Start recording
                try {
                    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                    mediaRecorder = new MediaRecorder(stream);
                    audioChunks = [];
                    
                    mediaRecorder.ondataavailable = event => {
                        audioChunks.push(event.data);
                    };
                    
                    mediaRecorder.onstop = () => {
                        const audioBlob = new Blob(audioChunks, { type: 'audio/webm' });
                        const audioUrl = URL.createObjectURL(audioBlob);
                        recordings[recordingId] = audioUrl;
                    };
                    
                    mediaRecorder.start();
                    btn.classList.add('recording');
                    btn.textContent = 'â¹ï¸ åœæ­¢';
                    
                    // Show recording indicator
                    document.getElementById('recording-indicator').style.display = 'inline-flex';
                    
                    // Start timer
                    startOralTimer();
                } catch (err) {
                    alert('è¯·å…è®¸ä½¿ç”¨éº¦å…‹é£è¿›è¡Œå½•éŸ³ Please allow microphone access');
                }
            } else {
                // Stop recording
                mediaRecorder.stop();
                mediaRecorder.stream.getTracks().forEach(track => track.stop());
                btn.classList.remove('recording');
                btn.textContent = 'ğŸ”´ å½•éŸ³';
                
                // Hide recording indicator
                document.getElementById('recording-indicator').style.display = 'none';
                
                // Stop timer
                stopOralTimer();
            }
        }
        
        function playRecording(recordingId) {
            const audioUrl = recordings[recordingId];
            if (audioUrl) {
                const audio = new Audio(audioUrl);
                audio.play();
            } else {
                alert('è¿˜æ²¡æœ‰å½•éŸ³ No recording yet');
            }
        }
        
        function saveRecording(recordingId) {
            const audioUrl = recordings[recordingId];
            if (audioUrl) {
                // Save to localStorage
                const savedRecordings = JSON.parse(localStorage.getItem('oralRecordings') || '{}');
                savedRecordings[recordingId] = {
                    date: new Date().toISOString(),
                    week: currentWeek
                };
                localStorage.setItem('oralRecordings', JSON.stringify(savedRecordings));
                
                alert('å½•éŸ³å·²ä¿å­˜ï¼Recording saved!');
            } else {
                alert('æ²¡æœ‰å½•éŸ³å¯ä¿å­˜ No recording to save');
            }
        }
        
        function startOralTimer() {
            const timerDiv = document.getElementById('timer');
            timerDiv.style.display = 'block';
            oralTimeLeft = 120;
            updateTimer();
            
            oralTimer = setInterval(() => {
                oralTimeLeft--;
                updateTimer();
                
                if (oralTimeLeft <= 0) {
                    // Auto stop recording
                    document.querySelectorAll('.record-btn.recording').forEach(btn => {
                        btn.click();
                    });
                }
            }, 1000);
        }
        
        function stopOralTimer() {
            clearInterval(oralTimer);
            document.getElementById('timer').style.display = 'none';
        }
        
        function updateTimer() {
            const minutes = Math.floor(oralTimeLeft / 60);
            const seconds = oralTimeLeft % 60;
            document.getElementById('timer').textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }
        
        // Exercise functions
        function markComplete(btn, exerciseId) {
            btn.style.background = '#48bb78';
            btn.textContent = 'âœ“ å·²å®Œæˆ';
            btn.disabled = true;
            
            const checkbox = btn.parentElement.parentElement.querySelector('input[type="checkbox"]');
            checkbox.checked = true;
            
            // Save progress
            const progress = JSON.parse(localStorage.getItem('exerciseProgress') || '{}');
            progress[exerciseId] = {
                completed: true,
                date: new Date().toISOString(),
                week: currentWeek
            };
            localStorage.setItem('exerciseProgress', JSON.stringify(progress));
            
            // Play completion sound
            playCompletionSound();
        }
        
        function playCompletionSound() {
            const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTGH0fPTgjMGHm7A7+OZURE');
            audio.volume = 0.2;
            audio.play();
        }
        
        function generateReport() {
            const progress = JSON.parse(localStorage.getItem('exerciseProgress') || '{}');
            const dictationCompletions = JSON.parse(localStorage.getItem('dictationCompletions') || '{}');
            const oralRecordings = JSON.parse(localStorage.getItem('oralRecordings') || '{}');
            
            let report = 'ğŸ“Š å­¦ä¹ æŠ¥å‘Š Learning Report\n\n';
            report += `å½“å‰å‘¨: ç¬¬${currentWeek}å‘¨\n\n`;
            
            // Exercise completion
            const exerciseCount = Object.keys(progress).filter(key => progress[key].completed).length;
            report += `âœ… ç»¼åˆç»ƒä¹ å®Œæˆ: ${exerciseCount}/5\n`;
            
            // Dictation completion
            const dictationCount = Object.keys(dictationCompletions).length;
            report += `ğŸ§ å¬å†™ç»ƒä¹ å®Œæˆ: ${dictationCount} å‘¨\n`;
            
            // Oral recordings
            const oralCount = Object.keys(oralRecordings).length;
            report += `ğŸ¤ å£è¯­å½•éŸ³: ${oralCount} ä¸ª\n\n`;
            
            report += 'ç»§ç»­åŠ æ²¹ï¼Keep up the good work! ğŸ’ª';
            
            alert(report);
        }
        
        function saveProgress() {
            const progressData = {
                currentWeek: currentWeek,
                currentTab: document.querySelector('.tab.active').textContent,
                timestamp: new Date().toISOString()
            };
            
            localStorage.setItem('progressData', JSON.stringify(progressData));
            alert('è¿›åº¦å·²ä¿å­˜ï¼Progress saved! âœ…');
        }
        
        function updateWeekInfo(week) {
            const weekInfo = document.getElementById('week-info');
            const weekNames = {
                1: 'ç¬¬1å‘¨ Week 1 - åŸºç¡€é—®å€™',
                2: 'ç¬¬2å‘¨ Week 2 - å­¦æ ¡ç”Ÿæ´»',
                3: 'ç¬¬3å‘¨ Week 3 - æ—¶é—´è¡¨è¾¾',
                4: 'ç¬¬4å‘¨ Week 4 - å®¶åº­æˆå‘˜'
            };
            weekInfo.textContent = weekNames[week] || `ç¬¬${week}å‘¨ Week ${week}`;
        }
        
        // Load saved progress on page load
        function loadSavedProgress() {
            // Load exercise progress
            const progress = JSON.parse(localStorage.getItem('exerciseProgress') || '{}');
            Object.keys(progress).forEach(exerciseId => {
                if (progress[exerciseId].completed) {
                    const checkbox = document.getElementById(exerciseId);
                    if (checkbox) {
                        checkbox.checked = true;
                        const btn = checkbox.parentElement.parentElement.querySelector('.check-btn');
                        if (btn) {
                            btn.style.background = '#48bb78';
                            btn.textContent = 'âœ“ å·²å®Œæˆ';
                            btn.disabled = true;
                        }
                    }
                }
            });
            
            // Load saved week
            const savedWeek = localStorage.getItem('currentWeek') || '1';
            document.getElementById('week-select-vocab').value = savedWeek;
            document.getElementById('week-select-dictation').value = savedWeek;
            
            // Load saved tab
            const savedTab = localStorage.getItem('currentTab');
            if (savedTab) {
                document.querySelector(`[onclick="switchTab('${savedTab}')"]`).click();
            }
        }
        
        // Initialize
        window.onload = function() {
            loadVocabulary();
            loadDictationWords();
            loadSavedProgress();
            
            console.log('ä¸­æ–‡ä½œä¸šåŠ©æ‰‹å·²å‡†å¤‡å°±ç»ªï¼Chinese Homework Helper is ready!');
        };
    </script>
</body>
</html>