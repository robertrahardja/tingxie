<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®¶åº­ç§°å‘¼ - Family Relationships</title>
    <link rel="icon" href="data:,">
    <link rel="stylesheet" href="styles.css">
    <style>
        .family-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 80px 20px 20px 20px;
        }

        .family-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .family-header h1 {
            font-size: 1.8rem;
            color: #333;
            margin-bottom: 10px;
        }

        .family-header p {
            color: #666;
            font-size: 0.95rem;
        }

        .category-section {
            margin-bottom: 40px;
        }

        .category-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            font-size: 1.2rem;
            font-weight: 600;
            text-align: center;
        }

        .family-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
        }

        .family-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .family-card:active {
            transform: scale(0.98);
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.15);
        }

        .family-card .english {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .family-card .chinese {
            font-size: 1.8rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
            line-height: 1.3;
        }

        .family-card .pinyin {
            color: #4a90d9;
            font-size: 1rem;
            font-style: italic;
        }

        .family-card .audio-btn {
            background: #4a90d9;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 8px 16px;
            margin-top: 10px;
            cursor: pointer;
            font-size: 0.9rem;
            width: 100%;
            transition: background 0.2s;
        }

        .family-card .audio-btn:hover {
            background: #357abd;
        }

        .family-card .audio-btn:active {
            background: #2d6aa3;
        }

        .tree-section {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin: 30px 0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .tree-section h2 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .tree-container {
            display: flex;
            justify-content: center;
            overflow: auto;
            -webkit-overflow-scrolling: touch;
            padding: 20px;
            background: white;
            border-radius: 8px;
        }

        .mermaid {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 400px;
        }

        .note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
            font-size: 0.9rem;
            color: #856404;
        }

        @media (max-width: 600px) {
            .family-container {
                padding: 70px 15px 20px 15px;
            }

            .family-header h1 {
                font-size: 1.5rem;
            }

            .family-grid {
                grid-template-columns: 1fr;
            }

            .category-header {
                font-size: 1.1rem;
                padding: 12px 15px;
            }
        }
    </style>
</head>
<body>
    <nav class="main-nav">
        <div class="nav-container">
            <button class="menu-toggle" id="menu-toggle">
                <span class="hamburger"></span>
                <span class="hamburger"></span>
                <span class="hamburger"></span>
            </button>
            <div class="nav-menu" id="nav-menu">
                <a href="index.html" class="nav-item">å¬å†™ç»ƒä¹ </a>
                <a href="handwriting.html" class="nav-item">ç¬”ç”»ç»ƒä¹ </a>
                <a href="family.html" class="nav-item active">å®¶åº­ç§°å‘¼</a>
                <a href="instructions.html" class="nav-item">æŒ‡ç¤ºè¯æ±‡</a>
                <a href="dashboard.html" class="nav-item">å®¶é•¿çœ‹æ¿</a>
            </div>
        </div>
    </nav>

    <div class="family-container">
        <header class="family-header">
            <h1>å®¶åº­ç§°å‘¼ Family Relationships</h1>
            <p>ç‚¹å‡»å¡ç‰‡å¬å‘éŸ³ Tap cards to hear pronunciation</p>
        </header>

        <div class="note">
            <strong>ğŸ’¡ æç¤º Tip:</strong> Chinese family terms are very specific about age order and which side of the family. Pay attention to these details!
        </div>

        <!-- Family Tree Visualization -->
        <div class="tree-section">
            <h2>ğŸŒ³ å®¶åº­å…³ç³»å›¾ Family Tree</h2>
            <div class="tree-container">
                <div class="mermaid">
flowchart TD
    %% Paternal Grandparents
    çˆ·çˆ·["ğŸ‘´ çˆ·çˆ·<br/>Paternal Grandfather"]:::male
    å¥¶å¥¶["ğŸ‘µ å¥¶å¥¶<br/>Paternal Grandmother"]:::female

    %% Maternal Grandparents
    å¤–å…¬["ğŸ‘´ å¤–å…¬<br/>Maternal Grandfather"]:::male
    å¤–å©†["ğŸ‘µ å¤–å©†<br/>Maternal Grandmother"]:::female

    %% Parents
    çˆ¸çˆ¸["ğŸ‘¨ çˆ¸çˆ¸<br/>Father"]:::male
    å¦ˆå¦ˆ["ğŸ‘© å¦ˆå¦ˆ<br/>Mother"]:::female

    %% Paternal Uncles/Aunts
    ä¼¯ä¼¯["ğŸ‘¨ ä¼¯ä¼¯<br/>Dad's Older Brother"]:::male
    å”å”["ğŸ‘¨ å”å”<br/>Dad's Younger Brother"]:::male
    å§‘å¦ˆ["ğŸ‘© å§‘å¦ˆ<br/>Dad's Sister"]:::female

    %% Maternal Uncles/Aunts
    èˆ…èˆ…["ğŸ‘¨ èˆ…èˆ…<br/>Mom's Brother"]:::male
    å§¨å¦ˆ["ğŸ‘© å§¨å¦ˆ<br/>Mom's Older Sister"]:::female
    é˜¿å§¨["ğŸ‘© é˜¿å§¨<br/>Mom's Younger Sister"]:::female

    %% You and Siblings
    ä½ ["ğŸŸ¡ ä½ /æˆ‘<br/>YOU"]:::highlight
    å“¥å“¥["ğŸ‘¦ å“¥å“¥<br/>Older Brother"]:::male
    å§å§["ğŸ‘§ å§å§<br/>Older Sister"]:::female
    å¼Ÿå¼Ÿ["ğŸ‘¦ å¼Ÿå¼Ÿ<br/>Younger Brother"]:::male
    å¦¹å¦¹["ğŸ‘§ å¦¹å¦¹<br/>Younger Sister"]:::female

    %% Your Spouse and Children
    å¦»å­["ğŸ’‘ å¦»å­/è€å©†<br/>Wife"]:::female
    å„¿å­["ğŸ‘¦ å„¿å­<br/>Son"]:::male
    å¥³å„¿["ğŸ‘§ å¥³å„¿<br/>Daughter"]:::female

    %% Connections - Grandparents to Parents
    çˆ·çˆ· --> çˆ¸çˆ¸
    å¥¶å¥¶ --> çˆ¸çˆ¸
    å¤–å…¬ --> å¦ˆå¦ˆ
    å¤–å©† --> å¦ˆå¦ˆ

    %% Parents to You
    çˆ¸çˆ¸ --> ä½ 
    å¦ˆå¦ˆ --> ä½ 

    %% Uncle/Aunt connections
    çˆ·çˆ· --> ä¼¯ä¼¯
    å¥¶å¥¶ --> ä¼¯ä¼¯
    çˆ·çˆ· --> å”å”
    å¥¶å¥¶ --> å”å”
    çˆ·çˆ· --> å§‘å¦ˆ
    å¥¶å¥¶ --> å§‘å¦ˆ

    å¤–å…¬ --> èˆ…èˆ…
    å¤–å©† --> èˆ…èˆ…
    å¤–å…¬ --> å§¨å¦ˆ
    å¤–å©† --> å§¨å¦ˆ
    å¤–å…¬ --> é˜¿å§¨
    å¤–å©† --> é˜¿å§¨

    %% Siblings
    çˆ¸çˆ¸ --> å“¥å“¥
    å¦ˆå¦ˆ --> å“¥å“¥
    çˆ¸çˆ¸ --> å§å§
    å¦ˆå¦ˆ --> å§å§
    çˆ¸çˆ¸ --> å¼Ÿå¼Ÿ
    å¦ˆå¦ˆ --> å¼Ÿå¼Ÿ
    çˆ¸çˆ¸ --> å¦¹å¦¹
    å¦ˆå¦ˆ --> å¦¹å¦¹

    %% Spouse connection (dashed)
    ä½  -.- å¦»å­

    %% Children
    ä½  --> å„¿å­
    å¦»å­ --> å„¿å­
    ä½  --> å¥³å„¿
    å¦»å­ --> å¥³å„¿

    %% Styles
    classDef male fill:#80ccff,stroke:#333,stroke-width:2px,color:#000
    classDef female fill:#ffb3d9,stroke:#333,stroke-width:2px,color:#000
    classDef highlight fill:#ffd700,stroke:#333,stroke-width:3px,color:#000
                </div>
            </div>
            <div class="scroll-hint" style="text-align: center; color: #666; font-size: 0.85rem; margin-top: 10px;">Blue=ç”· Male | Pink=å¥³ Female | Gold=ä½  You</div>
        </div>

        <!-- Immediate Family -->
        <div class="category-section">
            <div class="category-header">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Your Immediate Family ç›´ç³»äº²å±</div>
            <div class="family-grid" id="immediate-family"></div>
        </div>

        <!-- Grandparents -->
        <div class="category-section">
            <div class="category-header">ğŸ‘´ğŸ‘µ Grandparents ç¥–çˆ¶æ¯/å¤–ç¥–çˆ¶æ¯</div>
            <div class="family-grid" id="grandparents"></div>
        </div>

        <!-- Uncles -->
        <div class="category-section">
            <div class="category-header">ğŸ‘¨ Uncles ä¼¯ä¼¯/å”å”/èˆ…èˆ…</div>
            <div class="family-grid" id="uncles"></div>
        </div>

        <!-- Aunts -->
        <div class="category-section">
            <div class="category-header">ğŸ‘© Aunts å§‘å¦ˆ/å§¨å¦ˆ/ä¼¯æ¯/å©¶å©¶</div>
            <div class="family-grid" id="aunts"></div>
        </div>

        <!-- Cousins -->
        <div class="category-section">
            <div class="category-header">ğŸ‘« Cousins å ‚å…„å¼Ÿå§å¦¹/è¡¨å…„å¼Ÿå§å¦¹</div>
            <div class="family-grid" id="cousins"></div>
        </div>

        <!-- Nephews & Nieces -->
        <div class="category-section">
            <div class="category-header">ğŸ‘¶ Nephews & Nieces ä¾„å­/ä¾„å¥³/å¤–ç”¥</div>
            <div class="family-grid" id="nephews-nieces"></div>
        </div>

        <!-- In-Laws -->
        <div class="category-section">
            <div class="category-header">ğŸ’‘ In-Laws å§»äº²</div>
            <div class="family-grid" id="in-laws"></div>
        </div>
    </div>

    <script type="module">
        // Menu toggle
        const menuToggle = document.getElementById('menu-toggle');
        const navMenu = document.getElementById('nav-menu');

        if (menuToggle && navMenu) {
            menuToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
            });

            document.addEventListener('click', (e) => {
                if (!menuToggle.contains(e.target) && !navMenu.contains(e.target)) {
                    navMenu.classList.remove('active');
                }
            });
        }

        // Audio player
        const audioPlayer = new Audio();

        function playAudio(chinese) {
            const firstWord = chinese.split('/')[0].trim();
            const audioPath = `audio/${firstWord}.mp3`;
            audioPlayer.src = audioPath;
            audioPlayer.play().catch(err => {
                console.log('Audio not available:', audioPath);
            });
        }

        // Family data
        const familyData = {
            'immediate-family': [
                { english: "Your Mom", chinese: "å¦ˆå¦ˆ", pinyin: "mÄma" },
                { english: "Your Dad", chinese: "çˆ¸çˆ¸", pinyin: "bÃ ba" },
                { english: "Your Wife", chinese: "å¦»å­ / è€å©†", pinyin: "qÄ«zi / lÇopÃ³" },
                { english: "Your Husband", chinese: "ä¸ˆå¤« / è€å…¬", pinyin: "zhÃ ngfÅ« / lÇogÅng" },
                { english: "Your older brother", chinese: "å“¥å“¥", pinyin: "gÄ“gÄ“" },
                { english: "Your older sister", chinese: "å§å§", pinyin: "jiÄ›jiÄ›" },
                { english: "Your younger brother", chinese: "å¼Ÿå¼Ÿ", pinyin: "dÃ¬dÃ¬" },
                { english: "Your younger sister", chinese: "å¦¹å¦¹", pinyin: "mÃ¨imei" },
                { english: "Your son", chinese: "å„¿å­", pinyin: "Ã©rzi" },
                { english: "Your daughter", chinese: "å¥³å„¿", pinyin: "nÇš'Ã©r" }
            ],
            'grandparents': [
                { english: "Grandmother (Dad's side)", chinese: "å¥¶å¥¶", pinyin: "nÇinai" },
                { english: "Grandmother (Mom's side)", chinese: "å¤–å©†", pinyin: "wÃ ipÃ³" },
                { english: "Grandfather (Dad's side)", chinese: "çˆ·çˆ·", pinyin: "yÃ©yÃ©" },
                { english: "Grandfather (Mom's side)", chinese: "å¤–å…¬", pinyin: "wÃ igÅng" }
            ],
            'uncles': [
                { english: "Dad's older brother", chinese: "ä¼¯ä¼¯", pinyin: "bÃ³bo" },
                { english: "Dad's younger brother", chinese: "å”å”", pinyin: "shÅ«shu" },
                { english: "Dad's sister's husband", chinese: "å§‘å¤«", pinyin: "gÅ«fÅ«" },
                { english: "Mom's brother", chinese: "èˆ…èˆ…", pinyin: "jiÃ¹jiu" }
            ],
            'aunts': [
                { english: "Dad's older sister", chinese: "å§‘å¦ˆ", pinyin: "gÅ«mÄ" },
                { english: "Dad's younger sister", chinese: "å§‘å§‘", pinyin: "gÅ«gÅ«" },
                { english: "Dad's older brother's wife", chinese: "ä¼¯æ¯", pinyin: "bÃ³mÇ”" },
                { english: "Dad's younger brother's wife", chinese: "å©¶å©¶", pinyin: "shÄ›nshÄ›n" },
                { english: "Mom's older sister", chinese: "å§¨å¦ˆ", pinyin: "yÃ­mÄ" },
                { english: "Mom's younger sister", chinese: "é˜¿å§¨", pinyin: "ÄyÃ­" },
                { english: "Mom's brother's wife", chinese: "èˆ…æ¯", pinyin: "jiÃ¹mÇ”" }
            ],
            'cousins': [
                { english: "Dad's sibling's son (older)", chinese: "å ‚å…„", pinyin: "tÃ¡ng xiÅng" },
                { english: "Dad's sibling's son (younger)", chinese: "å ‚å¼Ÿ", pinyin: "tÃ¡ng dÃ¬" },
                { english: "Dad's sibling's daughter (older)", chinese: "å ‚å§", pinyin: "tÃ¡ng jiÄ›" },
                { english: "Dad's sibling's daughter (younger)", chinese: "å ‚å¦¹", pinyin: "tÃ¡ng mÃ¨i" },
                { english: "Mom's sibling's son (older)", chinese: "è¡¨å“¥", pinyin: "biÇo gÄ“" },
                { english: "Mom's sibling's son (younger)", chinese: "è¡¨å¼Ÿ", pinyin: "biÇo dÃ¬" },
                { english: "Mom's sibling's daughter (older)", chinese: "è¡¨å§", pinyin: "biÇo jiÄ›" },
                { english: "Mom's sibling's daughter (younger)", chinese: "è¡¨å¦¹", pinyin: "biÇo mÃ¨i" }
            ],
            'nephews-nieces': [
                { english: "Brother's son", chinese: "ä¾„å­", pinyin: "zhÃ­zi" },
                { english: "Sister's son", chinese: "å¤–ç”¥", pinyin: "wÃ ishÄ“ng" },
                { english: "Brother's daughter", chinese: "ä¾„å¥³", pinyin: "zhÃ­nÇš" },
                { english: "Sister's daughter", chinese: "å¤–ç”¥å¥³", pinyin: "wÃ ishengnÇš" }
            ],
            'in-laws': [
                { english: "Husband's father", chinese: "å…¬å…¬", pinyin: "gÅnggong" },
                { english: "Wife's father", chinese: "å²³çˆ¶", pinyin: "yuÃ¨fÃ¹" },
                { english: "Husband's mother", chinese: "å©†å©†", pinyin: "pÃ³po" },
                { english: "Wife's mother", chinese: "å²³æ¯", pinyin: "yuÃ¨mÇ”" },
                { english: "Older sister's husband", chinese: "å§å¤«", pinyin: "jiÄ›fÅ«" },
                { english: "Younger sister's husband", chinese: "å¦¹å¤«", pinyin: "mÃ¨ifÅ«" },
                { english: "Older brother's wife", chinese: "å«‚å­", pinyin: "sÇozi" },
                { english: "Younger brother's wife", chinese: "å¼Ÿå¦‡", pinyin: "dÃ¬fÃ¹" }
            ]
        };

        function createFamilyCard(data) {
            const card = document.createElement('div');
            card.className = 'family-card';

            card.innerHTML = `
                <div class="english">${data.english}</div>
                <div class="chinese">${data.chinese}</div>
                <div class="pinyin">${data.pinyin}</div>
                <button class="audio-btn">ğŸ”Š å¬å‘éŸ³ Play Audio</button>
            `;

            const audioBtn = card.querySelector('.audio-btn');
            audioBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                playAudio(data.chinese);
            });

            card.addEventListener('click', () => {
                playAudio(data.chinese);
            });

            return card;
        }

        // Render all categories
        Object.keys(familyData).forEach(categoryId => {
            const container = document.getElementById(categoryId);
            familyData[categoryId].forEach(item => {
                container.appendChild(createFamilyCard(item));
            });
        });
    </script>

    <!-- Mermaid.js for family tree visualization -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });
    </script>
</body>
</html>
