import{r as sn,a as c,S as ze,u as Le,b as $,j as e,L as Ce,c as tn,O as an,q as rn,d as H,e as ae,f as Oe,g as on,Q as ln,h as cn,i as dn,R as hn}from"./tanstack-nw2R5c1G.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();var he={},Se;function un(){if(Se)return he;Se=1;var n=sn();return he.createRoot=n.createRoot,he.hydrateRoot=n.hydrateRoot,he}var mn=un();const V={MOBILE_BREAKPOINT:768,SCROLL_HIDE_THRESHOLD:60,SET_COMPLETE_DELAY:500,TOUCH_FEEDBACK_DELAY:100,AUDIO_PRELOAD_COUNT:5,CACHE_VERSION:"v2",CACHE_DURATION:1440*60*1e3,DATA_PATH:"/data/tingxie/tingxie_vocabulary.json",API_VOCABULARY_PATH:"/api/vocabulary",API_PROGRESS_PATH:"/api/progress",VOCABULARY:{LATEST_ROW_NUMBER:79,REVIEW_MODE_NAME:"UNKNOWN_WORDS"},RETRY:{MAX_ATTEMPTS:3,INITIAL_DELAY:1e3}},O={SIMPLIFIED:"ç®€ä½“",TRADITIONAL:"ç¹ä½“",PINYIN:"æ‹¼éŸ³",ENGLISH:"English",ALL_WORDS:"å…¨éƒ¨è¯è¯­",IMPORTANT_WORDS:"é‡è¦è¯è¯­",LATEST_WORDS:"æœ€æ–°15è¯",KNOW_BTN:"ä¼š âœ“",DONT_KNOW_BTN:"ä¸ä¼š âœ—",PREV_BTN:"ä¸Šä¸€ä¸ª",NEXT_BTN:"ä¸‹ä¸€ä¸ª",IMPORTANT_BADGE:"é‡ç‚¹"},de={DATA_LOAD:"æ— æ³•åŠ è½½è¯æ±‡æ•°æ®ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•",AUDIO_PLAYBACK:"Audio playback failed:"},pn=[{href:"/",label:"æœ€æ–°è¯è¯­"},{href:"/p3hcl-reading-sync",label:"é˜…è¯»ç»ƒä¹ "},{href:"/school-tingxie",label:"å­¦æ ¡å¬å†™"},{href:"/review",label:"å¤ä¹ è¯è¯­"},{href:"/vocabulary",label:"è¯æ±‡æµè§ˆ"},{href:"/dashboard",label:"å®¶é•¿çœ‹æ¿"},{href:"/settings",label:"è®¾ç½®"},{label:"ðŸ“ æ›´å¤šç»ƒä¹ ",children:[{href:"/phrase-matching",label:"è¯è¯­æ­é…"},{href:"/handwriting",label:"ç¬”ç”»ç»ƒä¹ "},{href:"/radicals",label:"éƒ¨é¦–å­¦ä¹ "},{href:"/family",label:"å®¶åº­ç§°å‘¼"},{href:"/instructions",label:"æŒ‡ç¤ºè¯æ±‡"},{href:"/p3hcl-wupin-interactive",label:"äº’åŠ¨é˜…è¯»"},{href:"/koushi-family-cohesion",label:"å£è¯•ç»ƒä¹ "}]}],G={STUDENT_ID:"tingxie_student_id",VOCABULARY_CACHE:"vocabulary_cache_v2",VOCABULARY_CACHE_TIMESTAMP:"vocabulary_cache_timestamp_v2",SETTINGS:"tingxie_settings"};function gn(n={}){const{mobileBreakpoint:i=V.MOBILE_BREAKPOINT,scrollThreshold:t=V.SCROLL_HIDE_THRESHOLD}=n,[a,r]=c.useState(!1),o=c.useRef(0),d=c.useRef(!1),l=c.useCallback(()=>{const f=window.scrollY;window.innerWidth<i&&f>o.current&&f>t?r(!0):r(!1),o.current=f,d.current=!1},[i,t]),g=c.useCallback(()=>{d.current||(requestAnimationFrame(l),d.current=!0)},[l]),m=c.useCallback(()=>{window.innerWidth>=i&&r(!1)},[i]);return c.useEffect(()=>(window.addEventListener("scroll",g,{passive:!0}),window.addEventListener("resize",m),()=>{window.removeEventListener("scroll",g),window.removeEventListener("resize",m)}),[g,m]),a}const re={simplified:!1,traditional:!1,pinyin:!1,english:!1,audio:!1},fn={menuOpen:!1,showImportantOnly:!1,showLatestOnly:!0,currentWordIndex:0,revealState:{...re},handwritingVisible:!1,currentCharacterIndex:0,knownWords:new Set,unknownWords:new Set},E=new ze(fn);function xn(){E.setState(n=>({...n,menuOpen:!n.menuOpen}))}function xe(){E.setState(n=>({...n,menuOpen:!1}))}function Me(){E.setState(n=>({...n,showImportantOnly:!n.showImportantOnly,currentWordIndex:0,revealState:{...re}}))}function yn(){E.setState(n=>({...n,showLatestOnly:!n.showLatestOnly,currentWordIndex:0,revealState:{...re}}))}function Ae(n){E.setState(i=>({...i,currentWordIndex:n,revealState:{...re},handwritingVisible:!1,currentCharacterIndex:0}))}function se(n){E.setState(i=>i.currentWordIndex<n-1?{...i,currentWordIndex:i.currentWordIndex+1,revealState:{...re},handwritingVisible:!1,currentCharacterIndex:0}:i)}function _e(){E.setState(n=>n.currentWordIndex>0?{...n,currentWordIndex:n.currentWordIndex-1,revealState:{...re},handwritingVisible:!1,currentCharacterIndex:0}:n)}function qe(n){E.setState(i=>({...i,revealState:{...i.revealState,[n]:!i.revealState[n]}}))}function De(n){E.setState(i=>{const t=new Set(i.knownWords),a=new Set(i.unknownWords);return t.add(n.simplified),a.delete(n.simplified),{...i,knownWords:t,unknownWords:a}})}function He(n){E.setState(i=>{const t=new Set(i.knownWords),a=new Set(i.unknownWords);return a.add(n.simplified),t.delete(n.simplified),{...i,knownWords:t,unknownWords:a}})}function $e(n,i){E.setState(t=>({...t,knownWords:new Set(n),unknownWords:new Set(i)}))}function Fe(n){var i,t,a="";if(typeof n=="string"||typeof n=="number")a+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(i=0;i<r;i++)n[i]&&(t=Fe(n[i]))&&(a&&(a+=" "),a+=t)}else for(t in n)n[t]&&(a&&(a+=" "),a+=t);return a}function bn(){for(var n,i,t=0,a="",r=arguments.length;t<r;t++)(n=arguments[t])&&(i=Fe(n))&&(a&&(a+=" "),a+=i);return a}const ve="-",wn=n=>{const i=vn(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:a}=n;return{getClassGroupId:d=>{const l=d.split(ve);return l[0]===""&&l.length!==1&&l.shift(),Ue(l,i)||jn(d)},getConflictingClassGroupIds:(d,l)=>{const g=t[d]||[];return l&&a[d]?[...g,...a[d]]:g}}},Ue=(n,i)=>{var d;if(n.length===0)return i.classGroupId;const t=n[0],a=i.nextPart.get(t),r=a?Ue(n.slice(1),a):void 0;if(r)return r;if(i.validators.length===0)return;const o=n.join(ve);return(d=i.validators.find(({validator:l})=>l(o)))==null?void 0:d.classGroupId},Te=/^\[(.+)\]$/,jn=n=>{if(Te.test(n)){const i=Te.exec(n)[1],t=i==null?void 0:i.substring(0,i.indexOf(":"));if(t)return"arbitrary.."+t}},vn=n=>{const{theme:i,prefix:t}=n,a={nextPart:new Map,validators:[]};return Nn(Object.entries(n.classGroups),t).forEach(([o,d])=>{je(d,a,o,i)}),a},je=(n,i,t,a)=>{n.forEach(r=>{if(typeof r=="string"){const o=r===""?i:Re(i,r);o.classGroupId=t;return}if(typeof r=="function"){if(kn(r)){je(r(a),i,t,a);return}i.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([o,d])=>{je(d,Re(i,o),t,a)})})},Re=(n,i)=>{let t=n;return i.split(ve).forEach(a=>{t.nextPart.has(a)||t.nextPart.set(a,{nextPart:new Map,validators:[]}),t=t.nextPart.get(a)}),t},kn=n=>n.isThemeGetter,Nn=(n,i)=>i?n.map(([t,a])=>{const r=a.map(o=>typeof o=="string"?i+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([d,l])=>[i+d,l])):o);return[t,r]}):n,Cn=n=>{if(n<1)return{get:()=>{},set:()=>{}};let i=0,t=new Map,a=new Map;const r=(o,d)=>{t.set(o,d),i++,i>n&&(i=0,a=t,t=new Map)};return{get(o){let d=t.get(o);if(d!==void 0)return d;if((d=a.get(o))!==void 0)return r(o,d),d},set(o,d){t.has(o)?t.set(o,d):r(o,d)}}},Be="!",Sn=n=>{const{separator:i,experimentalParseClassName:t}=n,a=i.length===1,r=i[0],o=i.length,d=l=>{const g=[];let m=0,f=0,h;for(let y=0;y<l.length;y++){let x=l[y];if(m===0){if(x===r&&(a||l.slice(y,y+o)===i)){g.push(l.slice(f,y)),f=y+o;continue}if(x==="/"){h=y;continue}}x==="["?m++:x==="]"&&m--}const s=g.length===0?l:l.substring(f),w=s.startsWith(Be),j=w?s.substring(1):s,p=h&&h>f?h-f:void 0;return{modifiers:g,hasImportantModifier:w,baseClassName:j,maybePostfixModifierPosition:p}};return t?l=>t({className:l,parseClassName:d}):d},An=n=>{if(n.length<=1)return n;const i=[];let t=[];return n.forEach(a=>{a[0]==="["?(i.push(...t.sort(),a),t=[]):t.push(a)}),i.push(...t.sort()),i},Tn=n=>({cache:Cn(n.cacheSize),parseClassName:Sn(n),...wn(n)}),Rn=/\s+/,En=(n,i)=>{const{parseClassName:t,getClassGroupId:a,getConflictingClassGroupIds:r}=i,o=[],d=n.trim().split(Rn);let l="";for(let g=d.length-1;g>=0;g-=1){const m=d[g],{modifiers:f,hasImportantModifier:h,baseClassName:s,maybePostfixModifierPosition:w}=t(m);let j=!!w,p=a(j?s.substring(0,w):s);if(!p){if(!j){l=m+(l.length>0?" "+l:l);continue}if(p=a(s),!p){l=m+(l.length>0?" "+l:l);continue}j=!1}const y=An(f).join(":"),x=h?y+Be:y,k=x+p;if(o.includes(k))continue;o.push(k);const u=r(p,j);for(let b=0;b<u.length;++b){const S=u[b];o.push(x+S)}l=m+(l.length>0?" "+l:l)}return l};function In(){let n=0,i,t,a="";for(;n<arguments.length;)(i=arguments[n++])&&(t=Ge(i))&&(a&&(a+=" "),a+=t);return a}const Ge=n=>{if(typeof n=="string")return n;let i,t="";for(let a=0;a<n.length;a++)n[a]&&(i=Ge(n[a]))&&(t&&(t+=" "),t+=i);return t};function Pn(n,...i){let t,a,r,o=d;function d(g){const m=i.reduce((f,h)=>h(f),n());return t=Tn(m),a=t.cache.get,r=t.cache.set,o=l,l(g)}function l(g){const m=a(g);if(m)return m;const f=En(g,t);return r(g,f),f}return function(){return o(In.apply(null,arguments))}}const T=n=>{const i=t=>t[n]||[];return i.isThemeGetter=!0,i},Ve=/^\[(?:([a-z-]+):)?(.+)\]$/i,Wn=/^\d+\/\d+$/,zn=new Set(["px","full","screen"]),Ln=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,On=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Mn=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_n=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,K=n=>te(n)||zn.has(n)||Wn.test(n),X=n=>oe(n,"length",Vn),te=n=>!!n&&!Number.isNaN(Number(n)),ye=n=>oe(n,"number",te),le=n=>!!n&&Number.isInteger(Number(n)),Dn=n=>n.endsWith("%")&&te(n.slice(0,-1)),C=n=>Ve.test(n),J=n=>Ln.test(n),Hn=new Set(["length","size","percentage"]),$n=n=>oe(n,Hn,Ye),Fn=n=>oe(n,"position",Ye),Un=new Set(["image","url"]),Bn=n=>oe(n,Un,Kn),Gn=n=>oe(n,"",Yn),ce=()=>!0,oe=(n,i,t)=>{const a=Ve.exec(n);return a?a[1]?typeof i=="string"?a[1]===i:i.has(a[1]):t(a[2]):!1},Vn=n=>On.test(n)&&!Mn.test(n),Ye=()=>!1,Yn=n=>_n.test(n),Kn=n=>qn.test(n),Qn=()=>{const n=T("colors"),i=T("spacing"),t=T("blur"),a=T("brightness"),r=T("borderColor"),o=T("borderRadius"),d=T("borderSpacing"),l=T("borderWidth"),g=T("contrast"),m=T("grayscale"),f=T("hueRotate"),h=T("invert"),s=T("gap"),w=T("gradientColorStops"),j=T("gradientColorStopPositions"),p=T("inset"),y=T("margin"),x=T("opacity"),k=T("padding"),u=T("saturate"),b=T("scale"),S=T("sepia"),R=T("skew"),M=T("space"),L=T("translate"),q=()=>["auto","contain","none"],Y=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto",C,i],v=()=>[C,i],N=()=>["",K,X],P=()=>["auto",te,C],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",C],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[te,C];return{cacheSize:500,separator:":",theme:{colors:[ce],spacing:[K,X],blur:["none","",J,C],brightness:D(),borderColor:[n],borderRadius:["none","","full",J,C],borderSpacing:v(),borderWidth:N(),contrast:D(),grayscale:z(),hueRotate:D(),invert:z(),gap:v(),gradientColorStops:[n],gradientColorStopPositions:[Dn,X],inset:ee(),margin:ee(),opacity:D(),padding:v(),saturate:D(),scale:D(),sepia:z(),skew:D(),space:v(),translate:v()},classGroups:{aspect:[{aspect:["auto","square","video",C]}],container:["container"],columns:[{columns:[J]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),C]}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",le,C]}],basis:[{basis:ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",C]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",le,C]}],"grid-cols":[{"grid-cols":[ce]}],"col-start-end":[{col:["auto",{span:["full",le,C]},C]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[ce]}],"row-start-end":[{row:["auto",{span:[le,C]},C]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",C]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",C]}],gap:[{gap:[s]}],"gap-x":[{"gap-x":[s]}],"gap-y":[{"gap-y":[s]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",C,i]}],"min-w":[{"min-w":[C,i,"min","max","fit"]}],"max-w":[{"max-w":[C,i,"none","full","min","max","fit","prose",{screen:[J]},J]}],h:[{h:[C,i,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[C,i,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[C,i,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[C,i,"auto","min","max","fit"]}],"font-size":[{text:["base",J,X]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ye]}],"font-family":[{font:[ce]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",C]}],"line-clamp":[{"line-clamp":["none",te,ye]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",K,C]}],"list-image":[{"list-image":["none",C]}],"list-style-type":[{list:["none","disc","decimal",C]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",K,X]}],"underline-offset":[{"underline-offset":["auto",K,C]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",C]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",C]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),Fn]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$n]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Bn]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:I()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[K,C]}],"outline-w":[{outline:[K,X]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[K,X]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",J,Gn]}],"shadow-color":[{shadow:[ce]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[a]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",J,C]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[u]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[u]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",C]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",C]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",C]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[le,C]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",C]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",C]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",C]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[K,X,ye]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Xn=Pn(Qn);function A(...n){return Xn(bn(n))}function Jn({item:n,onNavigate:i}){const t=Le(),[a,r]=c.useState(!1);return n.children?e.jsxs("div",{className:"nav-folder",children:[e.jsxs("button",{className:A("nav-item nav-folder-toggle",a&&"expanded"),onClick:()=>r(!a),children:[n.label,e.jsx("span",{className:"folder-arrow",children:a?"â–¼":"â–¶"})]}),a&&e.jsx("div",{className:"nav-folder-content",children:n.children.map(o=>e.jsx(Ce,{to:o.href,className:A("nav-item nav-child-item",t.pathname===o.href&&"active"),onClick:i,children:o.label},o.href))})]}):e.jsx(Ce,{to:n.href,className:A("nav-item",t.pathname===n.href&&"active"),onClick:i,children:n.label})}function Zn(){const n=Le(),i=gn(),t=$(E,r=>r.menuOpen),a=c.useCallback(r=>{const o=r.target,d=document.getElementById("nav-menu"),l=document.getElementById("menu-toggle");t&&d&&l&&!d.contains(o)&&!l.contains(o)&&xe()},[t]);return c.useEffect(()=>(document.addEventListener("click",a),()=>document.removeEventListener("click",a)),[a]),c.useEffect(()=>{xe()},[n.pathname]),e.jsx("nav",{className:A("main-nav",i&&"nav-hide"),children:e.jsxs("div",{className:"nav-container",children:[e.jsxs("button",{id:"menu-toggle",className:A("menu-toggle",t&&"hamburger-active"),onClick:xn,"aria-label":"Toggle menu",children:[e.jsx("span",{className:"hamburger-line"}),e.jsx("span",{className:"hamburger-line"}),e.jsx("span",{className:"hamburger-line"})]}),e.jsx("div",{id:"nav-menu",className:A("nav-menu",t&&"active"),children:pn.map((r,o)=>e.jsx(Jn,{item:r,onNavigate:xe},r.href||`folder-${o}`))})]})})}function ei(){c.useEffect(()=>{const n=()=>{const i=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${i}px`)};return n(),window.addEventListener("resize",n),window.addEventListener("orientationchange",n),()=>{window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)}},[])}function ni({children:n,className:i}){return ei(),e.jsx("div",{className:A("page-container",i),children:n})}const _=tn({component:ii});function ii(){return e.jsxs("div",{className:"min-h-screen bg-gradient-primary",children:[e.jsx(Zn,{}),e.jsx(ni,{children:e.jsx(an,{})})]})}async function si(){const n=localStorage.getItem(G.VOCABULARY_CACHE),i=localStorage.getItem(G.VOCABULARY_CACHE_TIMESTAMP);if(n&&i&&Date.now()-parseInt(i)<V.CACHE_DURATION)return console.log("Using cached vocabulary data"),ti(),JSON.parse(n);const t=o=>{const d=o.headers.get("content-type");return d!==null&&d.includes("application/json")};let a=await fetch(V.API_VOCABULARY_PATH);if((!a.ok||!t(a))&&(a=await fetch(V.DATA_PATH)),!a.ok){if(n)return console.log("All sources failed, using stale cache"),JSON.parse(n);throw new Error(`HTTP error! status: ${a.status}`)}const r=await a.json();return localStorage.setItem(G.VOCABULARY_CACHE,JSON.stringify(r)),localStorage.setItem(G.VOCABULARY_CACHE_TIMESTAMP,Date.now().toString()),r}async function ti(){try{const n=t=>{const a=t.headers.get("content-type");return a!==null&&a.includes("application/json")};let i=await fetch(V.API_VOCABULARY_PATH);if((!i.ok||!n(i))&&(i=await fetch(V.DATA_PATH)),i.ok&&n(i)){const t=await i.json();localStorage.setItem(G.VOCABULARY_CACHE,JSON.stringify(t)),localStorage.setItem(G.VOCABULARY_CACHE_TIMESTAMP,Date.now().toString()),console.log("Cache refreshed in background")}}catch{console.log("Background cache refresh failed")}}const ge=rn({queryKey:["vocabulary"],queryFn:si,staleTime:1e3*60*5,gcTime:1e3*60*60*24});function ai(n){const i=n.vocabulary.find(t=>t.row===V.VOCABULARY.LATEST_ROW_NUMBER);return(i==null?void 0:i.words)??[]}function fe(n){return n.vocabulary.flatMap(i=>i.words)}function Ke(n){return n.filter(i=>i.important)}function ne(){const n=c.useRef({}),i=c.useRef(null),t=c.useCallback(()=>{i.current&&(i.current.pause(),i.current.currentTime=0,i.current=null)},[]),a=c.useCallback(async d=>{if(!d)return console.warn("No audio path provided"),!1;try{t();const l=d.startsWith("http")||d.startsWith("/")?d:"/"+d;console.log("Attempting to play audio:",l);let g=n.current[d];if(!g){const m=await fetch(l);if(!m.ok)throw new Error(`Failed to fetch audio: ${m.status} ${m.statusText}`);const f=await m.blob();let h="audio/mpeg";const s=await f.slice(0,12).arrayBuffer(),w=new Uint8Array(s);w[0]===82&&w[1]===73&&w[2]===70&&w[3]===70?h="audio/wav":w[0]===70&&w[1]===79&&w[2]===82&&w[3]===77&&(h="audio/x-aiff"),g=new Audio,g.crossOrigin="anonymous";const j=URL.createObjectURL(f),p=document.createElement("source");p.src=j,p.type=h,g.appendChild(p),n.current[d]=g,console.log("Audio loaded successfully:",l,"Format:",h)}return i.current=g,await g.play(),!0}catch(l){return console.warn(de.AUDIO_PLAYBACK,l),console.log("Failed audio path was:",d),!1}},[t]),r=c.useCallback(d=>{(Array.isArray(d)?d:[d]).forEach(g=>{if(g&&!n.current[g]){const m=new Audio,f=g.startsWith("http")||g.startsWith("/")?g:"/"+g;m.src=f,m.crossOrigin="anonymous",m.preload="auto",n.current[g]=m}})},[]),o=c.useCallback(()=>{t(),n.current={}},[t]);return{play:a,stop:t,preload:r,clearCache:o}}const ri=H("/vocabulary")({component:li});function oi({word:n,onPlayAudio:i}){const t=c.useCallback(a=>{a.stopPropagation(),i(n.audio)},[n.audio,i]);return e.jsxs("div",{className:A("vocab-card",n.important&&"important"),children:[e.jsx("div",{className:"vocab-simplified",children:n.simplified}),e.jsx("div",{className:"vocab-traditional",children:n.traditional}),e.jsx("div",{className:"vocab-pinyin",children:n.pinyin}),e.jsx("button",{className:"vocab-audio",onClick:t,"aria-label":`Play audio for ${n.simplified}`,children:"ðŸ”Š"}),n.important&&e.jsx("div",{className:"important-badge",children:O.IMPORTANT_BADGE})]})}function li(){const{data:n,isLoading:i,error:t}=ae(ge),a=$(E,l=>l.showImportantOnly),{play:r}=ne(),o=c.useMemo(()=>{if(!n)return[];const l=fe(n);return a?Ke(l):l},[n,a]),d=c.useCallback(l=>{r(l)},[r]);return i?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):t?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:de.DATA_LOAD})}):e.jsxs("div",{children:[e.jsxs("header",{className:"header-row",children:[e.jsx("h1",{className:"page-title",children:"è¯æ±‡æµè§ˆ"}),e.jsxs("div",{className:"controls",children:[e.jsx("button",{className:A("filter-btn",a&&"active"),onClick:Me,children:a?O.ALL_WORDS:O.IMPORTANT_WORDS}),e.jsxs("div",{className:"vocab-count",children:[o.length," ä¸ªè¯è¯­"]})]})]}),e.jsxs("main",{className:"vocabulary-main",children:[e.jsx("div",{className:"vocab-grid",children:o.map((l,g)=>e.jsx(oi,{word:l,onPlayAudio:d},`${l.simplified}-${g}`))}),o.length===0&&e.jsx("div",{className:"empty-state-container",children:e.jsxs("div",{className:"empty-state-card",children:[e.jsx("div",{className:"empty-state-icon",children:"ðŸ“š"}),e.jsx("h2",{className:"empty-state-title",children:"æ²¡æœ‰è¯è¯­"}),e.jsx("p",{className:"empty-state-subtitle",children:"æš‚æ—¶æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„è¯è¯­"})]})})]})]})}const me={autoplay:!0,traditional:!0,pinyin:!0,vibration:!1,darkmode:!1,largefont:!1,simplified:!1,reminders:!0,analytics:!0,autoPlayAudio:!1,audioSpeed:1,showPinyin:!0,showEnglish:!0,autoAdvance:!1};function ci(){try{const n=localStorage.getItem(G.SETTINGS);if(n)return{...me,...JSON.parse(n)}}catch(n){console.error("Failed to load settings:",n)}return me}function di(n){try{localStorage.setItem(G.SETTINGS,JSON.stringify(n))}catch(i){console.error("Failed to save settings:",i)}}const Z=new ze(ci());Z.subscribe(()=>{di(Z.state)});function hi(n,i){Z.setState(t=>({...t,[n]:i}))}function Ee(n){const i=Z.state[n];typeof i=="boolean"&&hi(n,!i)}function ui(){Z.setState(()=>me)}function mi(){try{const n={settings:Z.state,exportDate:new Date().toISOString(),version:"1.0.0"};return JSON.stringify(n,null,2)}catch(n){return console.error("Failed to export data:",n),""}}function pi(){try{return localStorage.removeItem(G.SETTINGS),Z.setState(()=>me),!0}catch(n){return console.error("Failed to clear data:",n),!1}}const gi=H("/settings")({component:fi});function Q({settingKey:n,label:i}){const t=$(Z,r=>r[n]),a=typeof t=="boolean"?t:!1;return e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:i}),e.jsx("div",{className:`setting-toggle ${a?"active":""}`,onClick:()=>Ee(n),role:"switch","aria-checked":a,tabIndex:0,onKeyDown:r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),Ee(n))}})]})}function fi(){const[n,i]=c.useState(!1),[t,a]=c.useState(!1),r=c.useCallback(()=>{const l=mi();if(l){const g=new Blob([l],{type:"application/json"}),m=URL.createObjectURL(g),f=document.createElement("a");f.href=m,f.download=`tingxie-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(m)}},[]),o=c.useCallback(()=>{n?(ui(),i(!1)):(i(!0),setTimeout(()=>i(!1),3e3))},[n]),d=c.useCallback(()=>{t?(pi(),a(!1)):(a(!0),setTimeout(()=>a(!1),3e3))},[t]);return e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"è®¾ç½®"})}),e.jsxs("main",{className:"settings-main",children:[e.jsxs("div",{className:"settings-section",children:[e.jsx("div",{className:"settings-title",children:"å­¦ä¹ è®¾ç½®"}),e.jsx(Q,{settingKey:"autoplay",label:"è‡ªåŠ¨æ’­æ”¾éŸ³é¢‘"}),e.jsx(Q,{settingKey:"traditional",label:"æ˜¾ç¤ºç¹ä½“å­—"}),e.jsx(Q,{settingKey:"pinyin",label:"æ˜¾ç¤ºæ‹¼éŸ³"}),e.jsx(Q,{settingKey:"vibration",label:"æŒ¯åŠ¨åé¦ˆ"})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("div",{className:"settings-title",children:"æ˜¾ç¤ºè®¾ç½®"}),e.jsx(Q,{settingKey:"darkmode",label:"æ·±è‰²æ¨¡å¼"}),e.jsx(Q,{settingKey:"largefont",label:"å¤§å­—ä½“æ¨¡å¼"}),e.jsx(Q,{settingKey:"simplified",label:"ç®€åŒ–ç•Œé¢"})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("div",{className:"settings-title",children:"å…¶ä»–è®¾ç½®"}),e.jsx(Q,{settingKey:"reminders",label:"å­¦ä¹ æé†’"}),e.jsx(Q,{settingKey:"analytics",label:"æ•°æ®ç»Ÿè®¡"})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("div",{className:"settings-title",children:"æ•°æ®ç®¡ç†"}),e.jsx("div",{className:"setting-item",children:e.jsx("button",{className:"setting-btn",onClick:r,children:"å¯¼å‡ºå­¦ä¹ æ•°æ®"})}),e.jsx("div",{className:"setting-item",children:e.jsx("button",{className:`setting-btn ${n?"danger":""}`,onClick:o,children:n?"ç¡®è®¤é‡ç½®ï¼Ÿ":"é‡ç½®å­¦ä¹ è¿›åº¦"})}),e.jsx("div",{className:"setting-item",children:e.jsx("button",{className:"setting-btn danger",onClick:d,children:t?"ç¡®è®¤æ¸…é™¤ï¼Ÿ":"æ¸…é™¤æ‰€æœ‰æ•°æ®"})})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("div",{className:"settings-title",children:"å…³äºŽ"}),e.jsxs("div",{className:"about-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"å¬å†™ç»ƒä¹ "})," v2.0.0"]}),e.jsx("p",{children:"å¸®åŠ©å­©å­ç»ƒä¹ ä¸­æ–‡å¬å†™çš„ç§»åŠ¨åº”ç”¨"}),e.jsx("p",{children:"é€‚ç”¨äºŽiPadå’ŒiPhoneè®¾å¤‡"})]})]})]})]})}const xi=H("/school-tingxie")({component:bi}),yi=["ä¸€","äºŒ","ä¸‰","å››","äº”","å…­","ä¸ƒ","å…«","ä¹","å"];function bi(){const[n,i]=c.useState(null),[t,a]=c.useState(!0),[r,o]=c.useState(null),[d,l]=c.useState(0),[g,m]=c.useState(0),[f,h]=c.useState(!1),[s,w]=c.useState(null),{play:j}=ne();c.useEffect(()=>{async function v(){try{const N=await fetch("/data/tingxie/school_vocabulary.json");if(!N.ok)throw new Error("Failed to load data");const P=await N.json();i(P)}catch(N){o(N instanceof Error?N.message:"Failed to load data")}finally{a(!1)}}v()},[]);const p=n==null?void 0:n.vocabulary[d],y=p==null?void 0:p.items[g],x=(p==null?void 0:p.items.length)||0;c.useEffect(()=>{h(!1)},[d,g]);const k=c.useCallback(v=>{l(v),m(0),h(!1)},[]),u=c.useCallback(()=>{g>0&&m(g-1)},[g]),b=c.useCallback(()=>{g<x-1&&m(g+1)},[g,x]),S=c.useCallback(async()=>{y!=null&&y.audio&&await j(y.audio)},[y,j]),R=c.useCallback(v=>{w(v)},[]),M=c.useCallback(async()=>{if(s){const v=`audio/${s.simplified}.mp3`;await j(v)}},[s,j]),L=c.useCallback(()=>{w(null)},[]),q=v=>v.type==="pinyin"?e.jsxs("div",{className:"sentence-content-wrapper",children:[e.jsx("div",{className:"pinyin-display",children:v.pinyin}),e.jsx("div",{className:`sentence-content ${f?"":"covered"}`,onClick:()=>!f&&h(!0),children:Y(v.characters||"",v.words)})]}):v.type==="moxie"?e.jsxs("div",{className:"sentence-content-wrapper",children:[v.label&&e.jsx("div",{className:"moxie-label",children:v.label}),e.jsx("div",{className:`sentence-content ${f?"":"covered"}`,onClick:()=>!f&&h(!0),children:Y(v.sentence||"",v.words)}),v.note&&f&&e.jsx("div",{className:"moxie-note",children:v.note})]}):e.jsx("div",{className:"sentence-content-wrapper",children:e.jsx("div",{className:`sentence-content ${f?"":"covered"}`,onClick:()=>!f&&h(!0),children:Y(v.sentence||"",v.words)})}),Y=(v,N)=>{if(!f||!(N!=null&&N.length))return v;const P=new Map;N.forEach(z=>{P.set(z.simplified,z)});const W=[...N].sort((z,B)=>B.simplified.length-z.simplified.length),I=[];let F=v,U=0;for(;U<F.length;){let z=!1;for(const B of W)if(F.slice(U).startsWith(B.simplified)){if(U>0){const D=F.slice(0,U);D&&I.push({text:D})}I.push({text:B.simplified,word:B}),F=F.slice(U+B.simplified.length),U=0,z=!0;break}z||U++}return F&&I.push({text:F}),I.map((z,B)=>z.word?e.jsx("span",{className:"word",onClick:D=>{D.stopPropagation(),R(z.word)},children:z.text},B):e.jsx("span",{children:z.text},B))},ee=v=>{const N=[];return v.type==="pinyin"?N.push(e.jsx("span",{className:"item-type-badge pinyin-type",children:"æ‹¼éŸ³"},"pinyin")):v.type==="moxie"&&N.push(e.jsx("span",{className:"item-type-badge moxie-type",children:"é»˜å†™"},"moxie")),v.difficult&&N.push(e.jsx("span",{className:"item-type-badge difficult",children:"éš¾"},"difficult")),N};return t?e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"ä¸‰å¹´çº§å¬å†™"})}),e.jsx("main",{className:"text-white text-center p-8",children:e.jsx("p",{children:"åŠ è½½ä¸­..."})})]}):r||!n?e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"ä¸‰å¹´çº§å¬å†™"})}),e.jsx("main",{className:"text-white text-center p-8",children:e.jsxs("p",{children:["åŠ è½½å¤±è´¥: ",r]})})]}):e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"ä¸‰å¹´çº§å¬å†™"})}),e.jsxs("main",{children:[e.jsx("div",{className:"set-selector",children:n.vocabulary.map((v,N)=>e.jsx("button",{className:`set-btn ${N===d?"active":""}`,onClick:()=>k(N),children:yi[N]||N+1},v.row))}),e.jsx("div",{className:"set-title",children:p==null?void 0:p.title}),y&&e.jsxs("div",{className:"sentence-card",children:[e.jsxs("div",{className:"item-number",children:["ç¬¬ ",g+1," é¢˜",ee(y)]}),e.jsx("button",{className:"audio-play-btn",onClick:S,children:"ðŸ”Š"}),q(y),!f&&e.jsx("button",{className:"reveal-btn",onClick:()=>h(!0),children:"æ˜¾ç¤ºç­”æ¡ˆ"}),f&&e.jsxs("div",{className:"answer-section",children:[e.jsxs("div",{className:"keyword-section",children:[e.jsx("div",{className:"keyword-label",children:"é‡ç‚¹è¯è¯­"}),e.jsx("div",{className:"keyword-text",children:y.keyword||y.characters})]}),e.jsx("div",{className:"english-translation",children:y.english})]})]}),e.jsxs("div",{className:"item-navigation",children:[e.jsx("button",{className:"item-nav-btn prev",onClick:u,disabled:g===0,children:"ä¸Šä¸€é¢˜"}),e.jsx("button",{className:"item-nav-btn next",onClick:b,disabled:g>=x-1,children:"ä¸‹ä¸€é¢˜"})]}),e.jsxs("div",{className:"progress-indicator",children:[g+1," / ",x]})]}),e.jsx("div",{className:`popup-overlay ${s?"show":""}`,onClick:L}),e.jsx("div",{className:`word-popup ${s?"show":""}`,children:s&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"popup-traditional",children:s.traditional}),e.jsxs("div",{className:"popup-simplified",children:["(",s.simplified,")"]}),e.jsx("div",{className:"popup-pinyin",children:s.pinyin}),e.jsx("div",{className:"popup-meaning",children:s.meaning}),e.jsx("button",{className:"popup-audio-btn",onClick:M,children:"ðŸ”Š å¬å‘éŸ³"}),e.jsx("br",{}),e.jsx("button",{className:"popup-close",onClick:L,children:"å…³é—­"})]})})]})}function wi({audioPath:n,revealed:i,onReveal:t,className:a}){const{play:r}=ne(),o=c.useCallback(async()=>{await r(n),t()},[n,r,t]);return e.jsx("button",{className:A("audio-btn",i?"revealed":"covered",a),onClick:o,"aria-label":"Play audio",children:"ðŸ”Š"})}const ji={simplified:O.SIMPLIFIED,traditional:O.TRADITIONAL,pinyin:O.PINYIN,english:O.ENGLISH};function ue({field:n,value:i,revealed:t,onToggle:a,className:r}){const o=ji[n];return e.jsx("div",{className:A("word-item",r),children:e.jsx("button",{className:A("content-btn",t?"revealed":"covered"),onClick:a,"aria-label":t?`Hide ${n}`:`Reveal ${n}`,children:t?i:o})})}const vi="modulepreload",ki=function(n){return"/"+n},Ie={},ke=function(i,t,a){let r=Promise.resolve();if(t&&t.length>0){let d=function(m){return Promise.all(m.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),g=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=d(t.map(m=>{if(m=ki(m),m in Ie)return;Ie[m]=!0;const f=m.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${h}`))return;const s=document.createElement("link");if(s.rel=f?"stylesheet":vi,f||(s.as="script"),s.crossOrigin="",s.href=m,g&&s.setAttribute("nonce",g),document.head.appendChild(s),f)return new Promise((w,j)=>{s.addEventListener("load",w),s.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(d){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=d,window.dispatchEvent(l),!l.defaultPrevented)throw d}return r.then(d=>{for(const l of d||[])l.status==="rejected"&&o(l.reason);return i().catch(o)})};function Ni({characters:n,onClose:i}){const[t,a]=c.useState(0),[r,o]=c.useState(0),[d,l]=c.useState(""),[g,m]=c.useState(!1),f=c.useRef(null),h=c.useRef(null),s=c.useRef(null),w=n[t],j=n.length;c.useEffect(()=>{(async()=>{try{const S=await ke(()=>import("https://cdn.jsdelivr.net/npm/hanzi-writer@3.7.3/+esm"),[]);s.current=S.default}catch(S){console.error("Failed to load HanziWriter:",S),l("æ— æ³•åŠ è½½ç¬”ç”»åº“"),m(!0)}})()},[]);const p=c.useCallback(()=>{if(!(!h.current||!s.current||!w)){h.current.innerHTML="",l(""),m(!1),o(0);try{f.current=s.current.create(h.current,w,{width:280,height:280,padding:20,showOutline:!0,showCharacter:!1,strokeAnimationSpeed:1,delayBetweenStrokes:100,strokeColor:"#333",outlineColor:"#ddd",drawingColor:"#4a90d9",drawingWidth:20,showHintAfterMisses:3,highlightOnComplete:!0,highlightColor:"#27ae60",charDataLoader:b=>fetch(`https://cdn.jsdelivr.net/npm/hanzi-writer-data@2.0/${b}.json`).then(S=>{if(!S.ok)throw new Error("Character not found");return S.json()})}),f.current.quiz({onMistake:b=>{l(`ç¬¬ ${b.strokeNum+1} ç¬”: å†è¯•ä¸€æ¬¡ï¼`),m(!0)},onCorrectStroke:b=>{o(b.strokeNum+1),l(`ç¬¬ ${b.strokeNum+1} ç¬”: æ­£ç¡®ï¼`),m(!1)},onComplete:b=>{const S=b.totalMistakes;l(S===0?"å®Œç¾Žï¼æ²¡æœ‰é”™è¯¯ï¼":`å®Œæˆï¼${S} ä¸ªé”™è¯¯`),m(!1)}})}catch(b){console.error("Failed to create HanziWriter:",b),l("æ— æ³•åŠ è½½è¯¥å­—ç¬¦"),m(!0)}}},[w]);c.useEffect(()=>{s.current&&p()},[p,t]),c.useEffect(()=>{const b=setInterval(()=>{s.current&&h.current&&(p(),clearInterval(b))},100);return()=>clearInterval(b)},[p]);const y=()=>{f.current&&f.current.highlightStroke(r)},x=()=>{p()},k=()=>{t>0&&a(t-1)},u=()=>{t<j-1&&a(t+1)};return e.jsxs("div",{className:"handwriting-embed",children:[e.jsxs("div",{className:"handwriting-embed-header",children:[e.jsx("h3",{children:"ç¬”ç”»ç»ƒä¹ "}),e.jsx("button",{className:"close-btn",onClick:i,children:"âœ•"})]}),e.jsx("div",{className:"character-display-embed",children:e.jsxs("span",{children:[n,j>1&&` (${t+1}/${j})`]})}),e.jsx("div",{id:"handwriting-writer-container",children:e.jsx("div",{ref:h,id:"handwriting-target"})}),e.jsxs("div",{className:"handwriting-controls-embed",children:[e.jsx("button",{className:"handwriting-action-btn",onClick:y,children:"æ˜¾ç¤ºæç¤º"}),e.jsx("button",{className:"handwriting-action-btn reset",onClick:x,children:"é‡ç½®"})]}),j>1&&e.jsxs("div",{className:"handwriting-char-nav",children:[e.jsx("button",{className:"char-nav-btn",onClick:k,disabled:t===0,children:"â† ä¸Šä¸€ä¸ªå­—"}),e.jsx("button",{className:"char-nav-btn",onClick:u,disabled:t>=j-1,children:"ä¸‹ä¸€ä¸ªå­— â†’"})]}),e.jsx("div",{className:A("handwriting-status",g&&"error"),children:d})]})}function Ci(n){return`/images/${n}.png`}function Qe({word:n,currentIndex:i,totalWords:t,revealState:a,onToggleReveal:r,className:o}){const[d,l]=c.useState(!1),[g,m]=c.useState(!1),f=Ci(n.simplified);c.useEffect(()=>{m(!1),fetch(f,{method:"GET",headers:{Range:"bytes=0-0"}}).then(s=>m(s.ok||s.status===206)).catch(()=>m(!1))},[n.simplified,f]);const h=()=>{l(!d)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:A("word-card",o),children:[e.jsxs("div",{className:"card-progress",children:[i+1," / ",t]}),g&&e.jsx("div",{className:"word-image-container",children:e.jsx("img",{src:f,alt:n.english,className:"word-memory-image"})}),e.jsxs("div",{className:"word-section",children:[e.jsx("div",{className:"audio-item",children:e.jsx(wi,{audioPath:n.audio,revealed:a.audio,onReveal:()=>r("audio")})}),e.jsx(ue,{field:"simplified",value:n.simplified,revealed:a.simplified,onToggle:()=>r("simplified")}),e.jsx(ue,{field:"traditional",value:n.traditional,revealed:a.traditional,onToggle:()=>r("traditional")}),e.jsx(ue,{field:"pinyin",value:n.pinyin,revealed:a.pinyin,onToggle:()=>r("pinyin")}),e.jsx(ue,{field:"english",value:n.english,revealed:a.english,onToggle:()=>r("english")})]}),e.jsx("div",{className:"handwriting-controls",children:e.jsx("button",{className:A("handwriting-btn",d&&"active"),onClick:h,children:"âœï¸ ç¬”ç”»ç»ƒä¹ "})})]}),d&&e.jsx(Ni,{characters:n.simplified,onClose:()=>l(!1)},n.simplified)]})}function Xe({onKnow:n,onDontKnow:i,className:t}){return e.jsxs("div",{className:A("assess-buttons",t),children:[e.jsx("button",{className:"assess-btn know",onClick:n,children:O.KNOW_BTN}),e.jsx("button",{className:"assess-btn dont-know",onClick:i,children:O.DONT_KNOW_BTN})]})}function Je(){let n=localStorage.getItem(G.STUDENT_ID);return n||(n=`student_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,localStorage.setItem(G.STUDENT_ID,n)),n}async function Si(n){try{const i=await fetch(`${V.API_PROGRESS_PATH}?studentId=${encodeURIComponent(n)}`),t=i.headers.get("content-type"),a=t!==null&&t.includes("application/json");return!i.ok||!a?(console.log("Cloud API not available (local development mode)"),{knownWords:[],unknownWords:[],lastUpdated:null}):await i.json()}catch{return console.log("Cloud sync not available - using local mode only"),{knownWords:[],unknownWords:[],lastUpdated:null}}}async function Ai(n){const{MAX_ATTEMPTS:i,INITIAL_DELAY:t}=V.RETRY;for(let a=1;a<=i;a++)try{const r=await fetch(V.API_PROGRESS_PATH,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),o=r.headers.get("content-type");if(!(o!==null&&o.includes("application/json"))||r.status===404)return console.log("Cloud API not available (local development mode) - progress not saved to cloud"),{success:!0};if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const l=await r.json();if(l.success)return console.log(`Progress saved to cloud (attempt ${a}/${i})`),l;throw new Error("Save returned success: false")}catch(r){if(console.error(`Failed to save progress (attempt ${a}/${i}):`,r),a===i)throw r;await new Promise(o=>setTimeout(o,a*t))}throw new Error("Failed to save progress after all retries")}function Ne(){const n=Je();return ae({queryKey:["progress",n],queryFn:()=>Si(n),staleTime:0})}function Ze(){const n=Oe(),i=Je();return on({mutationFn:t=>Ai({studentId:i,knownWords:[...new Set(t.knownWords)],unknownWords:[...new Set(t.unknownWords)]}),onSuccess:t=>{t.progress&&n.setQueryData(["progress",i],t.progress)},onError:t=>{console.error("Failed to save progress:",t)}})}const Ti=H("/review")({component:Ri});function Ri(){const{data:n,isLoading:i,error:t}=ae(ge),{data:a,isLoading:r}=Ne(),o=Ze(),d=$(E,y=>y.currentWordIndex),l=$(E,y=>y.revealState),g=$(E,y=>y.knownWords),m=$(E,y=>y.unknownWords);c.useEffect(()=>{a&&$e(a.knownWords||[],a.unknownWords||[])},[a]),c.useEffect(()=>{Ae(0)},[]);const f=c.useMemo(()=>!n||m.size===0?[]:fe(n).filter(x=>m.has(x.simplified)),[n,m]),h=f[d],s=f.length,w=()=>{if(!h)return;De(h);const y=new Set(g);y.add(h.simplified);const x=new Set(m);x.delete(h.simplified),o.mutate({knownWords:Array.from(y),unknownWords:Array.from(x)}),d>=s-1?s>1&&Ae(Math.max(0,d-1)):se(s)},j=()=>{if(!h)return;He(h);const y=new Set(g);y.delete(h.simplified);const x=new Set(m);x.add(h.simplified),o.mutate({knownWords:Array.from(y),unknownWords:Array.from(x)}),se(s)},p=y=>{qe(y)};return i||r?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):t?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:de.DATA_LOAD})}):s===0?e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"å¤ä¹ è¯è¯­"})}),e.jsx("main",{className:"empty-state-container",children:e.jsxs("div",{className:"empty-state-card",children:[e.jsx("div",{className:"empty-state-icon",children:"ðŸŽ‰"}),e.jsx("h2",{className:"empty-state-title",children:"æ²¡æœ‰éœ€è¦å¤ä¹ çš„è¯è¯­"}),e.jsx("p",{className:"empty-state-subtitle",children:"å¤ªæ£’äº†ï¼ä½ å·²ç»æŽŒæ¡äº†æ‰€æœ‰è¯è¯­"}),e.jsx("p",{className:"empty-state-hint",children:"åœ¨æœ€æ–°è¯è¯­é¡µé¢æ ‡è®°ä¸ä¼šçš„è¯è¯­ï¼Œè¿™é‡Œå°±ä¼šå‡ºçŽ°éœ€è¦å¤ä¹ çš„å†…å®¹"})]})})]}):e.jsxs("div",{children:[e.jsxs("header",{className:"header-row",children:[e.jsx("h1",{className:"page-title",children:"å¤ä¹ è¯è¯­"}),e.jsx("div",{className:"controls",children:e.jsxs("div",{className:"progress-display",children:[d+1," / ",s]})})]}),e.jsxs("main",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"nav-buttons",children:[e.jsx("button",{className:"nav-btn",onClick:_e,disabled:d===0,children:O.PREV_BTN}),e.jsx("button",{className:"nav-btn",onClick:()=>se(s),disabled:d>=s-1,children:O.NEXT_BTN})]}),e.jsx(Qe,{word:h,currentIndex:d,totalWords:s,revealState:l,onToggleReveal:p},h.simplified),e.jsx(Xe,{onKnow:w,onDontKnow:j})]})]})}const Ei=H("/radicals")({component:Wi}),Ii={queryKey:["radicals"],queryFn:async()=>{const n=await fetch("/data/radicals/radicals.json");if(!n.ok)throw new Error("Failed to load radicals data");return n.json()},staleTime:1e3*60*60},Pi=[{label:"All",value:"all"},{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"},{label:"8+",value:"8+"}];function Wi(){const[n,i]=c.useState(""),[t,a]=c.useState("all"),{play:r}=ne(),{data:o,isLoading:d,error:l}=ae(Ii),g=c.useMemo(()=>{if(!(o!=null&&o.radicals))return[];let h=o.radicals;if(t!=="all")if(t==="8+")h=h.filter(s=>s.strokes>=8);else{const s=parseInt(t,10);h=h.filter(w=>w.strokes===s)}if(n.trim()){const s=n.toLowerCase().trim();h=h.filter(w=>w.radical.includes(s)||w.traditional&&w.traditional.includes(s)||w.pinyin.toLowerCase().includes(s)||w.meaning.toLowerCase().includes(s)||w.examples.some(j=>j.includes(s)))}return h},[o,t,n]),m=(h,s)=>{s.stopPropagation(),r(h)};if(d)return e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})});if(l)return e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"Failed to load radicals data"})});const f=(o==null?void 0:o.radicals.length)||0;return e.jsxs("div",{children:[e.jsx("header",{children:e.jsx("div",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"Radicals"})})}),e.jsxs("main",{className:"vocabulary-main",children:[e.jsx("div",{className:"search-container",children:e.jsx("input",{type:"text",className:"search-input",placeholder:"Search radical, pinyin, or meaning...",value:n,onChange:h=>i(h.target.value)})}),e.jsx("div",{className:"stroke-filters",children:Pi.map(h=>e.jsx("button",{className:A("stroke-btn",t===h.value&&"active"),onClick:()=>a(h.value),children:h.label},h.value))}),e.jsxs("div",{className:"stats-bar",children:[e.jsxs("span",{children:["Showing: ",g.length," radicals"]}),e.jsxs("span",{children:["Total: ",f]})]}),e.jsx("div",{className:"radicals-grid",children:g.map(h=>e.jsxs("div",{className:"radical-card",children:[e.jsxs("div",{className:"radical-header",children:[e.jsxs("div",{className:"radical-characters",children:[e.jsx("span",{className:"radical-character",children:h.radical}),h.traditional&&h.traditional!==h.radical&&e.jsx("span",{className:"radical-traditional",children:h.traditional})]}),e.jsxs("span",{className:"radical-number",children:[h.strokes," strokes"]})]}),e.jsx("div",{className:"radical-pinyin",children:h.pinyin}),e.jsx("div",{className:"radical-meaning",children:h.meaning}),e.jsx("div",{className:"radical-examples",children:h.examples.map((s,w)=>e.jsx("span",{className:"example-char",children:s},w))}),e.jsx("button",{className:"radical-audio",onClick:s=>m(h.audio,s),"aria-label":`Play audio for ${h.radical}`,children:e.jsx("span",{role:"img","aria-hidden":"true",children:"ðŸ”Š"})})]},h.number))}),g.length===0&&e.jsxs("div",{className:"text-center text-white py-10",children:[e.jsx("p",{className:"text-xl",children:"No radicals found"}),e.jsx("p",{className:"text-sm opacity-70 mt-2",children:"Try adjusting your search or filter"})]})]})]})}const zi=H("/phrase-matching")({component:Li});function Li(){return e.jsxs("div",{className:"phrase-matching-page",children:[e.jsxs("div",{className:"lesson-header lesson-header-purple",children:[e.jsx("h1",{children:"è¯è¯­æ­é…"}),e.jsx("div",{className:"lesson-subtitle",children:"Word-Phrase Matching Practice"})]}),e.jsx("div",{className:"content-container",children:e.jsxs("div",{className:"coming-soon-box",children:[e.jsx("div",{className:"coming-soon-icon",children:"ðŸ”œ"}),e.jsx("h2",{className:"coming-soon-title",children:"å³å°†æŽ¨å‡º"}),e.jsx("p",{className:"coming-soon-text",children:"Coming Soon"}),e.jsx("p",{className:"coming-soon-description",children:"è¯è¯­æ­é…ç»ƒä¹ åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ï¼"})]})})]})}const Oi=H("/p3hcl-wupin-interactive")({component:Mi});function Mi(){return e.jsxs("div",{children:[e.jsx("header",{className:"mb-5",children:e.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-md",children:"äº’åŠ¨é˜…è¯»"})}),e.jsx("main",{className:"text-white",children:e.jsx("p",{children:"Interactive reading - Coming soon"})})]})}const _i=H("/p3hcl-reading-sync")({component:Hi}),ie={"ã€":{simplified:"ã€",traditional:"ã€",pinyin:"",meaning:"enumeration comma"},"ï¼Œ":{simplified:"ï¼Œ",traditional:"ï¼Œ",pinyin:"",meaning:"comma"},"ã€‚":{simplified:"ã€‚",traditional:"ã€‚",pinyin:"",meaning:"period"},"ï¼":{simplified:"ï¼",traditional:"ï¼",pinyin:"",meaning:"exclamation mark"},å•Š:{simplified:"å•Š",traditional:"å•Š",pinyin:"a",meaning:"particle (exclamation)"},å¤©è¿˜æ²¡äº®:{simplified:"å¤©è¿˜æ²¡äº®",traditional:"å¤©é‚„æ²’äº®",pinyin:"tiÄn hÃ¡i mÃ©i liÃ ng",meaning:"before dawn; sky not yet bright",audio:"audio/å¤©è¿˜æ²¡äº®.mp3"},å¤©åˆšåˆšäº®:{simplified:"å¤©åˆšåˆšäº®",traditional:"å¤©å‰›å‰›äº®",pinyin:"tiÄn gÄng gÄng liÃ ng",meaning:"just at dawn; sky just brightened",audio:"audio/å¤©åˆšåˆšäº®.mp3"},ä¸Šåˆ:{simplified:"ä¸Šåˆ",traditional:"ä¸Šåˆ",pinyin:"shÃ ng wÇ”",meaning:"morning (before noon)",audio:"audio/ä¸Šåˆ.mp3"},ä¸­åˆ:{simplified:"ä¸­åˆ",traditional:"ä¸­åˆ",pinyin:"zhÅng wÇ”",meaning:"noon; midday",audio:"audio/ä¸­åˆ.mp3"},ä¸‹åˆ:{simplified:"ä¸‹åˆ",traditional:"ä¸‹åˆ",pinyin:"xiÃ  wÇ”",meaning:"afternoon",audio:"audio/ä¸‹åˆ.mp3"},å‚æ™š:{simplified:"å‚æ™š",traditional:"å‚æ™š",pinyin:"bÃ ng wÇŽn",meaning:"evening; dusk",audio:"audio/å‚æ™š.mp3"},èµ·åºŠ:{simplified:"èµ·åºŠ",traditional:"èµ·åºŠ",pinyin:"qÇ chuÃ¡ng",meaning:"get out of bed; wake up",audio:"audio/èµ·åºŠ.mp3"},é—¹é’Ÿ:{simplified:"é—¹é’Ÿ",traditional:"é¬§é˜",pinyin:"nÃ o zhÅng",meaning:"alarm clock",audio:"audio/é—¹é’Ÿ.mp3"},çˆ¸çˆ¸:{simplified:"çˆ¸çˆ¸",traditional:"çˆ¸çˆ¸",pinyin:"bÃ  ba",meaning:"father; dad",audio:"audio/çˆ¸çˆ¸.mp3"},å¦ˆå¦ˆ:{simplified:"å¦ˆå¦ˆ",traditional:"åª½åª½",pinyin:"mÄ ma",meaning:"mother; mom",audio:"audio/å¦ˆå¦ˆ.mp3"},æ¥åˆ°:{simplified:"æ¥åˆ°",traditional:"ä¾†åˆ°",pinyin:"lÃ¡i dÃ o",meaning:"arrive at; come to",audio:"audio/æ¥åˆ°.mp3"},å­¦æ ¡:{simplified:"å­¦æ ¡",traditional:"å­¸æ ¡",pinyin:"xuÃ© xiÃ o",meaning:"school",audio:"audio/å­¦æ ¡.mp3"},ç¤¼å ‚:{simplified:"ç¤¼å ‚",traditional:"ç¦®å ‚",pinyin:"lÇ tÃ¡ng",meaning:"auditorium; hall",audio:"audio/ç¤¼å ‚.mp3"},é›†åˆ:{simplified:"é›†åˆ",traditional:"é›†åˆ",pinyin:"jÃ­ hÃ©",meaning:"gather; assemble",audio:"audio/é›†åˆ.mp3"},è€å¸ˆ:{simplified:"è€å¸ˆ",traditional:"è€å¸«",pinyin:"lÇŽo shÄ«",meaning:"teacher",audio:"audio/è€å¸ˆ.mp3"},å¸¦ç€:{simplified:"å¸¦ç€",traditional:"å¸¶è‘—",pinyin:"dÃ i zhe",meaning:"bringing along; leading",audio:"audio/å¸¦ç€.mp3"},åŒå­¦ä»¬:{simplified:"åŒå­¦ä»¬",traditional:"åŒå­¸å€‘",pinyin:"tÃ³ng xuÃ© men",meaning:"classmates",audio:"audio/åŒå­¦ä»¬.mp3"},æ–°åŠ å¡:{simplified:"æ–°åŠ å¡",traditional:"æ–°åŠ å¡",pinyin:"xÄ«n jiÄ pÅ",meaning:"Singapore",audio:"audio/æ–°åŠ å¡.mp3"},æ»¨æµ·è‰ºæœ¯ä¸­å¿ƒ:{simplified:"æ»¨æµ·è‰ºæœ¯ä¸­å¿ƒ",traditional:"æ¿±æµ·è—è¡“ä¸­å¿ƒ",pinyin:"bÄ«n hÇŽi yÃ¬ shÃ¹ zhÅng xÄ«n",meaning:"Esplanade (arts centre)",audio:"audio/æ»¨æµ·è‰ºæœ¯ä¸­å¿ƒ.mp3"},ç”»å±•:{simplified:"ç”»å±•",traditional:"ç•«å±•",pinyin:"huÃ  zhÇŽn",meaning:"art exhibition",audio:"audio/ç”»å±•.mp3"},é™„è¿‘:{simplified:"é™„è¿‘",traditional:"é™„è¿‘",pinyin:"fÃ¹ jÃ¬n",meaning:"nearby; vicinity",audio:"audio/é™„è¿‘.mp3"},ç¾Žå‘³:{simplified:"ç¾Žå‘³",traditional:"ç¾Žå‘³",pinyin:"mÄ›i wÃ¨i",meaning:"delicious",audio:"audio/ç¾Žå‘³.mp3"},é£Ÿç‰©:{simplified:"é£Ÿç‰©",traditional:"é£Ÿç‰©",pinyin:"shÃ­ wÃ¹",meaning:"food",audio:"audio/é£Ÿç‰©.mp3"},å‚è§‚:{simplified:"å‚è§‚",traditional:"åƒè§€",pinyin:"cÄn guÄn",meaning:"visit (a place)",audio:"audio/å‚è§‚.mp3"},æ»¨æµ·æ¹¾:{simplified:"æ»¨æµ·æ¹¾",traditional:"æ¿±æµ·ç£",pinyin:"bÄ«n hÇŽi wÄn",meaning:"Marina Bay",audio:"audio/æ»¨æµ·æ¹¾.mp3"},é±¼å°¾ç‹®:{simplified:"é±¼å°¾ç‹®",traditional:"é­šå°¾ç…",pinyin:"yÃº wÄ›i shÄ«",meaning:"Merlion",audio:"audio/é±¼å°¾ç‹®.mp3"},å…¬å›­:{simplified:"å…¬å›­",traditional:"å…¬åœ’",pinyin:"gÅng yuÃ¡n",meaning:"park",audio:"audio/å…¬å›­.mp3"},å¤œå¸‚:{simplified:"å¤œå¸‚",traditional:"å¤œå¸‚",pinyin:"yÃ¨ shÃ¬",meaning:"night market",audio:"audio/å¤œå¸‚.mp3"},å“å°:{simplified:"å“å°",traditional:"å“åš",pinyin:"pÇn chÃ¡ng",meaning:"taste; sample",audio:"audio/å“å°.mp3"},ç¾Žé£Ÿ:{simplified:"ç¾Žé£Ÿ",traditional:"ç¾Žé£Ÿ",pinyin:"mÄ›i shÃ­",meaning:"delicious food; cuisine",audio:"audio/ç¾Žé£Ÿ.mp3"},ä»Šå¤©:{simplified:"ä»Šå¤©",traditional:"ä»Šå¤©",pinyin:"jÄ«n tiÄn",meaning:"today",audio:"audio/ä»Šå¤©.mp3"},ç‰¹åˆ«:{simplified:"ç‰¹åˆ«",traditional:"ç‰¹åˆ¥",pinyin:"tÃ¨ biÃ©",meaning:"special; especially",audio:"audio/ç‰¹åˆ«.mp3"},æ—¥å­:{simplified:"æ—¥å­",traditional:"æ—¥å­",pinyin:"rÃ¬ zi",meaning:"day; date",audio:"audio/æ—¥å­.mp3"},å‡æœŸ:{simplified:"å‡æœŸ",traditional:"å‡æœŸ",pinyin:"jiÃ  qÄ«",meaning:"holiday; vacation",audio:"audio/å‡æœŸ.mp3"},å°ä¸½:{simplified:"å°ä¸½",traditional:"å°éº—",pinyin:"xiÇŽo lÃ¬",meaning:"Xiao Li (girl's name)",audio:"audio/å°ä¸½.mp3"},åˆ·ç‰™:{simplified:"åˆ·ç‰™",traditional:"åˆ·ç‰™",pinyin:"shuÄ yÃ¡",meaning:"brush teeth",audio:"audio/åˆ·ç‰™.mp3"},æ‰€æœ‰:{simplified:"æ‰€æœ‰",traditional:"æ‰€æœ‰",pinyin:"suÇ’ yÇ’u",meaning:"all; every",audio:"audio/æ‰€æœ‰.mp3"},å¤–å‡º:{simplified:"å¤–å‡º",traditional:"å¤–å‡º",pinyin:"wÃ i chÅ«",meaning:"go out; outing",audio:"audio/å¤–å‡º.mp3"},éœ€è¦:{simplified:"éœ€è¦",traditional:"éœ€è¦",pinyin:"xÅ« yÃ o",meaning:"need; require",audio:"audio/éœ€è¦.mp3"},ç”¨å“:{simplified:"ç”¨å“",traditional:"ç”¨å“",pinyin:"yÃ²ng pÇn",meaning:"supplies; articles",audio:"audio/ç”¨å“.mp3"},å‡†å¤‡:{simplified:"å‡†å¤‡",traditional:"æº–å‚™",pinyin:"zhÇ”n bÃ¨i",meaning:"prepare; get ready",audio:"audio/å‡†å¤‡.mp3"},å®¶äºº:{simplified:"å®¶äºº",traditional:"å®¶äºº",pinyin:"jiÄ rÃ©n",meaning:"family members",audio:"audio/å®¶äºº.mp3"},ä¸€èµ·:{simplified:"ä¸€èµ·",traditional:"ä¸€èµ·",pinyin:"yÄ« qÇ",meaning:"together",audio:"audio/ä¸€èµ·.mp3"},ä¸œæµ·å²¸å…¬å›­:{simplified:"ä¸œæµ·å²¸å…¬å›­",traditional:"æ±æµ·å²¸å…¬åœ’",pinyin:"dÅng hÇŽi Ã n gÅng yuÃ¡n",meaning:"East Coast Park",audio:"audio/ä¸œæµ·å²¸å…¬å›­.mp3"},å‡ºå‘:{simplified:"å‡ºå‘",traditional:"å‡ºç™¼",pinyin:"chÅ« fÄ",meaning:"set off; depart",audio:"audio/å‡ºå‘.mp3"},ä¸€ä¼šå„¿:{simplified:"ä¸€ä¼šå„¿",traditional:"ä¸€æœƒå…’",pinyin:"yÄ« huÃ¬r",meaning:"a while; a moment",audio:"audio/ä¸€ä¼šå„¿.mp3"},è„šè¸è½¦:{simplified:"è„šè¸è½¦",traditional:"è…³è¸è»Š",pinyin:"jiÇŽo tÃ  chÄ“",meaning:"bicycle",audio:"audio/è„šè¸è½¦.mp3"},æºœæ»‘è½®:{simplified:"æºœæ»‘è½®",traditional:"æºœæ»‘è¼ª",pinyin:"liÅ« huÃ¡ lÃºn",meaning:"roller skating; rollerblading",audio:"audio/æºœæ»‘è½®.mp3"},å¼€å¿ƒ:{simplified:"å¼€å¿ƒ",traditional:"é–‹å¿ƒ",pinyin:"kÄi xÄ«n",meaning:"happy; joyful",audio:"audio/å¼€å¿ƒ.mp3"},æžäº†:{simplified:"æžäº†",traditional:"æ¥µäº†",pinyin:"jÃ­ le",meaning:"extremely; to the utmost",audio:"audio/æžäº†.mp3"},æ‘†æ”¾:{simplified:"æ‘†æ”¾",traditional:"æ“ºæ”¾",pinyin:"bÇŽi fÃ ng",meaning:"arrange; set out",audio:"audio/æ‘†æ”¾.mp3"},å¸­å­:{simplified:"å¸­å­",traditional:"å¸­å­",pinyin:"xÃ­ zi",meaning:"mat; straw mat",audio:"audio/å¸­å­.mp3"},å¼€å§‹:{simplified:"å¼€å§‹",traditional:"é–‹å§‹",pinyin:"kÄi shÇ",meaning:"start; begin",audio:"audio/å¼€å§‹.mp3"},è·Ÿç€:{simplified:"è·Ÿç€",traditional:"è·Ÿè‘—",pinyin:"gÄ“n zhe",meaning:"follow; following",audio:"audio/è·Ÿç€.mp3"},æµ·è¾¹:{simplified:"æµ·è¾¹",traditional:"æµ·é‚Š",pinyin:"hÇŽi biÄn",meaning:"seaside; beach",audio:"audio/æµ·è¾¹.mp3"},é’“é±¼:{simplified:"é’“é±¼",traditional:"é‡£é­š",pinyin:"diÃ o yÃº",meaning:"go fishing",audio:"audio/é’“é±¼.mp3"},å¤ªé˜³:{simplified:"å¤ªé˜³",traditional:"å¤ªé™½",pinyin:"tÃ i yÃ¡ng",meaning:"sun",audio:"audio/å¤ªé˜³.mp3"},ä¸‹å±±:{simplified:"ä¸‹å±±",traditional:"ä¸‹å±±",pinyin:"xiÃ  shÄn",meaning:"go down a mountain; set (sun)",audio:"audio/ä¸‹å±±.mp3"},ä¾ä¾ä¸èˆ:{simplified:"ä¾ä¾ä¸èˆ",traditional:"ä¾ä¾ä¸æ¨",pinyin:"yÄ« yÄ« bÃ¹ shÄ›",meaning:"reluctant to part; lingering",audio:"audio/ä¾ä¾ä¸èˆ.mp3"},å›žå®¶:{simplified:"å›žå®¶",traditional:"å›žå®¶",pinyin:"huÃ­ jiÄ",meaning:"go home; return home",audio:"audio/å›žå®¶.mp3"},è¿‡å¾—:{simplified:"è¿‡å¾—",traditional:"éŽå¾—",pinyin:"guÃ² de",meaning:"to pass (time); to live",audio:"audio/è¿‡å¾—.mp3"},çœŸå¿«:{simplified:"çœŸå¿«",traditional:"çœŸå¿«",pinyin:"zhÄ“n kuÃ i",meaning:"really fast",audio:"audio/çœŸå¿«.mp3"},å¤©:{simplified:"å¤©",traditional:"å¤©",pinyin:"tiÄn",meaning:"day; sky"},è¿˜:{simplified:"è¿˜",traditional:"é‚„",pinyin:"hÃ¡i",meaning:"still; also"},æ²¡:{simplified:"æ²¡",traditional:"æ²’",pinyin:"mÃ©i",meaning:"not; have not"},äº®:{simplified:"äº®",traditional:"äº®",pinyin:"liÃ ng",meaning:"bright; light"},æˆ‘:{simplified:"æˆ‘",traditional:"æˆ‘",pinyin:"wÇ’",meaning:"I; me"},å°±:{simplified:"å°±",traditional:"å°±",pinyin:"jiÃ¹",meaning:"then; just"},äº†:{simplified:"äº†",traditional:"äº†",pinyin:"le",meaning:"particle (completed action)"},ä¸:{simplified:"ä¸",traditional:"ä¸",pinyin:"bÃ¹",meaning:"not; no"},ç­‰:{simplified:"ç­‰",traditional:"ç­‰",pinyin:"dÄ›ng",meaning:"wait; and so on"},å“:{simplified:"å“",traditional:"éŸ¿",pinyin:"xiÇŽng",meaning:"sound; ring",audio:"audio/å“.mp3"},ä¹Ÿ:{simplified:"ä¹Ÿ",traditional:"ä¹Ÿ",pinyin:"yÄ›",meaning:"also; too"},ç”¨:{simplified:"ç”¨",traditional:"ç”¨",pinyin:"yÃ²ng",meaning:"use"},å«:{simplified:"å«",traditional:"å«",pinyin:"jiÃ o",meaning:"call; shout",audio:"audio/å«.mp3"},åˆš:{simplified:"åˆš",traditional:"å‰›",pinyin:"gÄng",meaning:"just; barely"},çš„:{simplified:"çš„",traditional:"çš„",pinyin:"de",meaning:"particle (possessive)"},åˆ°:{simplified:"åˆ°",traditional:"åˆ°",pinyin:"dÃ o",meaning:"arrive; to"},åŽ»:{simplified:"åŽ»",traditional:"åŽ»",pinyin:"qÃ¹",meaning:"go"},çœ‹:{simplified:"çœ‹",traditional:"çœ‹",pinyin:"kÃ n",meaning:"look; see; watch"},åœ¨:{simplified:"åœ¨",traditional:"åœ¨",pinyin:"zÃ i",meaning:"at; in"},åƒ:{simplified:"åƒ",traditional:"åƒ",pinyin:"chÄ«",meaning:"eat"},ä»¬:{simplified:"ä»¬",traditional:"å€‘",pinyin:"men",meaning:"plural suffix (for people)"},é€›:{simplified:"é€›",traditional:"é€›",pinyin:"guÃ ng",meaning:"stroll; browse",audio:"audio/é€›.mp3"},çœŸ:{simplified:"çœŸ",traditional:"çœŸ",pinyin:"zhÄ“n",meaning:"really; truly"},æ˜¯:{simplified:"æ˜¯",traditional:"æ˜¯",pinyin:"shÃ¬",meaning:"is; am; are"},ä¸€:{simplified:"ä¸€",traditional:"ä¸€",pinyin:"yÄ«",meaning:"one"},ä¸ª:{simplified:"ä¸ª",traditional:"å€‹",pinyin:"gÃ¨",meaning:"measure word"},é‡Œ:{simplified:"é‡Œ",traditional:"è£¡",pinyin:"lÇ",meaning:"inside"},æŠŠ:{simplified:"æŠŠ",traditional:"æŠŠ",pinyin:"bÇŽ",meaning:"particle (object marker)"},éƒ½:{simplified:"éƒ½",traditional:"éƒ½",pinyin:"dÅu",meaning:"all; both"},å¥½:{simplified:"å¥½",traditional:"å¥½",pinyin:"hÇŽo",meaning:"good; well"},å’Œ:{simplified:"å’Œ",traditional:"å’Œ",pinyin:"hÃ©",meaning:"and; with"},å‘:{simplified:"å‘",traditional:"å‘",pinyin:"xiÃ ng",meaning:"towards"},ä»–:{simplified:"ä»–",traditional:"ä»–",pinyin:"tÄ",meaning:"he; him"},ä»–ä»¬:{simplified:"ä»–ä»¬",traditional:"ä»–å€‘",pinyin:"tÄ men",meaning:"they; them"},éª‘:{simplified:"éª‘",traditional:"é¨Ž",pinyin:"qÃ­",meaning:"ride (bicycle/horse)",audio:"audio/éª‘.mp3"},ä¸Š:{simplified:"ä¸Š",traditional:"ä¸Š",pinyin:"shÃ ng",meaning:"on; above; up"},ä¾¿:{simplified:"ä¾¿",traditional:"ä¾¿",pinyin:"biÃ n",meaning:"then; thereupon",audio:"audio/ä¾¿.mp3"},ç€:{simplified:"ç€",traditional:"è‘—",pinyin:"zhe",meaning:"particle (continuous action)"},å¿«:{simplified:"å¿«",traditional:"å¿«",pinyin:"kuÃ i",meaning:"fast; quick; soon"},åœ°:{simplified:"åœ°",traditional:"åœ°",pinyin:"de/dÃ¬",meaning:"particle (adverbial) / earth"},è¿™:{simplified:"è¿™",traditional:"é€™",pinyin:"zhÃ¨",meaning:"this"},ä¸ç­‰:{simplified:"ä¸ç­‰",traditional:"ä¸ç­‰",pinyin:"bÃ¹ dÄ›ng",meaning:"not wait for"},ä¸ç”¨:{simplified:"ä¸ç”¨",traditional:"ä¸ç”¨",pinyin:"bÃ¹ yÃ²ng",meaning:"need not; don't need to"},æˆ‘ä»¬:{simplified:"æˆ‘ä»¬",traditional:"æˆ‘å€‘",pinyin:"wÇ’ men",meaning:"we; us"},é±¼å°¾ç‹®å…¬å›­:{simplified:"é±¼å°¾ç‹®å…¬å›­",traditional:"é­šå°¾ç…å…¬åœ’",pinyin:"yÃº wÄ›i shÄ« gÅng yuÃ¡n",meaning:"Merlion Park"},å‡†å¤‡å¥½:{simplified:"å‡†å¤‡å¥½",traditional:"æº–å‚™å¥½",pinyin:"zhÇ”n bÃ¨i hÇŽo",meaning:"prepared; ready"},å¼€å¿ƒæžäº†:{simplified:"å¼€å¿ƒæžäº†",traditional:"é–‹å¿ƒæ¥µäº†",pinyin:"kÄi xÄ«n jÃ­ le",meaning:"extremely happy"}},en=[{id:1,title:"ä¸€ã€å¤©è¿˜æ²¡äº®ã€å¤©åˆšåˆšäº®ã€ä¸Šåˆã€ä¸­åˆã€ä¸‹åˆã€å‚æ™š",sequenceWords:"å¤©è¿˜æ²¡äº®ã€å¤©åˆšåˆšäº®ã€ä¸Šåˆã€ä¸­åˆã€ä¸‹åˆã€å‚æ™š",sentences:[{text:"ä¸€ã€å¤©è¿˜æ²¡äº®ã€å¤©åˆšåˆšäº®ã€ä¸Šåˆã€ä¸­åˆã€ä¸‹åˆã€å‚æ™š",start:0,end:4.96,isTitle:!0},{text:"å¤©è¿˜æ²¡äº®ï¼Œæˆ‘å°±èµ·åºŠäº†ã€‚",start:4.96,end:9.76,isSequenceWord:!0},{text:"ä¸ç­‰é—¹é’Ÿå“ï¼Œä¹Ÿä¸ç”¨çˆ¸çˆ¸å¦ˆå¦ˆå«ã€‚",start:9.76,end:13.42},{text:"å¤©åˆšåˆšäº®ï¼Œæˆ‘å°±æ¥åˆ°å­¦æ ¡ç¤¼å ‚é›†åˆã€‚",start:13.42,end:18.26,isSequenceWord:!0},{text:"ä¸Šåˆï¼Œè€å¸ˆå¸¦ç€åŒå­¦ä»¬åˆ°äº†æ–°åŠ å¡æ»¨æµ·è‰ºæœ¯ä¸­å¿ƒåŽ»çœ‹ç”»å±•ã€‚",start:18.26,end:25.32,isSequenceWord:!0},{text:"ä¸­åˆï¼Œæˆ‘ä»¬å°±åœ¨é™„è¿‘åƒäº†ç¾Žå‘³çš„é£Ÿç‰©ã€‚",start:25.32,end:30.52,isSequenceWord:!0},{text:"ä¸‹åˆï¼Œæˆ‘ä»¬åŽ»å‚è§‚äº†æ»¨æµ·æ¹¾é±¼å°¾ç‹®å…¬å›­ã€‚",start:30.52,end:36.08,isSequenceWord:!0},{text:"å‚æ™šï¼Œæˆ‘ä»¬åŽ»é€›äº†å¤œå¸‚ã€è¿˜å“å°äº†ç¾Žé£Ÿã€‚",start:36.08,end:41,isSequenceWord:!0},{text:"ä»Šå¤©çœŸæ˜¯ä¸€ä¸ªç‰¹åˆ«çš„æ—¥å­ï¼",start:41,end:45.14}]},{id:2,title:"äºŒã€å¤©è¿˜æ²¡äº®ã€å¤©åˆšåˆšäº®ã€ä¸Šåˆã€ä¸­åˆã€ä¸‹åˆã€å‚æ™š",sequenceWords:"å¤©è¿˜æ²¡äº®ã€å¤©åˆšåˆšäº®ã€ä¸Šåˆã€ä¸­åˆã€ä¸‹åˆã€å‚æ™š",sentences:[{text:"äºŒã€å¤©è¿˜æ²¡äº®ã€å¤©åˆšåˆšäº®ã€ä¸Šåˆã€ä¸­åˆã€ä¸‹åˆã€å‚æ™š",start:45.14,end:46.5,isTitle:!0},{text:"å‡æœŸé‡Œçš„ä¸€å¤©ï¼Œå¤©è¿˜æ²¡äº®ï¼Œå°ä¸½å°±èµ·åºŠåˆ·ç‰™ã€‚",start:46.5,end:52.74,isSequenceWord:!0},{text:"å¤©åˆšåˆšäº®ï¼Œå°ä¸½å°±æŠŠæ‰€æœ‰å¤–å‡ºéœ€è¦çš„ç”¨å“éƒ½å‡†å¤‡å¥½äº†ã€‚",start:52.74,end:60.14,isSequenceWord:!0},{text:"ä¸Šåˆï¼Œå°ä¸½å’Œå®¶äººä¸€èµ·å‘ä¸œæµ·å²¸å…¬å›­å‡ºå‘äº†ã€‚",start:60.14,end:66.32,isSequenceWord:!0},{text:"ä»–ä»¬ä¸€ä¼šå„¿éª‘è„šè¸è½¦ï¼Œä¸€ä¼šå„¿æºœæ»‘è½®ï¼Œå¼€å¿ƒæžäº†ï¼",start:66.32,end:72.82},{text:"ä¸­åˆï¼Œå°ä¸½å’Œå®¶äººæŠŠå‡†å¤‡å¥½çš„é£Ÿç‰©æ‘†æ”¾åœ¨å¸­å­ä¸Šï¼Œ",start:72.82,end:79.34,isSequenceWord:!0},{text:"å¼€å§‹åƒäº†èµ·æ¥ã€‚",start:79.34,end:81.24},{text:"ä¸‹åˆï¼Œå°ä¸½ä¾¿è·Ÿç€çˆ¸çˆ¸åˆ°é™„è¿‘çš„æµ·è¾¹åŽ»é’“é±¼ã€‚",start:81.24,end:87.02,isSequenceWord:!0},{text:"å‚æ™šï¼Œå¤ªé˜³å¿«ä¸‹å±±äº†ï¼Œ",start:87.02,end:90.94,isSequenceWord:!0},{text:"å°ä¸½ä¾¿å’Œå®¶äººä¾ä¾ä¸èˆåœ°å›žå®¶äº†ã€‚",start:90.94,end:94.88},{text:"è¿™ä¸€å¤©è¿‡å¾—çœŸå¿«å•Šï¼",start:94.88,end:97.7}]}],qi=en.flatMap(n=>n.sentences.map((i,t)=>({...i,sectionId:n.id,sentenceIndex:t})));function Di({word:n,onClose:i,onPlayAudio:t}){return n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"popup-overlay show",onClick:i}),e.jsxs("div",{className:"word-popup show",children:[e.jsx("div",{className:"popup-traditional",children:n.traditional||""}),e.jsxs("div",{className:"popup-simplified",children:["(",n.simplified||"",")"]}),e.jsx("div",{className:"popup-pinyin",children:n.pinyin||""}),e.jsx("div",{className:"popup-meaning",children:n.meaning||""}),e.jsx("button",{className:"popup-audio-btn",onClick:t,children:"ðŸ”Š å¬å‘éŸ³"}),e.jsx("br",{}),e.jsx("button",{className:"popup-close",onClick:i,children:"å…³é—­"})]})]}):null}function Hi(){const[n,i]=c.useState(!1),[t,a]=c.useState(null),[r,o]=c.useState(null),d=c.useRef(null),l=c.useRef([]);c.useEffect(()=>{const p=d.current;if(!p)return;const y=()=>{const b=p.currentTime,S=qi.find(R=>b>=R.start&&b<R.end);if(a(S||null),S){const R=S.sectionId-1,M=l.current[R];if(M){const L=M.getBoundingClientRect();(L.top<100||L.bottom>window.innerHeight-100)&&M.scrollIntoView({behavior:"smooth",block:"center"})}}},x=()=>{a(null),i(!1)},k=()=>{i(!1)},u=()=>{i(!0)};return p.addEventListener("timeupdate",y),p.addEventListener("ended",x),p.addEventListener("pause",k),p.addEventListener("play",u),()=>{p.removeEventListener("timeupdate",y),p.removeEventListener("ended",x),p.removeEventListener("pause",k),p.removeEventListener("play",u)}},[]);const g=()=>{d.current&&(n?d.current.pause():(d.current.currentTime=0,d.current.play()))},m=c.useCallback(p=>{if(ie[p]){o(ie[p]);return}for(let y=p.length;y>=1;y--)for(let x=0;x<=p.length-y;x++){const k=p.substring(x,x+y);if(ie[k]){o(ie[k]);return}}o({simplified:p,traditional:p,pinyin:"(ç‚¹å‡»å¬å‘éŸ³)",meaning:"(æŸ¥è¯¢ä¸­...)"})},[]),f=c.useCallback(()=>{if(!r)return;const p=r.audio||`audio/${r.simplified}.mp3`;new Audio("/"+p).play().catch(()=>{const x=new SpeechSynthesisUtterance(r.simplified);x.lang="zh-CN",x.rate=.7,speechSynthesis.speak(x)})},[r]),h=c.useCallback(()=>{o(null)},[]),s=(p,y)=>(t==null?void 0:t.sectionId)===p&&(t==null?void 0:t.sentenceIndex)===y,w=c.useCallback(p=>{const y=[];let x=0;for(;x<p.length;){let k=!1;for(let u=Math.min(7,p.length-x);u>=2;u--){const b=p.substring(x,x+u);if(ie[b]){y.push(b),x+=u,k=!0;break}}k||(y.push(p[x]),x++)}return y},[]),j=(p,y,x,k)=>{const u=w(p);return e.jsx("span",{className:A(k?"reading-title-text":"reading-sentence",y&&"highlighted",x&&!k&&"sequence-word"),children:u.map((b,S)=>e.jsx("span",{className:A("clickable-char",b.length>1&&ie[b]&&"clickable-word"),onClick:()=>m(b),children:b},S))})};return e.jsxs("div",{className:"reading-sync-page",children:[e.jsxs("div",{className:"lesson-header lesson-header-blue",children:[e.jsx("h1",{children:"ã€Šè¯´ä¸€è¯´ä¸€å¤©çš„æ´»åŠ¨ã€‹"}),e.jsx("div",{className:"lesson-subtitle",children:"Describe a Day's Activities - Reading Practice"})]}),e.jsxs("div",{className:"content-container",children:[e.jsxs("div",{className:"audio-player-card audio-player-sticky",children:[e.jsx("audio",{ref:d,src:"/audio/p3hcl_reading_6.mp4",preload:"auto"}),e.jsx("button",{className:A("audio-play-btn-large",n&&"playing"),onClick:g,children:n?"â¸ï¸":"â–¶ï¸"}),e.jsx("p",{className:"audio-hint",children:n?"æ­£åœ¨æ’­æ”¾... å¥å­ä¼šè‡ªåŠ¨é«˜äº®":"ç‚¹å‡»æ’­æ”¾å…¨æ–‡æœ—è¯»"})]}),en.map((p,y)=>e.jsxs("div",{ref:x=>{l.current[y]=x},className:"reading-card",children:[e.jsx("h2",{className:"section-title-reading",children:j(p.sentences[0].text,s(p.id,0),!1,!0)}),e.jsxs("div",{className:"sequence-words-box",children:[e.jsx("span",{className:"sequence-label",children:"é¡ºåºè¯ï¼š"}),e.jsx("span",{className:"clickable-text",onClick:()=>m(p.sequenceWords),children:p.sequenceWords})]}),e.jsx("div",{className:"reading-content",children:p.sentences.slice(1).map((x,k)=>e.jsx("span",{children:j(x.text,s(p.id,k+1),x.isSequenceWord)},k))})]},p.id)),e.jsx("div",{className:"reading-instruction",children:e.jsx("p",{children:"ðŸ’¡ ç‚¹å‡»ä»»ä½•å­—è¯æŸ¥çœ‹ç¹ä½“ã€æ‹¼éŸ³å’Œè‹±æ–‡æ„æ€"})}),e.jsxs("div",{className:"reading-tips",children:[e.jsx("h3",{children:"å­¦ä¹ æç¤º"}),e.jsxs("ul",{children:[e.jsx("li",{children:"ç‚¹å‡» â–¶ï¸ ä»Žå¤´æ’­æ”¾å…¨éƒ¨ä¸¤æ®µæœ—è¯»"}),e.jsxs("li",{children:["æœ—è¯»æ—¶ï¼Œå½“å‰å¥å­ä¼š",e.jsx("span",{className:"highlighted-demo",children:"é«˜äº®æ˜¾ç¤º"})]}),e.jsx("li",{children:"ç‚¹å‡»ä»»ä½•å­—è¯æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯"}),e.jsxs("li",{children:["æ³¨æ„",e.jsx("span",{className:"sequence-word-inline",children:"æ—¶é—´é¡ºåºè¯"}),"çš„ä½¿ç”¨"]})]})]})]}),r&&e.jsx(Di,{word:r,onClose:h,onPlayAudio:f})]})}const $i=H("/koushi-family-cohesion")({component:Ki}),be=[{chinese:"è®°å¾—",pinyin:"jÃ¬ de",english:"remember"},{chinese:"åœ°ç‚¹",pinyin:"dÃ¬ diÇŽn",english:"location"},{chinese:"æµ·è¾¹",pinyin:"hÇŽi biÄn",english:"seaside"},{chinese:"èµ·å› ",pinyin:"qÇ yÄ«n",english:"reason/cause"},{chinese:"åº¦å‡",pinyin:"dÃ¹ jiÃ ",english:"vacation"},{chinese:"äººç‰©",pinyin:"rÃ©n wÃ¹",english:"people/characters"},{chinese:"ç«‹åˆ»",pinyin:"lÃ¬ kÃ¨",english:"immediately"},{chinese:"æ‹æ‰‹",pinyin:"pÄi shÇ’u",english:"clap hands"},{chinese:"æ¬¢å‘¼",pinyin:"huÄn hÅ«",english:"cheer"},{chinese:"å‡†å¤‡",pinyin:"zhÇ”n bÃ¨i",english:"prepare"},{chinese:"å°±ç»ª",pinyin:"jiÃ¹ xÃ¹",english:"ready"},{chinese:"å…´è‡´å‹ƒå‹ƒ",pinyin:"xÃ¬ng zhÃ¬ bÃ³ bÃ³",english:"enthusiastic"},{chinese:"ç»è¿‡",pinyin:"jÄ«ng guÃ²",english:"experience/process"},{chinese:"èµ¶ç´§",pinyin:"gÇŽn jÇn",english:"hurry"},{chinese:"æ¢ä¸Š",pinyin:"huÃ n shang",english:"change into"},{chinese:"å‘¼ç€",pinyin:"hÅ« zhe",english:"singing/humming"},{chinese:"æ¬¢å¿«",pinyin:"huÄn kuÃ i",english:"cheerful"},{chinese:"æ­Œå„¿",pinyin:"gÄ“ r",english:"song"}],we=[{start:9.15,end:17.59,chinese:[{word:"åœ¨",pinyin:"zÃ i",meaning:"at/in"},{word:"å›¾ç‰‡",pinyin:"tÃº piÃ n",meaning:"picture"},{word:"ä¸­",pinyin:"zhÅng",meaning:"middle/in"},{text:"ï¼Œ"},{word:"æˆ‘",pinyin:"wÇ’",meaning:"I"},{word:"çœ‹åˆ°",pinyin:"kÃ n dÃ o",meaning:"see"},{word:"ä¸€ä¸ª",pinyin:"yÄ« gÃ¨",meaning:"one"},{word:"é˜³å…‰æ™®ç…§",pinyin:"yÃ¡ng guÄng pÇ” zhÃ o",meaning:"sunny"},{word:"çš„",pinyin:"de",meaning:"(particle)"},{word:"ä¸Šåˆ",pinyin:"shÃ ng wÇ”",meaning:"morning"},{text:"ï¼Œ"},{word:"çˆ¸çˆ¸",pinyin:"bÃ  ba",meaning:"dad"},{word:"é©¾è½¦",pinyin:"jiÃ  chÄ“",meaning:"drive"},{word:"å¸¦ç€",pinyin:"dÃ i zhe",meaning:"bringing"},{word:"å…¨å®¶äºº",pinyin:"quÃ¡n jiÄ rÃ©n",meaning:"whole family"},{word:"åŽ»",pinyin:"qÃ¹",meaning:"go"},{word:"æµ·è¾¹",pinyin:"hÇŽi biÄn",meaning:"seaside"},{word:"é‡Žé¤",pinyin:"yÄ› cÄn",meaning:"picnic"},{text:"ã€‚"}],english:"In the picture, I see a sunny morning where Dad drives the whole family to the beach for a picnic."},{start:18.63,end:27.59,chinese:[{word:"æµ·è¾¹",pinyin:"hÇŽi biÄn",meaning:"seaside"},{word:"æœ‰",pinyin:"yÇ’u",meaning:"have/there is"},{word:"å¾ˆå¤š",pinyin:"hÄ›n duÅ",meaning:"many"},{word:"äºº",pinyin:"rÃ©n",meaning:"people"},{text:"ï¼Œ"},{word:"æœ‰çš„",pinyin:"yÇ’u de",meaning:"some"},{word:"åœ¨",pinyin:"zÃ i",meaning:"at"},{word:"æ¸¸æ³³",pinyin:"yÃ³u yÇ’ng",meaning:"swim"},{text:"ï¼Œ"},{word:"æœ‰çš„",pinyin:"yÇ’u de",meaning:"some"},{word:"åœ¨",pinyin:"zÃ i",meaning:"at"},{word:"æ™’å¤ªé˜³",pinyin:"shÃ i tÃ i yÃ¡ng",meaning:"sunbathe"},{text:"ï¼Œ"},{word:"æœ‰çš„",pinyin:"yÇ’u de",meaning:"some"},{word:"åœ¨",pinyin:"zÃ i",meaning:"at"},{word:"çŽ©æ¸¸æˆ",pinyin:"wÃ¡n yÃ³u xÃ¬",meaning:"play games"},{text:"ï¼Œ"},{word:"ååˆ†",pinyin:"shÃ­ fÄ“n",meaning:"very"},{word:"çƒ­é—¹",pinyin:"rÃ¨ nao",meaning:"lively"},{text:"ã€‚"}],english:"There are many people at the beach - some swimming, some sunbathing, some playing games - it's very lively."},{start:28.25,end:38.85,chinese:[{word:"çˆ¸çˆ¸å¦ˆå¦ˆ",pinyin:"bÃ  ba mÄ ma",meaning:"parents"},{word:"å…ˆ",pinyin:"xiÄn",meaning:"first"},{word:"é“ºå¥½",pinyin:"pÅ« hÇŽo",meaning:"lay out"},{word:"å¸­å­",pinyin:"xÃ­ zi",meaning:"mat"},{text:"ï¼Œ"},{word:"å†",pinyin:"zÃ i",meaning:"then"},{word:"æ‘†ä¸Š",pinyin:"bÇŽi shang",meaning:"arrange"},{word:"é£Ÿç‰©",pinyin:"shÃ­ wÃ¹",meaning:"food"},{text:"ï¼Œ"},{word:"æœ€åŽ",pinyin:"zuÃ¬ hÃ²u",meaning:"finally"},{word:"ä»–ä»¬",pinyin:"tÄ men",meaning:"they"},{word:"ä¾¿",pinyin:"biÃ n",meaning:"then"},{word:"ååœ¨",pinyin:"zuÃ² zÃ i",meaning:"sit on"},{word:"å¸­å­ä¸Š",pinyin:"xÃ­ zi shÃ ng",meaning:"on the mat"},{word:"ä¸€è¾¹",pinyin:"yÄ« biÄn",meaning:"while"},{word:"æ‹ç…§",pinyin:"pÄi zhÃ o",meaning:"take photos"},{word:"ä¸€è¾¹",pinyin:"yÄ« biÄn",meaning:"while"},{word:"è°ˆå¤©",pinyin:"tÃ¡n tiÄn",meaning:"chat"},{text:"ã€‚"}],english:"Mom and Dad first lay out the mat, then arrange the food, and finally they sit on the mat chatting while taking photos."},{start:39.37,end:47.69,chinese:[{word:"å“¥å“¥",pinyin:"gÄ“ ge",meaning:"older brother"},{word:"å’Œ",pinyin:"hÃ©",meaning:"and"},{word:"å¦¹å¦¹",pinyin:"mÃ¨i mei",meaning:"younger sister"},{word:"åˆ™",pinyin:"zÃ©",meaning:"then/while"},{word:"è·‘åˆ°",pinyin:"pÇŽo dÃ o",meaning:"run to"},{word:"æ²™æ»©ä¸Š",pinyin:"shÄ tÄn shÃ ng",meaning:"on the beach"},{word:"çŽ©",pinyin:"wÃ¡n",meaning:"play"},{word:"æ‰”é£žç›˜",pinyin:"rÄ“ng fÄ“i pÃ¡n",meaning:"frisbee"},{word:"çš„",pinyin:"de",meaning:"(particle)"},{word:"æ¸¸æˆ",pinyin:"yÃ³u xÃ¬",meaning:"game"},{text:"ï¼Œ"},{word:"çŽ©å¾—",pinyin:"wÃ¡n de",meaning:"having fun"},{word:"å¾ˆå¼€å¿ƒ",pinyin:"hÄ›n kÄi xÄ«n",meaning:"very happy"},{text:"ã€‚"}],english:"The older brother and younger sister run to the beach to play frisbee, having a lot of fun."},{start:48.58,end:57.99,chinese:[{word:"åˆ°äº†",pinyin:"dÃ o le",meaning:"arrived/reached"},{word:"ä¸‹åˆ",pinyin:"xiÃ  wÇ”",meaning:"afternoon"},{text:"ï¼Œ"},{word:"å¤©æ°”",pinyin:"tiÄn qÃ¬",meaning:"weather"},{word:"å˜å¾—",pinyin:"biÃ n de",meaning:"become"},{word:"ååˆ†",pinyin:"shÃ­ fÄ“n",meaning:"very"},{word:"ç‚Žçƒ­",pinyin:"yÃ¡n rÃ¨",meaning:"hot"},{text:"ï¼Œ"},{word:"å¤§å®¶",pinyin:"dÃ  jiÄ",meaning:"everyone"},{word:"ä¾¿",pinyin:"biÃ n",meaning:"then"},{word:"ä¸€èµ·",pinyin:"yÄ« qÇ",meaning:"together"},{word:"æ”¶æ‹¾ä¸œè¥¿",pinyin:"shÅu shi dÅng xi",meaning:"pack up"},{text:"ï¼Œ"},{word:"ä¾ä¾ä¸èˆ",pinyin:"yÄ« yÄ« bÃ¹ shÄ›",meaning:"reluctantly"},{word:"åœ°",pinyin:"de",meaning:"(adverb marker)"},{word:"å›žå®¶äº†",pinyin:"huÃ­ jiÄ le",meaning:"went home"},{text:"ã€‚"}],english:"In the afternoon, the weather became very hot, so everyone packed up and reluctantly went home."}];function Fi({word:n,pinyin:i,meaning:t,onClick:a}){return e.jsx("span",{className:"koushi-word",onClick:()=>a(n,i,t),children:n})}function Ui(n){return"word"in n}function Bi({sentence:n,isHighlighted:i,onWordClick:t}){return e.jsxs("div",{className:`koushi-sentence ${i?"highlighted":""}`,children:[e.jsx("span",{className:"chinese",children:n.chinese.map((a,r)=>Ui(a)?e.jsx(Fi,{word:a.word,pinyin:a.pinyin,meaning:a.meaning,onClick:t},r):e.jsx("span",{children:a.text},r))}),e.jsx("span",{className:"english-translation",children:n.english})]})}function Gi({word:n,isLearned:i,onClick:t}){return e.jsxs("div",{className:`koushi-vocab-card ${i?"learned":""}`,onClick:t,children:[e.jsx("div",{className:"vocab-chinese",children:n.chinese}),e.jsx("div",{className:"vocab-pinyin",children:n.pinyin})]})}function Vi({word:n,pinyin:i,meaning:t,onClose:a,onPlayAudio:r}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"popup-overlay show",onClick:a}),e.jsxs("div",{className:"koushi-word-popup show",children:[e.jsx("div",{className:"popup-word",children:n}),e.jsx("div",{className:"popup-pinyin",children:i}),e.jsx("div",{className:"popup-meaning",children:t}),e.jsx("button",{className:"popup-audio-btn",onClick:r,children:"å¬å‘éŸ³"}),e.jsx("br",{}),e.jsx("button",{className:"popup-close",onClick:a,children:"å…³é—­"})]})]})}function Yi({word:n,isLearned:i,onClose:t,onPlayAudio:a,onToggleLearned:r}){return n?e.jsx("div",{className:"practice-modal show",children:e.jsxs("div",{className:"practice-content",children:[e.jsx("button",{className:"close-modal",onClick:t,children:"X"}),e.jsx("div",{className:"practice-word",children:n.chinese}),e.jsx("div",{className:"practice-pinyin",children:n.pinyin}),e.jsxs("div",{className:"practice-actions",children:[e.jsx("button",{className:"practice-btn primary",onClick:a,children:"å‘éŸ³"}),e.jsx("button",{className:"practice-btn primary",style:i?{background:"#ff6b6b"}:{},onClick:r,children:i?"X æ ‡è®°æœªå­¦ä¼š":"âœ“ æ ‡è®°å·²å­¦ä¼š"}),e.jsx("button",{className:"practice-btn secondary",onClick:t,children:"å…³é—­"})]})]})}):null}const Pe="koushi_family_cohesion_learned";function Ki(){const[n,i]=c.useState(new Set),[t,a]=c.useState(null),[r,o]=c.useState(null),[d,l]=c.useState(null),g=c.useRef(null);c.useEffect(()=>{const u=localStorage.getItem(Pe);u&&i(new Set(JSON.parse(u)))},[]);const m=c.useCallback(u=>{localStorage.setItem(Pe,JSON.stringify(Array.from(u)))},[]);c.useEffect(()=>{const u=g.current;if(!u)return;const b=()=>{const R=u.currentTime;let M=null;for(let L=0;L<we.length;L++){const q=we[L];if(R>=q.start&&R<q.end){M=L;break}}l(M)},S=()=>{l(null)};return u.addEventListener("timeupdate",b),u.addEventListener("ended",S),()=>{u.removeEventListener("timeupdate",b),u.removeEventListener("ended",S)}},[]);const f=c.useCallback(()=>{const u=g.current;u&&u.play()},[]),h=c.useCallback(()=>{window.confirm("ç¡®å®šè¦é‡ç½®å­¦ä¹ è¿›åº¦å—ï¼Ÿ")&&(i(new Set),m(new Set))},[m]),s=c.useCallback((u,b,S)=>{const R=g.current;R&&!R.paused&&R.pause(),a({word:u,pinyin:b,meaning:S})},[]),w=c.useCallback(()=>{a(null)},[]),j=c.useCallback(()=>{if(t){const u=new SpeechSynthesisUtterance(t.word);u.lang="zh-CN",u.rate=.7,speechSynthesis.speak(u)}},[t]),p=c.useCallback(u=>{o(u)},[]),y=c.useCallback(()=>{o(null)},[]),x=c.useCallback(()=>{if(r){const u=new SpeechSynthesisUtterance(r.chinese);u.lang="zh-CN",u.rate=.8,speechSynthesis.speak(u)}},[r]),k=c.useCallback(()=>{r&&i(u=>{const b=new Set(u);return b.has(r.chinese)?b.delete(r.chinese):b.add(r.chinese),m(b),b})},[r,m]);return c.useEffect(()=>{const u=b=>{b.key==="Escape"&&(y(),w())};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[y,w]),e.jsxs("div",{className:"koushi-page",children:[e.jsxs("div",{className:"lesson-header lesson-header-orange",children:[e.jsx("h1",{children:"å£è¯•ç»ƒä¹ ï¼šã€Šå®¶åº­å‡èšåŠ›ã€‹"}),e.jsx("div",{className:"lesson-subtitle",children:"P3HCL ç»¼åˆç»ƒä¹ 4 é˜…è¯»è®¡åˆ’ - Family Cohesion"})]}),e.jsxs("div",{className:"content-container",children:[e.jsxs("div",{className:"controls-bar",children:[e.jsx("button",{className:"control-btn",onClick:f,children:"æ’­æ”¾æ•…äº‹éŸ³é¢‘"}),e.jsxs("div",{className:"progress-info",children:[e.jsx("span",{children:"å·²å­¦ä¹ è¯è¯­: "}),e.jsx("span",{children:n.size})," / ",e.jsx("span",{children:be.length})]}),e.jsx("button",{className:"control-btn secondary",onClick:h,children:"é‡ç½®è¿›åº¦"})]}),e.jsxs("div",{className:"audio-player-sticky",children:[e.jsx("div",{style:{fontWeight:500,marginBottom:"10px"},children:"æœ—è¯»éŸ³é¢‘"}),e.jsxs("audio",{ref:g,controls:!0,preload:"none",children:[e.jsx("source",{src:"/audio/family-cohesion/story.mp4",type:"audio/mp4"}),"æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚"]})]}),e.jsx("div",{className:"section-title",children:"å›¾ç‰‡"}),e.jsx("div",{className:"picture-container",children:e.jsxs("div",{className:"pictures-row",children:[e.jsxs("div",{className:"picture-box",children:[e.jsx("img",{src:"/images/family-cohesion/picture1.png",alt:"å›¾ç‰‡1 - ä¸€å®¶äººåœ¨è½¦é‡Œ",onError:u=>{u.target.style.display="none"}}),e.jsx("div",{className:"picture-number",children:"1. ä¸€å®¶äººåœ¨è½¦é‡Œ"})]}),e.jsxs("div",{className:"picture-box",children:[e.jsx("img",{src:"/images/family-cohesion/picture2.png",alt:"å›¾ç‰‡2 - æµ·è¾¹é‡Žé¤",onError:u=>{u.target.style.display="none"}}),e.jsx("div",{className:"picture-number",children:"2. æµ·è¾¹é‡Žé¤"})]}),e.jsxs("div",{className:"picture-box",children:[e.jsx("img",{src:"/images/family-cohesion/picture3.png",alt:"å›¾ç‰‡3 - å›žå®¶çš„è½¦",onError:u=>{u.target.style.display="none"}}),e.jsx("div",{className:"picture-number",children:"3. å›žå®¶çš„è½¦"})]})]})}),e.jsxs("div",{className:"section-title",children:["é—®é¢˜ä¸€ï¼š",e.jsx("span",{className:"koushi-word",onClick:()=>s("è°ˆè°ˆ","tÃ¡n tan","talk about"),children:"è°ˆè°ˆ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä½ ","nÇ","you"),children:"ä½ "}),e.jsx("span",{className:"koushi-word",onClick:()=>s("åœ¨","zÃ i","in"),children:"åœ¨"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å›¾ç‰‡","tÃº piÃ n","picture"),children:"å›¾ç‰‡"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¸­","zhÅng","in"),children:"ä¸­"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çœ‹åˆ°","kÃ n dÃ o","see"),children:"çœ‹åˆ°"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("äº‹æƒ…","shÃ¬ qing","things"),children:"äº‹æƒ…"})]}),e.jsxs("div",{className:"question-box",children:[e.jsx("h3",{children:e.jsx("span",{className:"koushi-word",onClick:()=>s("å†…å®¹","nÃ¨i rÃ³ng","content"),children:"å†…å®¹"})}),e.jsx("div",{className:"story-text",children:we.map((u,b)=>e.jsx(Bi,{sentence:u,isHighlighted:d===b,onWordClick:s},b))}),e.jsxs("div",{className:"hint-box",children:[e.jsx("strong",{children:"æç¤ºï¼š"}),e.jsxs("ul",{children:[e.jsx("li",{children:"ç‚¹å‡»ä»»ä½•è¯è¯­æŸ¥çœ‹æ‹¼éŸ³ã€è‹±æ–‡ç¿»è¯‘å’Œå¬å‘éŸ³"}),e.jsx("li",{children:'ç‚¹å‡» "æ’­æ”¾æ•…äº‹éŸ³é¢‘" æŒ‰é’®ï¼Œå¥å­ä¼šåŒæ­¥é«˜äº®æ˜¾ç¤ºè‹±æ–‡ç¿»è¯‘'}),e.jsx("li",{children:"ç‚¹å‡»è¯è¯­æ—¶ï¼Œä¸»éŸ³é¢‘ä¼šè‡ªåŠ¨æš‚åœ"})]})]})]}),e.jsxs("div",{className:"question-box",children:[e.jsxs("h3",{children:[e.jsx("span",{className:"koushi-word",onClick:()=>s("æ€»ç»“","zÇ’ng jiÃ©","summary"),children:"æ€»ç»“"}),"ï¼ˆ",e.jsx("span",{className:"koushi-word",onClick:()=>s("æ„Ÿå—","gÇŽn shÃ²u","feelings"),children:"æ„Ÿå—"}),"ã€",e.jsx("span",{className:"koushi-word",onClick:()=>s("çœ‹æ³•","kÃ n fÇŽ","opinion"),children:"çœ‹æ³•"}),"ã€",e.jsx("span",{className:"koushi-word",onClick:()=>s("åŽŸå› ","yuÃ¡n yÄ«n","reason"),children:"åŽŸå› "}),"ã€",e.jsx("span",{className:"koushi-word",onClick:()=>s("å¦‚æžœ","rÃº guÇ’","if"),children:"å¦‚æžœ"}),"ï¼‰"]}),e.jsxs("div",{className:"reflection-text",children:[e.jsx("div",{className:"reflection-label",children:"F=æ„Ÿå—"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çœ‹äº†","kÃ n le","saw/watched"),children:"çœ‹äº†"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è¿™ä¸€å¹•","zhÃ¨ yÄ« mÃ¹","this scene"),children:"è¿™ä¸€å¹•"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("æˆ‘","wÇ’","I"),children:"æˆ‘"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å¾ˆ","hÄ›n","very"),children:"å¾ˆ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ„ŸåŠ¨","gÇŽn dÃ²ng","moved/touched"),children:"æ„ŸåŠ¨"}),"ã€‚",e.jsx("div",{className:"reflection-label",style:{marginTop:"15px"},children:"O=çœ‹æ³•"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æˆ‘","wÇ’","I"),children:"æˆ‘"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è®¤ä¸º","rÃ¨n wÃ©i","think/believe"),children:"è®¤ä¸º"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è¿™ä¸€å®¶äºº","zhÃ¨ yÄ« jiÄ rÃ©n","this family"),children:"è¿™ä¸€å®¶äºº"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ„Ÿæƒ…","gÇŽn qÃ­ng","feelings/relationship"),children:"æ„Ÿæƒ…"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å¾ˆå¥½","hÄ›n hÇŽo","very good"),children:"å¾ˆå¥½"}),"ã€‚",e.jsx("div",{className:"reflection-label",style:{marginTop:"15px"},children:"R=åŽŸå› "}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å› ä¸º","yÄ«n wÃ¨i","because"),children:"å› ä¸º"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çˆ¶æ¯","fÃ¹ mÇ”","parents"),children:"çˆ¶æ¯"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ¯å¤©","mÄ›i tiÄn","every day"),children:"æ¯å¤©"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å·¥ä½œ","gÅng zuÃ²","work"),children:"å·¥ä½œ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("éžå¸¸","fÄ“i chÃ¡ng","very"),children:"éžå¸¸"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å¿™","mÃ¡ng","busy"),children:"å¿™"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("å¾ˆå°‘","hÄ›n shÇŽo","seldom/rarely"),children:"å¾ˆå°‘"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æœ‰","yÇ’u","have"),children:"æœ‰"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ—¶é—´","shÃ­ jiÄn","time"),children:"æ—¶é—´"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å’Œ","hÃ©","and/with"),children:"å’Œ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æˆ‘ä»¬","wÇ’ men","us"),children:"æˆ‘ä»¬"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("èšåœ¨ä¸€èµ·","jÃ¹ zÃ i yÄ« qÇ","gather together"),children:"èšåœ¨ä¸€èµ·"}),"ã€‚",e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¸€å®¶äºº","yÄ« jiÄ rÃ©n","family"),children:"ä¸€å®¶äºº"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("åº”è¯¥","yÄ«ng gÄi","should"),children:"åº”è¯¥"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å¤š","duÅ","more"),children:"å¤š"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("èšåœ¨ä¸€èµ·","jÃ¹ zÃ i yÄ« qÇ","gather together"),children:"èšåœ¨ä¸€èµ·"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è¿›è¡Œ","jÃ¬n xÃ­ng","carry out"),children:"è¿›è¡Œ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ´»åŠ¨","huÃ³ dÃ²ng","activities"),children:"æ´»åŠ¨"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("è¿™æ ·","zhÃ¨ yÃ ng","this way"),children:"è¿™æ ·"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å°±","jiÃ¹","then"),children:"å°±"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("èƒ½","nÃ©ng","can"),children:"èƒ½"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æœ‰","yÇ’u","have"),children:"æœ‰"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ›´å¤š","gÃ¨ng duÅ","more"),children:"æ›´å¤š"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ—¶é—´","shÃ­ jiÄn","time"),children:"æ—¶é—´"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("åŽ»","qÃ¹","to go"),children:"åŽ»"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("äº†è§£","liÇŽo jiÄ›","understand"),children:"äº†è§£"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å’Œ","hÃ©","and"),children:"å’Œ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å…³å¿ƒ","guÄn xÄ«n","care about"),children:"å…³å¿ƒ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å¯¹æ–¹","duÃ¬ fÄng","each other"),children:"å¯¹æ–¹"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("å®¶äººä¹‹é—´","jiÄ rÃ©n zhÄ« jiÄn","between family"),children:"å®¶äººä¹‹é—´"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ„Ÿæƒ…","gÇŽn qÃ­ng","feelings"),children:"æ„Ÿæƒ…"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å°±","jiÃ¹","then"),children:"å°±"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¼š","huÃ¬","will"),children:"ä¼š"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è¶Šæ¥è¶Šå¥½","yuÃ¨ lÃ¡i yuÃ¨ hÇŽo","better and better"),children:"è¶Šæ¥è¶Šå¥½"}),"ã€‚",e.jsx("div",{className:"reflection-label",style:{marginTop:"15px"},children:"IF=å¦‚æžœ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å¦‚æžœ","rÃº guÇ’","if"),children:"å¦‚æžœ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æˆ‘","wÇ’","I"),children:"æˆ‘"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ˜¯","shÃ¬","am"),children:"æ˜¯"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å›¾ç‰‡ä¸­","tÃº piÃ n zhÅng","in the picture"),children:"å›¾ç‰‡ä¸­"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å°å­©","xiÇŽo hÃ¡i","child"),children:"å°å­©"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("æˆ‘","wÇ’","I"),children:"æˆ‘"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¹Ÿ","yÄ›","also"),children:"ä¹Ÿ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¼š","huÃ¬","will"),children:"ä¼š"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å¤š","duÅ","more"),children:"å¤š"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å’Œ","hÃ©","with"),children:"å’Œ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å®¶äºº","jiÄ rÃ©n","family"),children:"å®¶äºº"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("èšåœ¨ä¸€èµ·","jÃ¹ zÃ i yÄ« qÇ","gather together"),children:"èšåœ¨ä¸€èµ·"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("çæƒœ","zhÄ“n xÄ«","cherish"),children:"çæƒœ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å’Œ","hÃ©","with"),children:"å’Œ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å®¶äºº","jiÄ rÃ©n","family"),children:"å®¶äºº"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ç›¸å¤„","xiÄng chÇ”","get along"),children:"ç›¸å¤„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ—¶å…‰","shÃ­ guÄng","time/moments"),children:"æ—¶å…‰"}),"ã€‚"]})]}),e.jsxs("div",{className:"section-title",children:["é—®é¢˜äºŒï¼š",e.jsx("span",{className:"koushi-word",onClick:()=>s("ç»åŽ†","jÄ«ng lÃ¬","experience"),children:"ç»åŽ†"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ç±»","lÃ¨i","type"),children:"ç±»"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("é—®é¢˜","wÃ¨n tÃ­","question"),children:"é—®é¢˜"})]}),e.jsxs("div",{className:"question-box",children:[e.jsxs("h3",{children:[e.jsx("span",{className:"koushi-word",onClick:()=>s("é™¤äº†","chÃº le","besides"),children:"é™¤äº†"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å›¾ç‰‡","tÃº piÃ n","picture"),children:"å›¾ç‰‡"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¸­","zhÅng","in"),children:"ä¸­"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ‰€çœ‹åˆ°çš„","suÇ’ kÃ n dÃ o de","what was seen"),children:"æ‰€çœ‹åˆ°çš„"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("è°ˆä¸€è°ˆ","tÃ¡n yi tan","talk about"),children:"è°ˆä¸€è°ˆ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä½ ","nÇ","you"),children:"ä½ "}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ›¾ç»","cÃ©ng jÄ«ng","once/previously"),children:"æ›¾ç»"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å’Œ","hÃ©","with"),children:"å’Œ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å®¶äºº","jiÄ rÃ©n","family"),children:"å®¶äºº"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("èšåœ¨ä¸€èµ·","jÃ¹ zÃ i yÄ« qÇ","gather together"),children:"èšåœ¨ä¸€èµ·"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("äº‹","shÃ¬","matter/thing"),children:"äº‹"}),"ã€‚"]}),e.jsxs("div",{className:"story-text",children:[e.jsxs("div",{className:"sentence-with-translation",children:[e.jsxs("p",{children:[e.jsx("span",{className:"koushi-word",onClick:()=>s("è®°å¾—","jÃ¬ de","remember"),children:"è®°å¾—"}),"ï¼ˆ",e.jsx("span",{className:"koushi-word",onClick:()=>s("æ—¶é—´","shÃ­ jiÄn","time"),children:"æ—¶é—´"}),"ï¼‰",e.jsx("span",{className:"koushi-word",onClick:()=>s("åŽ»å¹´","qÃ¹ niÃ¡n","last year"),children:"åŽ»å¹´"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å­¦æ ¡å‡æœŸ","xuÃ© xiÃ o jiÃ  qÄ«","school holiday"),children:"å­¦æ ¡å‡æœŸ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ—¶","shÃ­","when"),children:"æ—¶"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("çˆ¸çˆ¸","bÃ  ba","dad"),children:"çˆ¸çˆ¸"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æè®®","tÃ­ yÃ¬","suggest"),children:"æè®®"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¸€èµ·åŽ»","yÄ« qÇ qÃ¹","go together"),children:"ä¸€èµ·åŽ»"}),"ï¼ˆ",e.jsx("span",{className:"koushi-word",onClick:()=>s("åœ°ç‚¹","dÃ¬ diÇŽn","location"),children:"åœ°ç‚¹"}),"ï¼‰",e.jsx("span",{className:"koushi-word",onClick:()=>s("æµ·è¾¹","hÇŽi biÄn","seaside"),children:"æµ·è¾¹"}),"ï¼ˆ",e.jsx("span",{className:"koushi-word",onClick:()=>s("èµ·å› ","qÇ yÄ«n","reason"),children:"èµ·å› "}),"ï¼‰",e.jsx("span",{className:"koushi-word",onClick:()=>s("åº¦å‡","dÃ¹ jiÃ ","vacation"),children:"åº¦å‡"}),"ï¼Œï¼ˆ",e.jsx("span",{className:"koushi-word",onClick:()=>s("äººç‰©","rÃ©n wÃ¹","people"),children:"äººç‰©"}),"ï¼‰",e.jsx("span",{className:"koushi-word",onClick:()=>s("æˆ‘ä»¬å…¨å®¶äºº","wÇ’ men quÃ¡n jiÄ rÃ©n","our whole family"),children:"æˆ‘ä»¬å…¨å®¶äºº"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å¬äº†","tÄ«ng le","heard"),children:"å¬äº†"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("ç«‹åˆ»","lÃ¬ kÃ¨","immediately"),children:"ç«‹åˆ»"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ‹æ‰‹æ¬¢å‘¼","pÄi shÇ’u huÄn hÅ«","clap and cheer"),children:"æ‹æ‰‹æ¬¢å‘¼"}),"ã€‚"]}),e.jsx("p",{className:"sentence-translation",children:"I remember last year during school holidays, dad suggested we go to the seaside for vacation, and our whole family immediately clapped and cheered."})]}),e.jsxs("div",{className:"sentence-with-translation",children:[e.jsxs("p",{children:[e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¸€åˆ‡","yÄ« qiÃ¨","everything"),children:"ä¸€åˆ‡"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å‡†å¤‡å°±ç»ª","zhÇ”n bÃ¨i jiÃ¹ xÃ¹","ready"),children:"å‡†å¤‡å°±ç»ª"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("åŽ","hÃ²u","after"),children:"åŽ"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¾¿","biÃ n","then"),children:"ä¾¿"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å…´è‡´å‹ƒå‹ƒ","xÃ¬ng zhÃ¬ bÃ³ bÃ³","enthusiastic"),children:"å…´è‡´å‹ƒå‹ƒ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("åœ°","de","(adverb)"),children:"åœ°"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å‡ºå‘äº†","chÅ« fÄ le","set off"),children:"å‡ºå‘äº†"}),"ã€‚"]}),e.jsx("p",{className:"sentence-translation",children:"After everything was ready, we enthusiastically set off."})]}),e.jsxs("div",{className:"sentence-with-translation",children:[e.jsxs("p",{children:["ï¼ˆ",e.jsx("span",{className:"koushi-word",onClick:()=>s("ç»è¿‡","jÄ«ng guÃ²","process"),children:"ç»è¿‡"}),"ï¼‰",e.jsx("span",{className:"koushi-word",onClick:()=>s("åˆ°äº†","dÃ o le","arrived"),children:"åˆ°äº†"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æµ·è¾¹","hÇŽi biÄn","seaside"),children:"æµ·è¾¹"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("æˆ‘","wÇ’","I"),children:"æˆ‘"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("èµ¶ç´§","gÇŽn jÇn","hurry"),children:"èµ¶ç´§"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ¢ä¸Š","huÃ n shang","change into"),children:"æ¢ä¸Š"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ³³è¡£","yÇ’ng yÄ«","swimsuit"),children:"æ³³è¡£"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("å‘¼ç€","hÅ« zhe","humming"),children:"å‘¼ç€"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ¬¢å¿«","huÄn kuÃ i","cheerful"),children:"æ¬¢å¿«"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ­Œå„¿","gÄ“ r","song"),children:"æ­Œå„¿"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å‘","xiÃ ng","toward"),children:"å‘"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ°´é‡Œ","shuÇ lÇ","into water"),children:"æ°´é‡Œ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("èµ°åŽ»","zÇ’u qÃ¹","walk toward"),children:"èµ°åŽ»"}),"ã€‚"]}),e.jsx("p",{className:"sentence-translation",children:"When we arrived at the seaside, I quickly changed into my swimsuit and walked toward the water, humming a cheerful song."})]}),e.jsxs("div",{className:"sentence-with-translation",children:[e.jsxs("p",{children:[e.jsx("span",{className:"koushi-word",onClick:()=>s("æˆ‘ä»¬","wÇ’ men","we"),children:"æˆ‘ä»¬"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å‡ ä¸ª","jÇ gÃ¨","a few"),children:"å‡ ä¸ª"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å°å­©","xiÇŽo hÃ¡i","children"),children:"å°å­©"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("åœ¨","zÃ i","at"),children:"åœ¨"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ°´é‡Œ","shuÇ lÇ","in water"),children:"æ°´é‡Œ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ¸¸æ¥æ¸¸åŽ»","yÃ³u lÃ¡i yÃ³u qÃ¹","swim around"),children:"æ¸¸æ¥æ¸¸åŽ»"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("çŽ©å¾—","wÃ¡n de","having fun"),children:"çŽ©å¾—"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çœŸç—›å¿«","zhÄ“n tÃ²ng kuÃ i","really fun"),children:"çœŸç—›å¿«"}),"ã€‚"]}),e.jsx("p",{className:"sentence-translation",children:"We children swam around in the water, having a really great time."})]}),e.jsxs("div",{className:"sentence-with-translation",children:[e.jsxs("p",{children:["ï¼ˆ",e.jsx("span",{className:"koushi-word",onClick:()=>s("ç»“æžœ","jiÃ© guÇ’","result"),children:"ç»“æžœ"}),"ï¼‰",e.jsx("span",{className:"koushi-word",onClick:()=>s("åˆ°äº†","dÃ o le","when"),children:"åˆ°äº†"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è¯¥","gÄi","should"),children:"è¯¥"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å›žå®¶","huÃ­ jiÄ","go home"),children:"å›žå®¶"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ—¶å€™","shÃ­ hou","time"),children:"æ—¶å€™"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("æˆ‘ä»¬","wÇ’ men","we"),children:"æˆ‘ä»¬"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¾¿","biÃ n","then"),children:"ä¾¿"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¾ä¾ä¸èˆ","yÄ« yÄ« bÃ¹ shÄ›","reluctantly"),children:"ä¾ä¾ä¸èˆ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("åœ°","de","(adverb)"),children:"åœ°"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ç¦»å¼€äº†","lÃ­ kÄi le","left"),children:"ç¦»å¼€äº†"}),"ã€‚"]}),e.jsx("p",{className:"sentence-translation",children:"When it was time to go home, we reluctantly left."})]})]})]}),e.jsxs("div",{className:"section-title",children:["æœ¬è¯¾è¯è¯­ï¼ˆå…±",be.length,"ä¸ªï¼‰"]}),e.jsx("div",{className:"koushi-vocab-grid",children:be.map((u,b)=>e.jsx(Gi,{word:u,isLearned:n.has(u.chinese),onClick:()=>p(u)},b))})]}),t&&e.jsx(Vi,{word:t.word,pinyin:t.pinyin,meaning:t.meaning,onClose:w,onPlayAudio:j}),r&&e.jsx(Yi,{word:r,isLearned:n.has(r.chinese),onClose:y,onPlayAudio:x,onToggleLearned:k})]})}const Qi=H("/instructions")({component:is}),pe=[{category:"vocabulary",chinese:"å­—è¯å­¦ä¹ ",pinyin:"zÃ¬ cÃ­ xuÃ© xÃ­",english:"Vocabulary Learning",explanation:"The section for learning new words and phrases"},{category:"vocabulary",chinese:"åºå·",pinyin:"xÃ¹ hÃ o",english:"Serial Number",explanation:"The number or order of items in a list"},{category:"vocabulary",chinese:"è¯†å†™å­—è¯",pinyin:"shÃ­ xiÄ› zÃ¬ cÃ­",english:"Words to Read and Write",explanation:"Words that students must learn to both recognize and write"},{category:"vocabulary",chinese:"è¯†è¯»å­—è¯",pinyin:"shÃ­ dÃº zÃ¬ cÃ­",english:"Words to Read",explanation:"Words that students only need to recognize and read, not write"},{category:"vocabulary",chinese:"è§£é‡Š",pinyin:"jiÄ› shÃ¬",english:"Definition / Explanation",explanation:"The meaning or definition of a word"},{category:"vocabulary",chinese:"æž„è¯",pinyin:"gÃ²u cÃ­",english:"Word Formation",explanation:"How words are formed or combined with other characters"},{category:"vocabulary",chinese:"æ­é…",pinyin:"dÄ pÃ¨i",english:"Word Combinations",explanation:"Words that commonly go together"},{category:"vocabulary",chinese:"ä¾‹å¥",pinyin:"lÃ¬ jÃ¹",english:"Example Sentence",explanation:"A sentence showing how to use the word"},{category:"vocabulary",chinese:"è¯»ä¸€è¯»",pinyin:"dÃº yÄ« dÃº",english:"Read It",explanation:"Instruction to read the following content aloud"},{category:"vocabulary",chinese:"è¯è¯­æ­é…",pinyin:"cÃ­ yÇ” dÄ pÃ¨i",english:"Word Collocations",explanation:"Common word pairings and phrases"},{category:"vocabulary",chinese:"å¬å†™è¯è¯­",pinyin:"tÄ«ng xiÄ› cÃ­ yÇ”",english:"Dictation Words",explanation:"Words for spelling practice - listen and write"},{category:"exercises",chinese:"è¯­æ–‡åº”ç”¨",pinyin:"yÇ” wÃ©n yÃ¬ng yÃ²ng",english:"Chinese Application",explanation:"Exercises to apply Chinese language skills"},{category:"exercises",chinese:"ä»Žæ‰€æä¾›çš„é€‰é¡¹ä¸­é€‰å‡ºæ­£ç¡®çš„ç­”æ¡ˆ",pinyin:"cÃ³ng suÇ’ tÃ­ gÅng de xuÇŽn xiÃ ng zhÅng xuÇŽn chÅ« zhÃ¨ng quÃ¨ de dÃ¡ Ã n",english:"Choose the correct answer from the options provided",explanation:"Multiple choice question instruction"},{category:"exercises",chinese:"æœ¬é¡µå¾—åˆ†",pinyin:"bÄ›n yÃ¨ dÃ© fÄ“n",english:"Score for this page",explanation:"The marks earned on this page"},{category:"exercises",chinese:"é€‰å‡ºé€‚å½“çš„è¯è¯­",pinyin:"xuÇŽn chÅ« shÃ¬ dÃ ng de cÃ­ yÇ”",english:"Select the appropriate word",explanation:"Choose the right word to fill in the blank"},{category:"exercises",chinese:"æŠŠä»£è¡¨å®ƒçš„æ•°å­—å¡«å†™åœ¨æ‹¬å·é‡Œ",pinyin:"bÇŽ dÃ i biÇŽo tÄ de shÃ¹ zÃ¬ tiÃ¡n xiÄ› zÃ i kuÃ² hÃ o lÇ",english:"Write the number representing it in the brackets",explanation:"Write your answer number inside the parentheses"},{category:"exercises",chinese:"æ”¹å†™å¥å­",pinyin:"gÇŽi xiÄ› jÃ¹ zi",english:"Rewrite Sentences",explanation:"Change or rewrite the sentence in a different way"},{category:"exercises",chinese:"æŠŠä¸¤ä¸ªå¥å­åˆå¹¶æˆä¸€ä¸ªå®Œæ•´çš„å¥å­",pinyin:"bÇŽ liÇŽng gÃ¨ jÃ¹ zi hÃ© bÃ¬ng chÃ©ng yÄ« gÃ¨ wÃ¡n zhÄ›ng de jÃ¹ zi",english:"Combine two sentences into one complete sentence",explanation:"Join two sentences together into one"},{category:"exercises",chinese:"åŠ ä¸Šé€‚å½“çš„æ ‡ç‚¹ç¬¦å·",pinyin:"jiÄ shÃ ng shÃ¬ dÃ ng de biÄo diÇŽn fÃº hÃ o",english:"Add appropriate punctuation",explanation:"Put in the correct punctuation marks"},{category:"exercises",chinese:"ç»„å¥æˆæ®µ",pinyin:"zÇ” jÃ¹ chÃ©ng duÃ n",english:"Arrange sentences into paragraph",explanation:"Put sentences in order to form a paragraph"},{category:"exercises",chinese:"æŒ‰æ­£ç¡®çš„é¡ºåºå°†å¥å­æŽ’åˆ—å‡ºæ¥",pinyin:"Ã n zhÃ¨ng quÃ¨ de shÃ¹n xÃ¹ jiÄng jÃ¹ zi pÃ¡i liÃ¨ chÅ« lÃ¡i",english:"Arrange sentences in the correct order",explanation:"Put the sentences in the right sequence"},{category:"exercises",chinese:"åœ¨æ‹¬å·é‡Œå†™ä¸Šåºå·",pinyin:"zÃ i kuÃ² hÃ o lÇ xiÄ› shÃ ng xÃ¹ hÃ o",english:"Write the serial number in the brackets",explanation:"Number the items in order in the parentheses"},{category:"reading",chinese:"é˜…è¯»è®¡åˆ’",pinyin:"yuÃ¨ dÃº jÃ¬ huÃ ",english:"Reading Plan",explanation:"A schedule or plan for reading activities"},{category:"reading",chinese:"é˜…è¯»ä½œå“",pinyin:"yuÃ¨ dÃº zuÃ² pÇn",english:"Reading Material",explanation:"The book or text being read"},{category:"reading",chinese:"é˜…è¯»æ—¶é—´",pinyin:"yuÃ¨ dÃº shÃ­ jiÄn",english:"Reading Time",explanation:"How long spent reading"},{category:"reading",chinese:"åˆ†é’Ÿ",pinyin:"fÄ“n zhÅng",english:"Minutes",explanation:"Unit of time measurement"},{category:"reading",chinese:"è€ƒæŸ¥æƒ…å†µ",pinyin:"kÇŽo chÃ¡ qÃ­ng kuÃ ng",english:"Assessment Status",explanation:"How well the student performed"},{category:"reading",chinese:"è€ƒæŸ¥æ ‡å‡†",pinyin:"kÇŽo chÃ¡ biÄo zhÇ”n",english:"Assessment Criteria",explanation:"The standards used to evaluate performance"},{category:"reading",chinese:"è¯·å®¶é•¿åœ¨ä»¥ä¸Šçš„æ—¶é—´æ é‡Œç­¾å",pinyin:"qÇng jiÄ zhÇŽng zÃ i yÇ shÃ ng de shÃ­ jiÄn lÃ¡n lÇ qiÄn mÃ­ng",english:"Please have parents sign in the time column above",explanation:"Parent signature required for verification"},{category:"reading",chinese:"é˜…è¯»ï¼Œæ˜¯ç”Ÿå‘½çš„æºæ³‰",pinyin:"yuÃ¨ dÃº, shÃ¬ shÄ“ng mÃ¬ng de yuÃ¡n quÃ¡n",english:"Reading is the source of life",explanation:"A motivational phrase about the importance of reading"},{category:"oral",chinese:"çœ‹å›¾è¯´è¯",pinyin:"kÃ n tÃº shuÅ huÃ ",english:"Picture Description",explanation:"Describe what you see in a picture - oral practice"},{category:"oral",chinese:"æè¿°å›¾ç‰‡",pinyin:"miÃ¡o shÃ¹ tÃº piÃ n",english:"Describe the Picture",explanation:"Tell what is happening in the picture"},{category:"oral",chinese:"æ„Ÿå—",pinyin:"gÇŽn shÃ²u",english:"Feeling (F)",explanation:"FORIF: Express how you feel about what you see"},{category:"oral",chinese:"çœ‹æ³•",pinyin:"kÃ n fÇŽ",english:"Opinion (O)",explanation:"FORIF: Share your thoughts or opinion"},{category:"oral",chinese:"åŽŸå› ",pinyin:"yuÃ¡n yÄ«n",english:"Reason (R)",explanation:"FORIF: Give reasons to support your opinion"},{category:"oral",chinese:"å¦‚æžœ",pinyin:"rÃº guÇ’",english:"If (IF)",explanation:"FORIF: Suggest what you would do if you were in the situation"}],Xi={vocabulary:"Vocabulary Terms",exercises:"Exercise Instructions",reading:"Reading Terms",oral:"Oral Practice Terms"},Ji=[{id:"all",label:"All"},{id:"vocabulary",label:"Vocabulary"},{id:"exercises",label:"Exercises"},{id:"reading",label:"Reading"},{id:"oral",label:"Oral"}];function Zi({term:n}){const{play:i}=ne(),[t,a]=c.useState(!1),r=c.useCallback(async()=>{a(!0);const o=`audio/${n.chinese}.mp3`;await i(o),setTimeout(()=>a(!1),500)},[n.chinese,i]);return e.jsxs("div",{className:"term-card",children:[e.jsxs("div",{className:"term-header",children:[e.jsx("button",{className:A("instructions-audio-btn",t&&"playing"),onClick:r,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})})}),e.jsx("div",{className:"term-chinese",children:n.chinese})]}),e.jsx("div",{className:"term-pinyin",children:n.pinyin}),e.jsx("div",{className:"term-english",children:n.english}),e.jsx("div",{className:"term-explanation",children:n.explanation})]})}function es(){const[n,i]=c.useState("all"),t=c.useMemo(()=>n==="all"?pe:pe.filter(r=>r.category===n),[n]),a=c.useMemo(()=>{const r={};return t.forEach(o=>{r[o.category]||(r[o.category]=[]),r[o.category].push(o)}),r},[t]);return e.jsxs("div",{className:"glossary-container active",children:[e.jsx("div",{className:"category-filter",children:Ji.map(r=>e.jsx("button",{className:A("category-btn",n===r.id&&"active"),onClick:()=>i(r.id),children:r.label},r.id))}),e.jsx("div",{id:"glossary-content",children:Object.entries(a).map(([r,o])=>e.jsxs("div",{className:"glossary-section",children:[e.jsx("h2",{className:"section-title",children:Xi[r]}),o.map((d,l)=>e.jsx(Zi,{term:d},l))]},r))})]})}function ns(){const{play:n}=ne(),[i,t]=c.useState([]),[a,r]=c.useState(0),[o,d]=c.useState(0),[l,g]=c.useState(null),[m,f]=c.useState(!1),[h,s]=c.useState(!1),w=c.useCallback(()=>{const S=[...pe].sort(()=>Math.random()-.5).slice(0,10).map(R=>{const M=pe.filter(q=>q.chinese!==R.chinese).sort(()=>Math.random()-.5).slice(0,3).map(q=>q.english),L=[R.english,...M].sort(()=>Math.random()-.5);return{term:R,options:L}});t(S),r(0),d(0),g(null),f(!1)},[]);c.useEffect(()=>{w()},[w]);const j=i[a],p=c.useCallback(async()=>{if(!j)return;s(!0);const u=`audio/${j.term.chinese}.mp3`;await n(u),setTimeout(()=>s(!1),500)},[j,n]),y=c.useCallback(u=>{m||!j||(g(u),f(!0),u===j.term.english&&d(b=>b+1))},[m,j]),x=c.useCallback(()=>{r(u=>u+1),g(null),f(!1)},[]);if(i.length===0)return e.jsx("div",{className:"quiz-container active",children:e.jsx("div",{className:"quiz-card",children:e.jsx("p",{children:"Loading quiz..."})})});if(a>=i.length){const u=Math.round(o/i.length*100);let b="";return u===100?b="Perfect! Excellent work!":u>=80?b="Great job! Keep it up!":u>=60?b="Good effort! Review and try again!":b="Keep practicing! You can do it!",e.jsx("div",{className:"quiz-container active",children:e.jsxs("div",{className:"quiz-results",children:[e.jsxs("div",{className:"results-score",children:[o,"/",i.length]}),e.jsx("div",{className:"results-message",children:b}),e.jsx("button",{className:"restart-btn",onClick:w,children:"Try Again"})]})})}const k=l===j.term.english;return e.jsxs("div",{className:"quiz-container active",children:[e.jsxs("div",{className:"quiz-progress",children:["Question ",e.jsx("span",{id:"current-q",children:a+1})," of"," ",e.jsx("span",{id:"total-q",children:i.length}),e.jsxs("div",{className:"quiz-score",children:["Score: ",e.jsx("span",{id:"quiz-score",children:o})]})]}),e.jsxs("div",{className:"quiz-card",children:[e.jsx("div",{className:"quiz-question-label",children:"What does this mean?"}),e.jsx("button",{className:A("quiz-audio-btn",h&&"playing"),onClick:p,children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})})}),e.jsx("div",{className:"quiz-term",children:j.term.chinese}),e.jsx("div",{className:"quiz-pinyin",children:j.term.pinyin}),e.jsx("div",{className:"quiz-options",children:j.options.map((u,b)=>e.jsx("button",{className:A("quiz-option",m&&"disabled",m&&u===j.term.english&&"correct",m&&l===u&&!k&&"incorrect"),onClick:()=>y(u),disabled:m,children:u},b))}),m&&e.jsx("div",{className:A("quiz-feedback",k?"correct":"incorrect"),children:k?"Correct!":`Incorrect. The answer is: ${j.term.english}`}),m&&e.jsx("button",{className:"quiz-next-btn visible",onClick:x,children:"Next Question"})]})]})}function is(){const[n,i]=c.useState("glossary");return e.jsxs("div",{className:"instructions-page",children:[e.jsxs("div",{className:"instructions-header",children:[e.jsx("h1",{children:"Instructions Glossary"}),e.jsx("p",{children:"zhishi ciyu"})]}),e.jsxs("div",{className:"nav-tabs",children:[e.jsx("button",{className:A("nav-tab",n==="glossary"&&"active"),onClick:()=>i("glossary"),children:"Learn"}),e.jsx("button",{className:A("nav-tab",n==="quiz"&&"active"),onClick:()=>i("quiz"),children:"Quiz"})]}),e.jsx("div",{className:"instructions-content",children:n==="glossary"?e.jsx(es,{}):e.jsx(ns,{})})]})}const ss=H("/handwriting")({component:rs});function ts(n){const i=n.charCodeAt(0);return i>=19968&&i<=40959||i>=13312&&i<=19903||i>=131072&&i<=173791}function as(n){return Array.from(n).filter(ts)}function rs(){const[n,i]=c.useState("ä½ å¥½"),[t,a]=c.useState(!1),[r,o]=c.useState([]),[d,l]=c.useState(0),[g,m]=c.useState(0),[f,h]=c.useState(""),[s,w]=c.useState(!1),j=c.useRef(null),p=c.useRef(null),y=c.useRef(null),x=c.useRef(0),k=c.useRef(0),u=c.useRef(!1);c.useEffect(()=>{(async()=>{try{const P=await ke(()=>import("https://cdn.jsdelivr.net/npm/hanzi-writer@3.7.3/+esm"),[]);y.current=P.default}catch(P){console.error("Failed to load HanziWriter:",P),h("Failed to load HanziWriter library"),w(!0)}})()},[]);const b=c.useCallback(N=>{if(!p.current||!y.current)return;p.current.innerHTML="",h(""),w(!1);const P=y.current;j.current=P.create(p.current,N,{width:300,height:300,padding:20,showOutline:!0,showCharacter:!1,strokeAnimationSpeed:1,delayBetweenStrokes:100,strokeColor:"#333",outlineColor:"#ddd",drawingColor:"#4a90d9",drawingWidth:20,showHintAfterMisses:3,highlightOnComplete:!0,highlightColor:"#27ae60",charDataLoader:W=>fetch(`https://cdn.jsdelivr.net/npm/hanzi-writer-data@2.0/${W}.json`).then(I=>{if(!I.ok)throw new Error("Character not found");return I.json()})}),m(0),j.current.quiz({onMistake:W=>{h(`${W.strokeNum+1}: Try again!`),w(!0)},onCorrectStroke:W=>{m(W.strokeNum+1),h(`${W.strokeNum+1}: Correct!`),w(!1)},onComplete:W=>{const I=W.totalMistakes;h(I===0?"Perfect! No mistakes!":`Complete! ${I} mistake${I>1?"s":""}.`),w(!1)}})},[]),S=()=>{const N=as(n.trim());if(N.length===0){alert("Please enter at least one Chinese character.");return}o(N),l(0),a(!0),m(0),setTimeout(()=>{b(N[0])},100)},R=()=>{if(d>0){const N=d-1;l(N),b(r[N])}},M=()=>{if(d<r.length-1){const N=d+1;l(N),b(r[N])}},L=()=>{j.current&&j.current.highlightStroke(g)},q=()=>{r[d]&&b(r[d])},Y=N=>{N.key==="Enter"&&S()},ee=N=>{var W;const P=N.target;u.current=((W=p.current)==null?void 0:W.contains(P))||!1,x.current=N.changedTouches[0].screenX,k.current=N.changedTouches[0].screenY},v=N=>{if(u.current){u.current=!1;return}const P=N.changedTouches[0].screenX,W=N.changedTouches[0].screenY,I=x.current-P,F=Math.abs(k.current-W);Math.abs(I)>F&&Math.abs(I)>80&&(I>0?M():R())};return e.jsxs("div",{className:"handwriting-container",children:[e.jsx("header",{className:"handwriting-header",children:e.jsx("h1",{children:"Chinese Handwriting Practice"})}),e.jsxs("div",{className:"input-section",children:[e.jsx("input",{type:"text",id:"character-input",placeholder:"Enter characters to practice",maxLength:50,value:n,onChange:N=>i(N.target.value),onKeyPress:Y}),e.jsx("button",{id:"start-btn",onClick:S,children:"Start"})]}),t?e.jsxs("div",{className:"practice-area",onTouchStart:ee,onTouchEnd:v,children:[e.jsxs("div",{className:"progress-bar",children:[e.jsx("span",{children:d+1})," / ",e.jsx("span",{children:r.length})]}),e.jsx("div",{className:"character-display",children:e.jsx("span",{id:"current-char",children:r[d]})}),e.jsx("div",{id:"writer-container",children:e.jsx("div",{id:"character-target",ref:p})}),e.jsxs("div",{className:"controls",children:[e.jsx("button",{className:"hw-nav-btn",onClick:R,disabled:d===0,children:"Prev"}),e.jsx("button",{className:"action-btn",onClick:L,children:"Hint"}),e.jsx("button",{className:"action-btn reset-btn",onClick:q,children:"Reset"}),e.jsx("button",{className:"hw-nav-btn",onClick:M,disabled:d>=r.length-1,children:"Next"})]}),e.jsx("div",{className:A("status",s&&"error"),children:f})]}):e.jsxs("div",{className:"instructions",children:[e.jsx("h2",{children:"How to Use"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Enter Chinese characters you want to practice"}),e.jsx("li",{children:"Write each stroke in the correct order"}),e.jsx("li",{children:'Use "Hint" to see the next stroke'}),e.jsx("li",{children:'Use "Reset" to clear and try again'}),e.jsx("li",{children:"Navigate between characters with Previous/Next"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sample characters:"})," ä½ å¥½ä¸–ç•Œå­¦ä¹ ä¸­æ–‡"]})]})]})}const os=H("/family")({component:ps}),ls={"immediate-family":[{english:"Your Mom",chinese:"å¦ˆå¦ˆ",pinyin:"mÄma"},{english:"Your Dad",chinese:"çˆ¸çˆ¸",pinyin:"bÃ ba"},{english:"Your Wife",chinese:"å¦»å­ / è€å©†",pinyin:"qÄ«zi / lÇŽopÃ³"},{english:"Your Husband",chinese:"ä¸ˆå¤« / è€å…¬",pinyin:"zhÃ ngfÅ« / lÇŽogÅng"},{english:"Your older brother",chinese:"å“¥å“¥",pinyin:"gÄ“gÄ“"},{english:"Your older sister",chinese:"å§å§",pinyin:"jiÄ›jiÄ›"},{english:"Your younger brother",chinese:"å¼Ÿå¼Ÿ",pinyin:"dÃ¬dÃ¬"},{english:"Your younger sister",chinese:"å¦¹å¦¹",pinyin:"mÃ¨imei"},{english:"Your son",chinese:"å„¿å­",pinyin:"Ã©rzi"},{english:"Your daughter",chinese:"å¥³å„¿",pinyin:"nÇš'Ã©r"}],grandparents:[{english:"Grandmother (Dad's side)",chinese:"å¥¶å¥¶",pinyin:"nÇŽinai"},{english:"Grandmother (Mom's side)",chinese:"å¤–å©†",pinyin:"wÃ ipÃ³"},{english:"Grandfather (Dad's side)",chinese:"çˆ·çˆ·",pinyin:"yÃ©yÃ©"},{english:"Grandfather (Mom's side)",chinese:"å¤–å…¬",pinyin:"wÃ igÅng"}],uncles:[{english:"Dad's older brother",chinese:"ä¼¯ä¼¯",pinyin:"bÃ³bo"},{english:"Dad's younger brother",chinese:"å”å”",pinyin:"shÅ«shu"},{english:"Dad's sister's husband",chinese:"å§‘å¤«",pinyin:"gÅ«fÅ«"},{english:"Mom's brother",chinese:"èˆ…èˆ…",pinyin:"jiÃ¹jiu"}],aunts:[{english:"Dad's older sister",chinese:"å§‘å¦ˆ",pinyin:"gÅ«mÄ"},{english:"Dad's younger sister",chinese:"å§‘å§‘",pinyin:"gÅ«gÅ«"},{english:"Dad's older brother's wife",chinese:"ä¼¯æ¯",pinyin:"bÃ³mÇ”"},{english:"Dad's younger brother's wife",chinese:"å©¶å©¶",pinyin:"shÄ›nshÄ›n"},{english:"Mom's older sister",chinese:"å§¨å¦ˆ",pinyin:"yÃ­mÄ"},{english:"Mom's younger sister",chinese:"é˜¿å§¨",pinyin:"ÄyÃ­"},{english:"Mom's brother's wife",chinese:"èˆ…æ¯",pinyin:"jiÃ¹mÇ”"}],cousins:[{english:"Dad's sibling's son (older)",chinese:"å ‚å…„",pinyin:"tÃ¡ng xiÅng"},{english:"Dad's sibling's son (younger)",chinese:"å ‚å¼Ÿ",pinyin:"tÃ¡ng dÃ¬"},{english:"Dad's sibling's daughter (older)",chinese:"å ‚å§",pinyin:"tÃ¡ng jiÄ›"},{english:"Dad's sibling's daughter (younger)",chinese:"å ‚å¦¹",pinyin:"tÃ¡ng mÃ¨i"},{english:"Mom's sibling's son (older)",chinese:"è¡¨å“¥",pinyin:"biÇŽo gÄ“"},{english:"Mom's sibling's son (younger)",chinese:"è¡¨å¼Ÿ",pinyin:"biÇŽo dÃ¬"},{english:"Mom's sibling's daughter (older)",chinese:"è¡¨å§",pinyin:"biÇŽo jiÄ›"},{english:"Mom's sibling's daughter (younger)",chinese:"è¡¨å¦¹",pinyin:"biÇŽo mÃ¨i"}],"nephews-nieces":[{english:"Brother's son",chinese:"ä¾„å­",pinyin:"zhÃ­zi"},{english:"Sister's son",chinese:"å¤–ç”¥",pinyin:"wÃ ishÄ“ng"},{english:"Brother's daughter",chinese:"ä¾„å¥³",pinyin:"zhÃ­nÇš"},{english:"Sister's daughter",chinese:"å¤–ç”¥å¥³",pinyin:"wÃ ishengnÇš"}],"in-laws":[{english:"Husband's father",chinese:"å…¬å…¬",pinyin:"gÅnggong"},{english:"Wife's father",chinese:"å²³çˆ¶",pinyin:"yuÃ¨fÃ¹"},{english:"Husband's mother",chinese:"å©†å©†",pinyin:"pÃ³po"},{english:"Wife's mother",chinese:"å²³æ¯",pinyin:"yuÃ¨mÇ”"},{english:"Older sister's husband",chinese:"å§å¤«",pinyin:"jiÄ›fÅ«"},{english:"Younger sister's husband",chinese:"å¦¹å¤«",pinyin:"mÃ¨ifÅ«"},{english:"Older brother's wife",chinese:"å«‚å­",pinyin:"sÇŽozi"},{english:"Younger brother's wife",chinese:"å¼Ÿå¦‡",pinyin:"dÃ¬fÃ¹"}]},cs={"immediate-family":{icon:"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦",title:"Your Immediate Family ç›´ç³»äº²å±ž"},grandparents:{icon:"ðŸ‘´ðŸ‘µ",title:"Grandparents ç¥–çˆ¶æ¯/å¤–ç¥–çˆ¶æ¯"},uncles:{icon:"ðŸ‘¨",title:"Uncles ä¼¯ä¼¯/å”å”/èˆ…èˆ…"},aunts:{icon:"ðŸ‘©",title:"Aunts å§‘å¦ˆ/å§¨å¦ˆ/ä¼¯æ¯/å©¶å©¶"},cousins:{icon:"ðŸ‘«",title:"Cousins å ‚å…„å¼Ÿå§å¦¹/è¡¨å…„å¼Ÿå§å¦¹"},"nephews-nieces":{icon:"ðŸ‘¶",title:"Nephews & Nieces ä¾„å­/ä¾„å¥³/å¤–ç”¥"},"in-laws":{icon:"ðŸ’‘",title:"In-Laws å§»äº²"}},ds=`flowchart TB
    subgraph FATHER_SIDE["Father's Side"]
        direction TB
        subgraph F_GP["Grandparents"]
            yeye["ðŸ‘´ çˆ·çˆ·<br/>Grandfather"]:::male
            nainai["ðŸ‘µ å¥¶å¥¶<br/>Grandmother"]:::female
        end

        subgraph F_PARENTS["Parents Generation"]
            bobo["ðŸ‘¨ ä¼¯ä¼¯<br/>Uncle (older)"]:::male
            baba["ðŸ‘¨ çˆ¸çˆ¸<br/>Father"]:::male
            shushu["ðŸ‘¨ å”å”<br/>Uncle (younger)"]:::male
            guma["ðŸ‘© å§‘å¦ˆ<br/>Aunt"]:::female
        end

        yeye --> bobo
        nainai --> bobo
        yeye --> baba
        nainai --> baba
        yeye --> shushu
        nainai --> shushu
        yeye --> guma
        nainai --> guma
    end

    subgraph MOTHER_SIDE["Mother's Side"]
        direction TB
        subgraph M_GP["Grandparents"]
            waigong["ðŸ‘´ å¤–å…¬<br/>Grandfather"]:::male
            waipo["ðŸ‘µ å¤–å©†<br/>Grandmother"]:::female
        end

        subgraph M_PARENTS["Parents Generation"]
            mama["ðŸ‘© å¦ˆå¦ˆ<br/>Mother"]:::female
            jiujiu["ðŸ‘¨ èˆ…èˆ…<br/>Uncle"]:::male
            yima["ðŸ‘© å§¨å¦ˆ<br/>Aunt (older)"]:::female
            ayi["ðŸ‘© é˜¿å§¨<br/>Aunt (younger)"]:::female
        end

        waigong --> mama
        waipo --> mama
        waigong --> jiujiu
        waipo --> jiujiu
        waigong --> yima
        waipo --> yima
        waigong --> ayi
        waipo --> ayi
    end

    FATHER_SIDE ~~~ MOTHER_SIDE

    subgraph YOUR_GEN["Your Generation"]
        direction LR
        gege["ðŸ‘¦ å“¥å“¥<br/>Older Brother"]:::male
        jiejie["ðŸ‘§ å§å§<br/>Older Sister"]:::female
        you["ðŸŸ¡ ä½ /æˆ‘<br/>YOU"]:::highlight
        qizi["ðŸ’‘ å¦»å­<br/>Wife"]:::female
        didi["ðŸ‘¦ å¼Ÿå¼Ÿ<br/>Younger Brother"]:::male
        meimei["ðŸ‘§ å¦¹å¦¹<br/>Younger Sister"]:::female
    end

    subgraph CHILDREN["Children Generation"]
        direction LR
        erzi["ðŸ‘¦ å„¿å­<br/>Son"]:::male
        nuer["ðŸ‘§ å¥³å„¿<br/>Daughter"]:::female
    end

    baba -.marriage.- mama

    baba --> you
    mama --> you
    baba --> gege
    mama --> gege
    baba --> jiejie
    mama --> jiejie
    baba --> didi
    mama --> didi
    baba --> meimei
    mama --> meimei

    you -.marriage.- qizi

    you --> erzi
    qizi --> erzi
    you --> nuer
    qizi --> nuer

    classDef male fill:#80ccff,stroke:#333,stroke-width:2px,color:#000
    classDef female fill:#ffb3d9,stroke:#333,stroke-width:2px,color:#000
    classDef highlight fill:#ffd700,stroke:#333,stroke-width:3px,color:#000`;function hs({data:n}){const{play:i}=ne(),[t,a]=c.useState(!1),r=c.useCallback(async o=>{o==null||o.stopPropagation(),a(!0);const l=`audio/${n.chinese.split("/")[0].trim()}.mp3`;await i(l),setTimeout(()=>a(!1),500)},[n.chinese,i]);return e.jsxs("div",{className:"family-card",onClick:()=>r(),children:[e.jsx("div",{className:"family-card-english",children:n.english}),e.jsx("div",{className:"family-card-chinese",children:n.chinese}),e.jsx("div",{className:"family-card-pinyin",children:n.pinyin}),e.jsxs("button",{className:A("family-card-audio-btn",t&&"playing"),onClick:r,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})}),e.jsx("span",{children:"Play Audio"})]})]})}function us({categoryId:n,members:i}){const{icon:t,title:a}=cs[n];return e.jsxs("div",{className:"category-section",children:[e.jsxs("div",{className:"category-header",children:[t," ",a]}),e.jsx("div",{className:"family-grid",children:i.map((r,o)=>e.jsx(hs,{data:r},o))})]})}function ms(){const n=c.useRef(null),i=c.useRef(null),[t,a]=c.useState(1),[r,o]=c.useState({x:0,y:0}),[d,l]=c.useState(!1),g=c.useRef({x:0,y:0}),m=c.useRef({x:0,y:0});c.useEffect(()=>{(async()=>{try{const b=await ke(()=>import("https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs"),[]);if(b.default.initialize({startOnLoad:!1,theme:"default",flowchart:{useMaxWidth:!1,htmlLabels:!0,curve:"basis",nodeSpacing:120,rankSpacing:120,padding:30},themeVariables:{fontSize:"20px",fontFamily:"Arial, sans-serif"}}),i.current){const{svg:S}=await b.default.render("family-tree-svg",ds);i.current.innerHTML=S}}catch(b){console.error("Failed to load Mermaid:",b)}})()},[]);const f=()=>a(u=>Math.min(u+.2,3)),h=()=>a(u=>Math.max(u-.2,.5)),s=()=>{a(1),o({x:0,y:0})},w=u=>{l(!0),g.current={x:u.clientX,y:u.clientY},m.current={x:r.x,y:r.y}},j=u=>{if(!d)return;const b=u.clientX-g.current.x,S=u.clientY-g.current.y;o({x:m.current.x+b,y:m.current.y+S})},p=()=>l(!1),y=u=>{u.touches.length===1&&(l(!0),g.current={x:u.touches[0].clientX,y:u.touches[0].clientY},m.current={x:r.x,y:r.y})},x=u=>{if(!d||u.touches.length!==1)return;u.preventDefault();const b=u.touches[0].clientX-g.current.x,S=u.touches[0].clientY-g.current.y;o({x:m.current.x+b,y:m.current.y+S})},k=()=>l(!1);return e.jsxs("div",{className:"tree-section",children:[e.jsx("h2",{children:"Family Tree"}),e.jsxs("div",{className:"tree-controls",children:[e.jsx("button",{className:"tree-btn",onClick:f,children:"+ Zoom In"}),e.jsx("button",{className:"tree-btn",onClick:h,children:"- Zoom Out"}),e.jsx("button",{className:"tree-btn",onClick:s,children:"Reset"})]}),e.jsx("div",{ref:n,className:"tree-container",onMouseDown:w,onMouseMove:j,onMouseUp:p,onMouseLeave:p,onTouchStart:y,onTouchMove:x,onTouchEnd:k,children:e.jsx("div",{ref:i,className:"mermaid",style:{transform:`translate(${r.x}px, ${r.y}px) scale(${t})`,cursor:d?"grabbing":"grab"}})}),e.jsxs("div",{className:"scroll-hint",children:["Click/Touch and drag to move | Zoom to enlarge",e.jsx("br",{}),"Blue=Male | Pink=Female | Gold=You"]})]})}function ps(){return e.jsxs("div",{className:"family-container",children:[e.jsxs("header",{className:"family-header",children:[e.jsx("h1",{children:"Family Relationships"}),e.jsx("p",{children:"Tap cards to hear pronunciation"})]}),e.jsxs("div",{className:"note",children:[e.jsx("strong",{children:"Tip:"})," Chinese family terms are very specific about age order and which side of the family. Pay attention to these details!"]}),e.jsx(ms,{}),Object.entries(ls).map(([n,i])=>e.jsx(us,{categoryId:n,members:i},n))]})}const gs=H("/dashboard")({component:fs});function fs(){const n=Oe(),{data:i,isLoading:t}=ae(ge),{data:a,isLoading:r,error:o,refetch:d}=Ne(),l=c.useMemo(()=>{var p,y;const f=((p=a==null?void 0:a.knownWords)==null?void 0:p.length)||0,h=((y=a==null?void 0:a.unknownWords)==null?void 0:y.length)||0,s=f+h,w=i?fe(i).length:0,j=w>0?Math.round(f/w*100):0;return{knownCount:f,unknownCount:h,practicedCount:s,totalWords:w,progressPercentage:j}},[a,i]),g=c.useMemo(()=>{if(!(a!=null&&a.lastUpdated))return null;const f=new Date(a.lastUpdated),s=new Date().getTime()-f.getTime(),w=Math.floor(s/6e4),j=Math.floor(s/36e5),p=Math.floor(s/864e5);return w<1?"åˆšåˆšæ›´æ–°":w<60?`${w} åˆ†é’Ÿå‰æ›´æ–°`:j<24?`${j} å°æ—¶å‰æ›´æ–°`:p<7?`${p} å¤©å‰æ›´æ–°`:f.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},[a==null?void 0:a.lastUpdated]),m=()=>{d(),n.invalidateQueries({queryKey:["vocabulary"]})};return t||r?e.jsxs("div",{className:"dashboard-container",children:[e.jsxs("div",{className:"dashboard-header",children:[e.jsx("h1",{className:"dashboard-title",children:"å®¶é•¿çœ‹æ¿"}),e.jsx("p",{className:"dashboard-subtitle",children:"å®žæ—¶æŸ¥çœ‹å­©å­çš„å­¦ä¹ è¿›åº¦"})]}),e.jsx("div",{className:"loading-spinner",children:"æ­£åœ¨åŠ è½½æ•°æ®..."})]}):o?e.jsxs("div",{className:"dashboard-container",children:[e.jsxs("div",{className:"dashboard-header",children:[e.jsx("h1",{className:"dashboard-title",children:"å®¶é•¿çœ‹æ¿"}),e.jsx("p",{className:"dashboard-subtitle",children:"å®žæ—¶æŸ¥çœ‹å­©å­çš„å­¦ä¹ è¿›åº¦"})]}),e.jsx("div",{className:"error-message",children:de.DATA_LOAD}),e.jsx("button",{className:"refresh-btn",onClick:m,children:"åˆ·æ–°æ•°æ®"})]}):e.jsxs("div",{className:"dashboard-container",children:[e.jsxs("div",{className:"dashboard-header",children:[e.jsx("h1",{className:"dashboard-title",children:"å®¶é•¿çœ‹æ¿"}),e.jsx("p",{className:"dashboard-subtitle",children:"å®žæ—¶æŸ¥çœ‹å­©å­çš„å­¦ä¹ è¿›åº¦"})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{className:"stat-card-header",children:[e.jsx("div",{className:"stat-icon",children:"âœ…"}),e.jsx("div",{className:"stat-label",children:"å·²æŽŒæ¡è¯è¯­"})]}),e.jsx("div",{className:"stat-value",children:l.knownCount}),e.jsx("div",{className:"stat-subtitle",children:"å­©å­å·²ç»ä¼šçš„è¯è¯­"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{className:"stat-card-header",children:[e.jsx("div",{className:"stat-icon",children:"ðŸ“"}),e.jsx("div",{className:"stat-label",children:"éœ€è¦å¤ä¹ "})]}),e.jsx("div",{className:"stat-value",children:l.unknownCount}),e.jsx("div",{className:"stat-subtitle",children:"å­©å­è¿˜ä¸ä¼šçš„è¯è¯­"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{className:"stat-card-header",children:[e.jsx("div",{className:"stat-icon",children:"ðŸ“Š"}),e.jsx("div",{className:"stat-label",children:"æ€»ä½“è¿›åº¦"})]}),e.jsxs("div",{className:"stat-value",children:[l.progressPercentage,"%"]}),e.jsxs("div",{className:"stat-subtitle",children:[l.practicedCount," / ",l.totalWords," è¯è¯­"]}),e.jsx("div",{className:"progress-bar-container",children:e.jsx("div",{className:"progress-bar",style:{width:`${l.progressPercentage}%`}})})]})]}),e.jsx("button",{className:"refresh-btn",onClick:m,children:"åˆ·æ–°æ•°æ®"}),e.jsxs("div",{className:"word-lists",children:[e.jsxs("div",{className:"word-list-section",children:[e.jsxs("div",{className:"word-list-header",children:[e.jsx("span",{className:"icon",children:"âœ…"}),"å·²æŽŒæ¡çš„è¯è¯­"]}),e.jsx("div",{className:"word-grid",children:a!=null&&a.knownWords&&a.knownWords.length>0?a.knownWords.map((f,h)=>e.jsx("div",{className:"word-chip known",children:f},`known-${f}-${h}`)):e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-state-icon",children:"ðŸ“š"}),e.jsx("p",{children:"è¿˜æ²¡æœ‰æŽŒæ¡çš„è¯è¯­"})]})})]}),e.jsxs("div",{className:"word-list-section",children:[e.jsxs("div",{className:"word-list-header",children:[e.jsx("span",{className:"icon",children:"ðŸ“"}),"éœ€è¦å¤ä¹ çš„è¯è¯­"]}),e.jsx("div",{className:"word-grid",children:a!=null&&a.unknownWords&&a.unknownWords.length>0?a.unknownWords.map((f,h)=>e.jsx("div",{className:"word-chip unknown",children:f},`unknown-${f}-${h}`)):e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-state-icon",children:"ðŸŽ‰"}),e.jsx("p",{children:"å¤ªæ£’äº†ï¼æ²¡æœ‰éœ€è¦å¤ä¹ çš„è¯è¯­"})]})})]})]}),g&&e.jsx("div",{className:"last-updated",children:g})]})}function xs(){const{data:n,isLoading:i,error:t}=ae(ge),{data:a}=Ne(),r=Ze(),o=$(E,x=>x.showImportantOnly),d=$(E,x=>x.showLatestOnly),l=$(E,x=>x.currentWordIndex),g=$(E,x=>x.revealState),m=$(E,x=>x.knownWords),f=$(E,x=>x.unknownWords);c.useEffect(()=>{a&&$e(a.knownWords||[],a.unknownWords||[])},[a]);const h=c.useMemo(()=>{if(!n)return[];const x=d?ai(n):fe(n);return o?Ke(x):x},[n,d,o]),s=h[l],w=h.length,j=()=>{if(!s)return;De(s);const x=new Set(m);x.add(s.simplified);const k=new Set(f);k.delete(s.simplified),r.mutate({knownWords:Array.from(x),unknownWords:Array.from(k)}),se(w)},p=()=>{if(!s)return;He(s);const x=new Set(m);x.delete(s.simplified);const k=new Set(f);k.add(s.simplified),r.mutate({knownWords:Array.from(x),unknownWords:Array.from(k)}),se(w)},y=x=>{qe(x)};return i?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):t?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:de.DATA_LOAD})}):s?e.jsxs("div",{children:[e.jsxs("header",{className:"header-row",children:[e.jsx("h1",{className:"page-title",children:"æœ€æ–°è¯è¯­"}),e.jsxs("div",{className:"controls",children:[e.jsx("button",{className:A("filter-btn",!d&&"active"),onClick:yn,children:d?O.ALL_WORDS:O.LATEST_WORDS}),e.jsx("button",{className:A("filter-btn",o&&"active"),onClick:Me,children:o?O.ALL_WORDS:O.IMPORTANT_WORDS}),e.jsxs("div",{className:"progress-display",children:[l+1," / ",w]})]})]}),e.jsxs("main",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"nav-buttons",children:[e.jsx("button",{className:"nav-btn",onClick:_e,disabled:l===0,children:O.PREV_BTN}),e.jsx("button",{className:"nav-btn",onClick:()=>se(w),disabled:l>=w-1,children:O.NEXT_BTN})]}),e.jsx(Qe,{word:s,currentIndex:l,totalWords:w,revealState:g,onToggleReveal:y},s.simplified),e.jsx(Xe,{onKnow:j,onDontKnow:p})]})]}):e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"No words available"})})}const ys=H("/")({component:xs}),bs=ri.update({id:"/vocabulary",path:"/vocabulary",getParentRoute:()=>_}),ws=gi.update({id:"/settings",path:"/settings",getParentRoute:()=>_}),js=xi.update({id:"/school-tingxie",path:"/school-tingxie",getParentRoute:()=>_}),vs=Ti.update({id:"/review",path:"/review",getParentRoute:()=>_}),ks=Ei.update({id:"/radicals",path:"/radicals",getParentRoute:()=>_}),Ns=zi.update({id:"/phrase-matching",path:"/phrase-matching",getParentRoute:()=>_}),Cs=Oi.update({id:"/p3hcl-wupin-interactive",path:"/p3hcl-wupin-interactive",getParentRoute:()=>_}),Ss=_i.update({id:"/p3hcl-reading-sync",path:"/p3hcl-reading-sync",getParentRoute:()=>_}),As=$i.update({id:"/koushi-family-cohesion",path:"/koushi-family-cohesion",getParentRoute:()=>_}),Ts=Qi.update({id:"/instructions",path:"/instructions",getParentRoute:()=>_}),Rs=ss.update({id:"/handwriting",path:"/handwriting",getParentRoute:()=>_}),Es=os.update({id:"/family",path:"/family",getParentRoute:()=>_}),Is=gs.update({id:"/dashboard",path:"/dashboard",getParentRoute:()=>_}),Ps=ys.update({id:"/",path:"/",getParentRoute:()=>_}),Ws={IndexRoute:Ps,DashboardRoute:Is,FamilyRoute:Es,HandwritingRoute:Rs,InstructionsRoute:Ts,KoushiFamilyCohesionRoute:As,P3hclReadingSyncRoute:Ss,P3hclWupinInteractiveRoute:Cs,PhraseMatchingRoute:Ns,RadicalsRoute:ks,ReviewRoute:vs,SchoolTingxieRoute:js,SettingsRoute:ws,VocabularyRoute:bs},zs=_._addFileChildren(Ws)._addFileTypes(),nn=new ln({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*60*24}}}),Ls=cn({routeTree:zs,context:{queryClient:nn},defaultPreload:"intent"}),We=document.getElementById("root");We.innerHTML||mn.createRoot(We).render(e.jsx(c.StrictMode,{children:e.jsx(dn,{client:nn,children:e.jsx(hn,{router:Ls})})}));
