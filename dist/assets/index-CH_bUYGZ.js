import{r as dn,a as l,S as qe,u as $e,b as F,j as e,L as Re,c as hn,O as un,Q as pn,q as mn,d as q,e as te,f as Fe,g as gn,h as xn,i as yn,R as wn}from"./tanstack-nw2R5c1G.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&t(d)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}})();var de={},ze;function fn(){if(ze)return de;ze=1;var n=dn();return de.createRoot=n.createRoot,de.hydrateRoot=n.hydrateRoot,de}var bn=fn();const K={MOBILE_BREAKPOINT:768,SCROLL_HIDE_THRESHOLD:60,SET_COMPLETE_DELAY:500,TOUCH_FEEDBACK_DELAY:100,AUDIO_PRELOAD_COUNT:5,CACHE_VERSION:"v2",CACHE_DURATION:1440*60*1e3,DATA_PATH:"/data/tingxie/tingxie_vocabulary.json",API_VOCABULARY_PATH:"/api/vocabulary",API_PROGRESS_PATH:"/api/progress",VOCABULARY:{LATEST_ROW_NUMBER:80,REVIEW_MODE_NAME:"UNKNOWN_WORDS"},RETRY:{MAX_ATTEMPTS:3,INITIAL_DELAY:1e3}},M={SIMPLIFIED:"ç®€ä½“",TRADITIONAL:"ç¹ä½“",PINYIN:"æ‹¼éŸ³",ENGLISH:"English",ALL_WORDS:"å…¨éƒ¨è¯è¯­",IMPORTANT_WORDS:"é‡è¦è¯è¯­",LATEST_WORDS:"æœ€æ–°15è¯",KNOW_BTN:"ä¼š âœ“",DONT_KNOW_BTN:"ä¸ä¼š âœ—",PREV_BTN:"ä¸Šä¸€ä¸ª",NEXT_BTN:"ä¸‹ä¸€ä¸ª",IMPORTANT_BADGE:"é‡ç‚¹"},ce={DATA_LOAD:"æ— æ³•åŠ è½½è¯æ±‡æ•°æ®ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•",AUDIO_PLAYBACK:"Audio playback failed:"},jn=[{href:"/",label:"æœ€æ–°è¯è¯­"},{href:"/phrase-matching",label:"è¯è¯­æ­é…"},{href:"/p3hcl-reading-sync",label:"é˜…è¯»ç»ƒä¹ "},{href:"/school-tingxie",label:"å­¦æ ¡å¬å†™"},{href:"/review",label:"å¤ä¹ è¯è¯­"},{href:"/dashboard",label:"å®¶é•¿çœ‹æ¿"},{href:"/settings",label:"è®¾ç½®"},{label:"ðŸ“ æ›´å¤šç»ƒä¹ ",children:[{href:"/vocabulary",label:"è¯æ±‡æµè§ˆ"},{href:"/handwriting",label:"ç¬”ç”»ç»ƒä¹ "},{href:"/radicals",label:"éƒ¨é¦–å­¦ä¹ "},{href:"/family",label:"å®¶åº­ç§°å‘¼"},{href:"/instructions",label:"æŒ‡ç¤ºè¯æ±‡"},{href:"/p3hcl-wupin-interactive",label:"äº’åŠ¨é˜…è¯»"},{href:"/koushi-family-cohesion",label:"å£è¯•ï¼šå®¶åº­å‡èšåŠ›"},{href:"/koushi-traffic-safety",label:"å£è¯•ï¼šäº¤é€šå®‰å…¨"}]}],V={STUDENT_ID:"tingxie_student_id",VOCABULARY_CACHE:"vocabulary_cache_v2",VOCABULARY_CACHE_TIMESTAMP:"vocabulary_cache_timestamp_v2",SETTINGS:"tingxie_settings"};function kn(n={}){const{mobileBreakpoint:i=K.MOBILE_BREAKPOINT,scrollThreshold:a=K.SCROLL_HIDE_THRESHOLD}=n,[t,r]=l.useState(!1),o=l.useRef(0),d=l.useRef(!1),c=l.useCallback(()=>{const m=window.scrollY;window.innerWidth<i&&m>o.current&&m>a?r(!0):r(!1),o.current=m,d.current=!1},[i,a]),u=l.useCallback(()=>{d.current||(requestAnimationFrame(c),d.current=!0)},[c]),h=l.useCallback(()=>{window.innerWidth>=i&&r(!1)},[i]);return l.useEffect(()=>(window.addEventListener("scroll",u,{passive:!0}),window.addEventListener("resize",h),()=>{window.removeEventListener("scroll",u),window.removeEventListener("resize",h)}),[u,h]),t}const ae={simplified:!1,traditional:!1,pinyin:!1,english:!1,audio:!1},vn={menuOpen:!1,showImportantOnly:!1,showLatestOnly:!0,currentWordIndex:0,revealState:{...ae},handwritingVisible:!1,currentCharacterIndex:0,knownWords:new Set,unknownWords:new Set},P=new qe(vn);function Nn(){P.setState(n=>({...n,menuOpen:!n.menuOpen}))}function ye(){P.setState(n=>({...n,menuOpen:!1}))}function He(){P.setState(n=>({...n,showImportantOnly:!n.showImportantOnly,currentWordIndex:0,revealState:{...ae}}))}function Cn(){P.setState(n=>({...n,showLatestOnly:!n.showLatestOnly,currentWordIndex:0,revealState:{...ae}}))}function we(n){P.setState(i=>({...i,currentWordIndex:n,revealState:{...ae},handwritingVisible:!1,currentCharacterIndex:0}))}function se(n){P.setState(i=>i.currentWordIndex<n-1?{...i,currentWordIndex:i.currentWordIndex+1,revealState:{...ae},handwritingVisible:!1,currentCharacterIndex:0}:i)}function Ue(){P.setState(n=>n.currentWordIndex>0?{...n,currentWordIndex:n.currentWordIndex-1,revealState:{...ae},handwritingVisible:!1,currentCharacterIndex:0}:n)}function Be(n){P.setState(i=>({...i,revealState:{...i.revealState,[n]:!i.revealState[n]}}))}function Ge(n){P.setState(i=>{const a=new Set(i.knownWords),t=new Set(i.unknownWords);return a.add(n.simplified),t.delete(n.simplified),{...i,knownWords:a,unknownWords:t}})}function Ye(n){P.setState(i=>{const a=new Set(i.knownWords),t=new Set(i.unknownWords);return t.add(n.simplified),a.delete(n.simplified),{...i,knownWords:a,unknownWords:t}})}function Ve(n,i){P.setState(a=>({...a,knownWords:new Set(n),unknownWords:new Set(i)}))}function Ke(n){var i,a,t="";if(typeof n=="string"||typeof n=="number")t+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(i=0;i<r;i++)n[i]&&(a=Ke(n[i]))&&(t&&(t+=" "),t+=a)}else for(a in n)n[a]&&(t&&(t+=" "),t+=a);return t}function Sn(){for(var n,i,a=0,t="",r=arguments.length;a<r;a++)(n=arguments[a])&&(i=Ke(n))&&(t&&(t+=" "),t+=i);return t}const Ce="-",Tn=n=>{const i=Rn(n),{conflictingClassGroups:a,conflictingClassGroupModifiers:t}=n;return{getClassGroupId:d=>{const c=d.split(Ce);return c[0]===""&&c.length!==1&&c.shift(),Qe(c,i)||An(d)},getConflictingClassGroupIds:(d,c)=>{const u=a[d]||[];return c&&t[d]?[...u,...t[d]]:u}}},Qe=(n,i)=>{var d;if(n.length===0)return i.classGroupId;const a=n[0],t=i.nextPart.get(a),r=t?Qe(n.slice(1),t):void 0;if(r)return r;if(i.validators.length===0)return;const o=n.join(Ce);return(d=i.validators.find(({validator:c})=>c(o)))==null?void 0:d.classGroupId},Ee=/^\[(.+)\]$/,An=n=>{if(Ee.test(n)){const i=Ee.exec(n)[1],a=i==null?void 0:i.substring(0,i.indexOf(":"));if(a)return"arbitrary.."+a}},Rn=n=>{const{theme:i,prefix:a}=n,t={nextPart:new Map,validators:[]};return En(Object.entries(n.classGroups),a).forEach(([o,d])=>{ve(d,t,o,i)}),t},ve=(n,i,a,t)=>{n.forEach(r=>{if(typeof r=="string"){const o=r===""?i:Ie(i,r);o.classGroupId=a;return}if(typeof r=="function"){if(zn(r)){ve(r(t),i,a,t);return}i.validators.push({validator:r,classGroupId:a});return}Object.entries(r).forEach(([o,d])=>{ve(d,Ie(i,o),a,t)})})},Ie=(n,i)=>{let a=n;return i.split(Ce).forEach(t=>{a.nextPart.has(t)||a.nextPart.set(t,{nextPart:new Map,validators:[]}),a=a.nextPart.get(t)}),a},zn=n=>n.isThemeGetter,En=(n,i)=>i?n.map(([a,t])=>{const r=t.map(o=>typeof o=="string"?i+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([d,c])=>[i+d,c])):o);return[a,r]}):n,In=n=>{if(n<1)return{get:()=>{},set:()=>{}};let i=0,a=new Map,t=new Map;const r=(o,d)=>{a.set(o,d),i++,i>n&&(i=0,t=a,a=new Map)};return{get(o){let d=a.get(o);if(d!==void 0)return d;if((d=t.get(o))!==void 0)return r(o,d),d},set(o,d){a.has(o)?a.set(o,d):r(o,d)}}},Je="!",Pn=n=>{const{separator:i,experimentalParseClassName:a}=n,t=i.length===1,r=i[0],o=i.length,d=c=>{const u=[];let h=0,m=0,p;for(let y=0;y<c.length;y++){let b=c[y];if(h===0){if(b===r&&(t||c.slice(y,y+o)===i)){u.push(c.slice(m,y)),m=y+o;continue}if(b==="/"){p=y;continue}}b==="["?h++:b==="]"&&h--}const s=u.length===0?c:c.substring(m),x=s.startsWith(Je),f=x?s.substring(1):s,w=p&&p>m?p-m:void 0;return{modifiers:u,hasImportantModifier:x,baseClassName:f,maybePostfixModifierPosition:w}};return a?c=>a({className:c,parseClassName:d}):d},Wn=n=>{if(n.length<=1)return n;const i=[];let a=[];return n.forEach(t=>{t[0]==="["?(i.push(...a.sort(),t),a=[]):a.push(t)}),i.push(...a.sort()),i},Ln=n=>({cache:In(n.cacheSize),parseClassName:Pn(n),...Tn(n)}),On=/\s+/,_n=(n,i)=>{const{parseClassName:a,getClassGroupId:t,getConflictingClassGroupIds:r}=i,o=[],d=n.trim().split(On);let c="";for(let u=d.length-1;u>=0;u-=1){const h=d[u],{modifiers:m,hasImportantModifier:p,baseClassName:s,maybePostfixModifierPosition:x}=a(h);let f=!!x,w=t(f?s.substring(0,x):s);if(!w){if(!f){c=h+(c.length>0?" "+c:c);continue}if(w=t(s),!w){c=h+(c.length>0?" "+c:c);continue}f=!1}const y=Wn(m).join(":"),b=p?y+Je:y,S=b+w;if(o.includes(S))continue;o.push(S);const g=r(w,f);for(let j=0;j<g.length;++j){const A=g[j];o.push(b+A)}c=h+(c.length>0?" "+c:c)}return c};function Mn(){let n=0,i,a,t="";for(;n<arguments.length;)(i=arguments[n++])&&(a=Xe(i))&&(t&&(t+=" "),t+=a);return t}const Xe=n=>{if(typeof n=="string")return n;let i,a="";for(let t=0;t<n.length;t++)n[t]&&(i=Xe(n[t]))&&(a&&(a+=" "),a+=i);return a};function Dn(n,...i){let a,t,r,o=d;function d(u){const h=i.reduce((m,p)=>p(m),n());return a=Ln(h),t=a.cache.get,r=a.cache.set,o=c,c(u)}function c(u){const h=t(u);if(h)return h;const m=_n(u,a);return r(u,m),m}return function(){return o(Mn.apply(null,arguments))}}const E=n=>{const i=a=>a[n]||[];return i.isThemeGetter=!0,i},Ze=/^\[(?:([a-z-]+):)?(.+)\]$/i,qn=/^\d+\/\d+$/,$n=new Set(["px","full","screen"]),Fn=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Hn=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Un=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Bn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Gn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Q=n=>ie(n)||$n.has(n)||qn.test(n),Z=n=>re(n,"length",es),ie=n=>!!n&&!Number.isNaN(Number(n)),fe=n=>re(n,"number",ie),oe=n=>!!n&&Number.isInteger(Number(n)),Yn=n=>n.endsWith("%")&&ie(n.slice(0,-1)),C=n=>Ze.test(n),ee=n=>Fn.test(n),Vn=new Set(["length","size","percentage"]),Kn=n=>re(n,Vn,en),Qn=n=>re(n,"position",en),Jn=new Set(["image","url"]),Xn=n=>re(n,Jn,ss),Zn=n=>re(n,"",ns),le=()=>!0,re=(n,i,a)=>{const t=Ze.exec(n);return t?t[1]?typeof i=="string"?t[1]===i:i.has(t[1]):a(t[2]):!1},es=n=>Hn.test(n)&&!Un.test(n),en=()=>!1,ns=n=>Bn.test(n),ss=n=>Gn.test(n),is=()=>{const n=E("colors"),i=E("spacing"),a=E("blur"),t=E("brightness"),r=E("borderColor"),o=E("borderRadius"),d=E("borderSpacing"),c=E("borderWidth"),u=E("contrast"),h=E("grayscale"),m=E("hueRotate"),p=E("invert"),s=E("gap"),x=E("gradientColorStops"),f=E("gradientColorStopPositions"),w=E("inset"),y=E("margin"),b=E("opacity"),S=E("padding"),g=E("saturate"),j=E("scale"),A=E("sepia"),k=E("skew"),T=E("space"),z=E("translate"),I=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",C,i],v=()=>[C,i],N=()=>["",Q,Z],L=()=>["auto",ie,C],O=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],_=()=>["","0",C],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[ie,C];return{cacheSize:500,separator:":",theme:{colors:[le],spacing:[Q,Z],blur:["none","",ee,C],brightness:$(),borderColor:[n],borderRadius:["none","","full",ee,C],borderSpacing:v(),borderWidth:N(),contrast:$(),grayscale:_(),hueRotate:$(),invert:_(),gap:v(),gradientColorStops:[n],gradientColorStopPositions:[Yn,Z],inset:U(),margin:U(),opacity:$(),padding:v(),saturate:$(),scale:$(),sepia:_(),skew:$(),space:v(),translate:v()},classGroups:{aspect:[{aspect:["auto","square","video",C]}],container:["container"],columns:[{columns:[ee]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...O(),C]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",oe,C]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",C]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",oe,C]}],"grid-cols":[{"grid-cols":[le]}],"col-start-end":[{col:["auto",{span:["full",oe,C]},C]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[le]}],"row-start-end":[{row:["auto",{span:[oe,C]},C]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",C]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",C]}],gap:[{gap:[s]}],"gap-x":[{"gap-x":[s]}],"gap-y":[{"gap-y":[s]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",C,i]}],"min-w":[{"min-w":[C,i,"min","max","fit"]}],"max-w":[{"max-w":[C,i,"none","full","min","max","fit","prose",{screen:[ee]},ee]}],h:[{h:[C,i,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[C,i,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[C,i,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[C,i,"auto","min","max","fit"]}],"font-size":[{text:["base",ee,Z]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fe]}],"font-family":[{font:[le]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",C]}],"line-clamp":[{"line-clamp":["none",ie,fe]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Q,C]}],"list-image":[{"list-image":["none",C]}],"list-style-type":[{list:["none","disc","decimal",C]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Q,Z]}],"underline-offset":[{"underline-offset":["auto",Q,C]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",C]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",C]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...O(),Qn]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Kn]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Xn]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:W()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Q,C]}],"outline-w":[{outline:[Q,Z]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Q,Z]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",ee,Zn]}],"shadow-color":[{shadow:[le]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[t]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",ee,C]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[p]}],saturate:[{saturate:[g]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[t]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",C]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",C]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",C]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[oe,C]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",C]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",C]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",C]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Q,Z,fe]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ts=Dn(is);function R(...n){return ts(Sn(n))}function as({item:n,onNavigate:i}){const a=$e(),[t,r]=l.useState(!1);return n.children?e.jsxs("div",{className:"nav-folder",children:[e.jsxs("button",{className:R("nav-item nav-folder-toggle",t&&"expanded"),onClick:()=>r(!t),children:[n.label,e.jsx("span",{className:"folder-arrow",children:t?"â–¼":"â–¶"})]}),t&&e.jsx("div",{className:"nav-folder-content",children:n.children.map(o=>e.jsx(Re,{to:o.href,className:R("nav-item nav-child-item",a.pathname===o.href&&"active"),onClick:i,children:o.label},o.href))})]}):e.jsx(Re,{to:n.href,className:R("nav-item",a.pathname===n.href&&"active"),onClick:i,children:n.label})}function rs(){const n=$e(),i=kn(),a=F(P,r=>r.menuOpen),t=l.useCallback(r=>{const o=r.target,d=document.getElementById("nav-menu"),c=document.getElementById("menu-toggle");a&&d&&c&&!d.contains(o)&&!c.contains(o)&&ye()},[a]);return l.useEffect(()=>(document.addEventListener("click",t),()=>document.removeEventListener("click",t)),[t]),l.useEffect(()=>{ye()},[n.pathname]),e.jsx("nav",{className:R("main-nav",i&&"nav-hide"),children:e.jsxs("div",{className:"nav-container",children:[e.jsxs("button",{id:"menu-toggle",className:R("menu-toggle",a&&"hamburger-active"),onClick:Nn,"aria-label":"Toggle menu",children:[e.jsx("span",{className:"hamburger-line"}),e.jsx("span",{className:"hamburger-line"}),e.jsx("span",{className:"hamburger-line"})]}),e.jsx("div",{id:"nav-menu",className:R("nav-menu",a&&"active"),children:jn.map((r,o)=>e.jsx(as,{item:r,onNavigate:ye},r.href||`folder-${o}`))})]})})}function os(){l.useEffect(()=>{const n=()=>{const i=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${i}px`)};return n(),window.addEventListener("resize",n),window.addEventListener("orientationchange",n),()=>{window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)}},[])}function ls({children:n,className:i}){return os(),e.jsx("div",{className:R("page-container",i),children:n})}const D=hn({component:cs});function cs(){return e.jsxs("div",{className:"min-h-screen bg-gradient-primary",children:[e.jsx(rs,{}),e.jsx(ls,{children:e.jsx(un,{})})]})}const Se=new pn({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*60*24}}});async function ds(){const n=localStorage.getItem(V.VOCABULARY_CACHE),i=localStorage.getItem(V.VOCABULARY_CACHE_TIMESTAMP);if(n&&i&&Date.now()-parseInt(i)<K.CACHE_DURATION)return console.log("Using cached vocabulary data"),hs(),JSON.parse(n);const a=o=>{const d=o.headers.get("content-type");return d!==null&&d.includes("application/json")};let t=await fetch(K.API_VOCABULARY_PATH);if((!t.ok||!a(t))&&(t=await fetch(K.DATA_PATH)),!t.ok){if(n)return console.log("All sources failed, using stale cache"),JSON.parse(n);throw new Error(`HTTP error! status: ${t.status}`)}const r=await t.json();return localStorage.setItem(V.VOCABULARY_CACHE,JSON.stringify(r)),localStorage.setItem(V.VOCABULARY_CACHE_TIMESTAMP,Date.now().toString()),r}async function hs(){try{const n=a=>{const t=a.headers.get("content-type");return t!==null&&t.includes("application/json")};let i=await fetch(K.API_VOCABULARY_PATH);if((!i.ok||!n(i))&&(i=await fetch(K.DATA_PATH)),i.ok&&n(i)){const a=await i.json();localStorage.setItem(V.VOCABULARY_CACHE,JSON.stringify(a)),localStorage.setItem(V.VOCABULARY_CACHE_TIMESTAMP,Date.now().toString()),console.log("Cache refreshed in background"),Se.setQueryData(["vocabulary"],a)}}catch{console.log("Background cache refresh failed")}}const ge=mn({queryKey:["vocabulary"],queryFn:ds,staleTime:1e3*60*5,gcTime:1e3*60*60*24});function us(n){const i=n.vocabulary.find(a=>a.row===K.VOCABULARY.LATEST_ROW_NUMBER);return(i==null?void 0:i.words)??[]}function xe(n){return n.vocabulary.flatMap(i=>i.words)}function nn(n){return n.filter(i=>i.important)}function X(){const n=l.useRef({}),i=l.useRef(null),a=l.useCallback(()=>{i.current&&(i.current.pause(),i.current.currentTime=0,i.current=null)},[]),t=l.useCallback(async d=>{if(!d)return console.warn("No audio path provided"),!1;try{a();const c=d.startsWith("http")||d.startsWith("/")?d:"/"+d;console.log("Attempting to play audio:",c);let u=n.current[d];if(!u){const h=await fetch(c);if(!h.ok)throw new Error(`Failed to fetch audio: ${h.status} ${h.statusText}`);const m=await h.blob();let p="audio/mpeg";const s=await m.slice(0,12).arrayBuffer(),x=new Uint8Array(s);x[0]===82&&x[1]===73&&x[2]===70&&x[3]===70?p="audio/wav":x[0]===70&&x[1]===79&&x[2]===82&&x[3]===77&&(p="audio/x-aiff"),u=new Audio,u.crossOrigin="anonymous";const f=URL.createObjectURL(m),w=document.createElement("source");w.src=f,w.type=p,u.appendChild(w),n.current[d]=u,console.log("Audio loaded successfully:",c,"Format:",p)}return i.current=u,await u.play(),!0}catch(c){return console.warn(ce.AUDIO_PLAYBACK,c),console.log("Failed audio path was:",d),!1}},[a]),r=l.useCallback(d=>{(Array.isArray(d)?d:[d]).forEach(u=>{if(u&&!n.current[u]){const h=new Audio,m=u.startsWith("http")||u.startsWith("/")?u:"/"+u;h.src=m,h.crossOrigin="anonymous",h.preload="auto",n.current[u]=h}})},[]),o=l.useCallback(()=>{a(),n.current={}},[a]);return{play:t,stop:a,preload:r,clearCache:o}}const ps=q("/vocabulary")({component:gs});function ms({word:n,onPlayAudio:i}){const a=l.useCallback(t=>{t.stopPropagation(),i(n.audio)},[n.audio,i]);return e.jsxs("div",{className:R("vocab-card",n.important&&"important"),children:[e.jsx("div",{className:"vocab-simplified",children:n.simplified}),e.jsx("div",{className:"vocab-traditional",children:n.traditional}),e.jsx("div",{className:"vocab-pinyin",children:n.pinyin}),e.jsx("button",{className:"vocab-audio",onClick:a,"aria-label":`Play audio for ${n.simplified}`,children:"ðŸ”Š"}),n.important&&e.jsx("div",{className:"important-badge",children:M.IMPORTANT_BADGE})]})}function gs(){const{data:n,isLoading:i,error:a}=te(ge),t=F(P,c=>c.showImportantOnly),{play:r}=X(),o=l.useMemo(()=>{if(!n)return[];const c=xe(n);return t?nn(c):c},[n,t]),d=l.useCallback(c=>{r(c)},[r]);return i?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):a?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:ce.DATA_LOAD})}):e.jsxs("div",{children:[e.jsxs("header",{className:"header-row",children:[e.jsx("h1",{className:"page-title",children:"è¯æ±‡æµè§ˆ"}),e.jsxs("div",{className:"controls",children:[e.jsx("button",{className:R("filter-btn",t&&"active"),onClick:He,children:t?M.ALL_WORDS:M.IMPORTANT_WORDS}),e.jsxs("div",{className:"vocab-count",children:[o.length," ä¸ªè¯è¯­"]})]})]}),e.jsxs("main",{className:"vocabulary-main",children:[e.jsx("div",{className:"vocab-grid",children:o.map((c,u)=>e.jsx(ms,{word:c,onPlayAudio:d},`${c.simplified}-${u}`))}),o.length===0&&e.jsx("div",{className:"empty-state-container",children:e.jsxs("div",{className:"empty-state-card",children:[e.jsx("div",{className:"empty-state-icon",children:"ðŸ“š"}),e.jsx("h2",{className:"empty-state-title",children:"æ²¡æœ‰è¯è¯­"}),e.jsx("p",{className:"empty-state-subtitle",children:"æš‚æ—¶æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„è¯è¯­"})]})})]})]})}const pe={autoplay:!0,traditional:!0,pinyin:!0,vibration:!1,darkmode:!1,largefont:!1,simplified:!1,reminders:!0,analytics:!0,autoPlayAudio:!1,audioSpeed:1,showPinyin:!0,showEnglish:!0,autoAdvance:!1};function xs(){try{const n=localStorage.getItem(V.SETTINGS);if(n)return{...pe,...JSON.parse(n)}}catch(n){console.error("Failed to load settings:",n)}return pe}function ys(n){try{localStorage.setItem(V.SETTINGS,JSON.stringify(n))}catch(i){console.error("Failed to save settings:",i)}}const ne=new qe(xs());ne.subscribe(()=>{ys(ne.state)});function ws(n,i){ne.setState(a=>({...a,[n]:i}))}function Pe(n){const i=ne.state[n];typeof i=="boolean"&&ws(n,!i)}function fs(){ne.setState(()=>pe)}function bs(){try{const n={settings:ne.state,exportDate:new Date().toISOString(),version:"1.0.0"};return JSON.stringify(n,null,2)}catch(n){return console.error("Failed to export data:",n),""}}function js(){try{return localStorage.removeItem(V.SETTINGS),ne.setState(()=>pe),!0}catch(n){return console.error("Failed to clear data:",n),!1}}const ks=q("/settings")({component:vs});function J({settingKey:n,label:i}){const a=F(ne,r=>r[n]),t=typeof a=="boolean"?a:!1;return e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:i}),e.jsx("div",{className:`setting-toggle ${t?"active":""}`,onClick:()=>Pe(n),role:"switch","aria-checked":t,tabIndex:0,onKeyDown:r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),Pe(n))}})]})}function vs(){const[n,i]=l.useState(!1),[a,t]=l.useState(!1),r=l.useCallback(()=>{const c=bs();if(c){const u=new Blob([c],{type:"application/json"}),h=URL.createObjectURL(u),m=document.createElement("a");m.href=h,m.download=`tingxie-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(h)}},[]),o=l.useCallback(()=>{n?(fs(),i(!1)):(i(!0),setTimeout(()=>i(!1),3e3))},[n]),d=l.useCallback(()=>{a?(js(),t(!1)):(t(!0),setTimeout(()=>t(!1),3e3))},[a]);return e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"è®¾ç½®"})}),e.jsxs("main",{className:"settings-main",children:[e.jsxs("div",{className:"settings-section",children:[e.jsx("div",{className:"settings-title",children:"å­¦ä¹ è®¾ç½®"}),e.jsx(J,{settingKey:"autoplay",label:"è‡ªåŠ¨æ’­æ”¾éŸ³é¢‘"}),e.jsx(J,{settingKey:"traditional",label:"æ˜¾ç¤ºç¹ä½“å­—"}),e.jsx(J,{settingKey:"pinyin",label:"æ˜¾ç¤ºæ‹¼éŸ³"}),e.jsx(J,{settingKey:"vibration",label:"æŒ¯åŠ¨åé¦ˆ"})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("div",{className:"settings-title",children:"æ˜¾ç¤ºè®¾ç½®"}),e.jsx(J,{settingKey:"darkmode",label:"æ·±è‰²æ¨¡å¼"}),e.jsx(J,{settingKey:"largefont",label:"å¤§å­—ä½“æ¨¡å¼"}),e.jsx(J,{settingKey:"simplified",label:"ç®€åŒ–ç•Œé¢"})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("div",{className:"settings-title",children:"å…¶ä»–è®¾ç½®"}),e.jsx(J,{settingKey:"reminders",label:"å­¦ä¹ æé†’"}),e.jsx(J,{settingKey:"analytics",label:"æ•°æ®ç»Ÿè®¡"})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("div",{className:"settings-title",children:"æ•°æ®ç®¡ç†"}),e.jsx("div",{className:"setting-item",children:e.jsx("button",{className:"setting-btn",onClick:r,children:"å¯¼å‡ºå­¦ä¹ æ•°æ®"})}),e.jsx("div",{className:"setting-item",children:e.jsx("button",{className:`setting-btn ${n?"danger":""}`,onClick:o,children:n?"ç¡®è®¤é‡ç½®ï¼Ÿ":"é‡ç½®å­¦ä¹ è¿›åº¦"})}),e.jsx("div",{className:"setting-item",children:e.jsx("button",{className:"setting-btn danger",onClick:d,children:a?"ç¡®è®¤æ¸…é™¤ï¼Ÿ":"æ¸…é™¤æ‰€æœ‰æ•°æ®"})})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("div",{className:"settings-title",children:"å…³äºŽ"}),e.jsxs("div",{className:"about-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"å¬å†™ç»ƒä¹ "})," v2.0.0"]}),e.jsx("p",{children:"å¸®åŠ©å­©å­ç»ƒä¹ ä¸­æ–‡å¬å†™çš„ç§»åŠ¨åº”ç”¨"}),e.jsx("p",{children:"é€‚ç”¨äºŽiPadå’ŒiPhoneè®¾å¤‡"})]})]})]})]})}const Ns=q("/school-tingxie")({component:Ss}),Cs=["ä¸€","äºŒ","ä¸‰","å››","äº”","å…­","ä¸ƒ","å…«","ä¹","å"];function Ss(){const[n,i]=l.useState(null),[a,t]=l.useState(!0),[r,o]=l.useState(null),[d,c]=l.useState(0),[u,h]=l.useState(0),[m,p]=l.useState(!1),[s,x]=l.useState(null),{play:f}=X();l.useEffect(()=>{async function v(){try{const N=await fetch("/data/tingxie/school_vocabulary.json");if(!N.ok)throw new Error("Failed to load data");const L=await N.json();i(L)}catch(N){o(N instanceof Error?N.message:"Failed to load data")}finally{t(!1)}}v()},[]);const w=n==null?void 0:n.vocabulary[d],y=w==null?void 0:w.items[u],b=(w==null?void 0:w.items.length)||0;l.useEffect(()=>{p(!1)},[d,u]);const S=l.useCallback(v=>{c(v),h(0),p(!1)},[]),g=l.useCallback(()=>{u>0&&h(u-1)},[u]),j=l.useCallback(()=>{u<b-1&&h(u+1)},[u,b]),A=l.useCallback(async()=>{y!=null&&y.audio&&await f(y.audio)},[y,f]),k=l.useCallback(v=>{x(v)},[]),T=l.useCallback(async()=>{if(s){const v=`audio/${s.simplified}.mp3`;await f(v)}},[s,f]),z=l.useCallback(()=>{x(null)},[]),I=v=>v.type==="pinyin"?e.jsxs("div",{className:"sentence-content-wrapper",children:[e.jsx("div",{className:"pinyin-display",children:v.pinyin}),e.jsx("div",{className:`sentence-content ${m?"":"covered"}`,onClick:()=>!m&&p(!0),children:H(v.characters||"",v.words)})]}):v.type==="moxie"?e.jsxs("div",{className:"sentence-content-wrapper",children:[v.label&&e.jsx("div",{className:"moxie-label",children:v.label}),e.jsx("div",{className:`sentence-content ${m?"":"covered"}`,onClick:()=>!m&&p(!0),children:H(v.sentence||"",v.words)}),v.note&&m&&e.jsx("div",{className:"moxie-note",children:v.note})]}):e.jsx("div",{className:"sentence-content-wrapper",children:e.jsx("div",{className:`sentence-content ${m?"":"covered"}`,onClick:()=>!m&&p(!0),children:H(v.sentence||"",v.words)})}),H=(v,N)=>{if(!m||!(N!=null&&N.length))return v;const L=new Map;N.forEach(_=>{L.set(_.simplified,_)});const O=[...N].sort((_,Y)=>Y.simplified.length-_.simplified.length),W=[];let B=v,G=0;for(;G<B.length;){let _=!1;for(const Y of O)if(B.slice(G).startsWith(Y.simplified)){if(G>0){const $=B.slice(0,G);$&&W.push({text:$})}W.push({text:Y.simplified,word:Y}),B=B.slice(G+Y.simplified.length),G=0,_=!0;break}_||G++}return B&&W.push({text:B}),W.map((_,Y)=>_.word?e.jsx("span",{className:"word",onClick:$=>{$.stopPropagation(),k(_.word)},children:_.text},Y):e.jsx("span",{children:_.text},Y))},U=v=>{const N=[];return v.type==="pinyin"?N.push(e.jsx("span",{className:"item-type-badge pinyin-type",children:"æ‹¼éŸ³"},"pinyin")):v.type==="moxie"&&N.push(e.jsx("span",{className:"item-type-badge moxie-type",children:"é»˜å†™"},"moxie")),v.difficult&&N.push(e.jsx("span",{className:"item-type-badge difficult",children:"éš¾"},"difficult")),N};return a?e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"ä¸‰å¹´çº§å¬å†™"})}),e.jsx("main",{className:"text-white text-center p-8",children:e.jsx("p",{children:"åŠ è½½ä¸­..."})})]}):r||!n?e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"ä¸‰å¹´çº§å¬å†™"})}),e.jsx("main",{className:"text-white text-center p-8",children:e.jsxs("p",{children:["åŠ è½½å¤±è´¥: ",r]})})]}):e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"ä¸‰å¹´çº§å¬å†™"})}),e.jsxs("main",{children:[e.jsx("div",{className:"set-selector",children:n.vocabulary.map((v,N)=>e.jsx("button",{className:`set-btn ${N===d?"active":""}`,onClick:()=>S(N),children:Cs[N]||N+1},v.row))}),e.jsx("div",{className:"set-title",children:w==null?void 0:w.title}),y&&e.jsxs("div",{className:"sentence-card",children:[e.jsxs("div",{className:"item-number",children:["ç¬¬ ",u+1," é¢˜",U(y)]}),e.jsx("button",{className:"audio-play-btn",onClick:A,children:"ðŸ”Š"}),I(y),!m&&e.jsx("button",{className:"reveal-btn",onClick:()=>p(!0),children:"æ˜¾ç¤ºç­”æ¡ˆ"}),m&&e.jsxs("div",{className:"answer-section",children:[e.jsxs("div",{className:"keyword-section",children:[e.jsx("div",{className:"keyword-label",children:"é‡ç‚¹è¯è¯­"}),e.jsx("div",{className:"keyword-text",children:y.keyword||y.characters})]}),e.jsx("div",{className:"english-translation",children:y.english})]})]}),e.jsxs("div",{className:"item-navigation",children:[e.jsx("button",{className:"item-nav-btn prev",onClick:g,disabled:u===0,children:"ä¸Šä¸€é¢˜"}),e.jsx("button",{className:"item-nav-btn next",onClick:j,disabled:u>=b-1,children:"ä¸‹ä¸€é¢˜"})]}),e.jsxs("div",{className:"progress-indicator",children:[u+1," / ",b]})]}),e.jsx("div",{className:`popup-overlay ${s?"show":""}`,onClick:z}),e.jsx("div",{className:`word-popup ${s?"show":""}`,children:s&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"popup-traditional",children:s.traditional}),e.jsxs("div",{className:"popup-simplified",children:["(",s.simplified,")"]}),e.jsx("div",{className:"popup-pinyin",children:s.pinyin}),e.jsx("div",{className:"popup-meaning",children:s.meaning}),e.jsx("button",{className:"popup-audio-btn",onClick:T,children:"ðŸ”Š å¬å‘éŸ³"}),e.jsx("br",{}),e.jsx("button",{className:"popup-close",onClick:z,children:"å…³é—­"})]})})]})}function Ts({audioPath:n,revealed:i,onReveal:a,className:t}){const{play:r}=X(),o=l.useCallback(async()=>{await r(n),a()},[n,r,a]);return e.jsx("button",{className:R("audio-btn",i?"revealed":"covered",t),onClick:o,"aria-label":"Play audio",children:"ðŸ”Š"})}const As={simplified:M.SIMPLIFIED,traditional:M.TRADITIONAL,pinyin:M.PINYIN,english:M.ENGLISH};function he({field:n,value:i,revealed:a,onToggle:t,className:r}){const o=As[n];return e.jsx("div",{className:R("word-item",r),children:e.jsx("button",{className:R("content-btn",a?"revealed":"covered"),onClick:t,"aria-label":a?`Hide ${n}`:`Reveal ${n}`,children:a?i:o})})}const Rs="modulepreload",zs=function(n){return"/"+n},We={},Te=function(i,a,t){let r=Promise.resolve();if(a&&a.length>0){let d=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=d(a.map(h=>{if(h=zs(h),h in We)return;We[h]=!0;const m=h.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const s=document.createElement("link");if(s.rel=m?"stylesheet":Rs,m||(s.as="script"),s.crossOrigin="",s.href=h,u&&s.setAttribute("nonce",u),document.head.appendChild(s),m)return new Promise((x,f)=>{s.addEventListener("load",x),s.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(d){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=d,window.dispatchEvent(c),!c.defaultPrevented)throw d}return r.then(d=>{for(const c of d||[])c.status==="rejected"&&o(c.reason);return i().catch(o)})};function Es({characters:n,onClose:i}){const[a,t]=l.useState(0),[r,o]=l.useState(0),[d,c]=l.useState(""),[u,h]=l.useState(!1),m=l.useRef(null),p=l.useRef(null),s=l.useRef(null),x=n[a],f=n.length;l.useEffect(()=>{(async()=>{try{const A=await Te(()=>import("https://cdn.jsdelivr.net/npm/hanzi-writer@3.7.3/+esm"),[]);s.current=A.default}catch(A){console.error("Failed to load HanziWriter:",A),c("æ— æ³•åŠ è½½ç¬”ç”»åº“"),h(!0)}})()},[]);const w=l.useCallback(()=>{if(!(!p.current||!s.current||!x)){p.current.innerHTML="",c(""),h(!1),o(0);try{m.current=s.current.create(p.current,x,{width:280,height:280,padding:20,showOutline:!0,showCharacter:!1,strokeAnimationSpeed:1,delayBetweenStrokes:100,strokeColor:"#333",outlineColor:"#ddd",drawingColor:"#4a90d9",drawingWidth:20,showHintAfterMisses:3,highlightOnComplete:!0,highlightColor:"#27ae60",charDataLoader:j=>fetch(`https://cdn.jsdelivr.net/npm/hanzi-writer-data@2.0/${j}.json`).then(A=>{if(!A.ok)throw new Error("Character not found");return A.json()})}),m.current.quiz({onMistake:j=>{c(`ç¬¬ ${j.strokeNum+1} ç¬”: å†è¯•ä¸€æ¬¡ï¼`),h(!0)},onCorrectStroke:j=>{o(j.strokeNum+1),c(`ç¬¬ ${j.strokeNum+1} ç¬”: æ­£ç¡®ï¼`),h(!1)},onComplete:j=>{const A=j.totalMistakes;c(A===0?"å®Œç¾Žï¼æ²¡æœ‰é”™è¯¯ï¼":`å®Œæˆï¼${A} ä¸ªé”™è¯¯`),h(!1)}})}catch(j){console.error("Failed to create HanziWriter:",j),c("æ— æ³•åŠ è½½è¯¥å­—ç¬¦"),h(!0)}}},[x]);l.useEffect(()=>{s.current&&w()},[w,a]),l.useEffect(()=>{const j=setInterval(()=>{s.current&&p.current&&(w(),clearInterval(j))},100);return()=>clearInterval(j)},[w]);const y=()=>{m.current&&m.current.highlightStroke(r)},b=()=>{w()},S=()=>{a>0&&t(a-1)},g=()=>{a<f-1&&t(a+1)};return e.jsxs("div",{className:"handwriting-embed",children:[e.jsxs("div",{className:"handwriting-embed-header",children:[e.jsx("h3",{children:"ç¬”ç”»ç»ƒä¹ "}),e.jsx("button",{className:"close-btn",onClick:i,children:"âœ•"})]}),e.jsx("div",{className:"character-display-embed",children:e.jsxs("span",{children:[n,f>1&&` (${a+1}/${f})`]})}),e.jsx("div",{id:"handwriting-writer-container",children:e.jsx("div",{ref:p,id:"handwriting-target"})}),e.jsxs("div",{className:"handwriting-controls-embed",children:[e.jsx("button",{className:"handwriting-action-btn",onClick:y,children:"æ˜¾ç¤ºæç¤º"}),e.jsx("button",{className:"handwriting-action-btn reset",onClick:b,children:"é‡ç½®"})]}),f>1&&e.jsxs("div",{className:"handwriting-char-nav",children:[e.jsx("button",{className:"char-nav-btn",onClick:S,disabled:a===0,children:"â† ä¸Šä¸€ä¸ªå­—"}),e.jsx("button",{className:"char-nav-btn",onClick:g,disabled:a>=f-1,children:"ä¸‹ä¸€ä¸ªå­— â†’"})]}),e.jsx("div",{className:R("handwriting-status",u&&"error"),children:d})]})}function Is(n){return`/images/${n}.png`}function sn({word:n,currentIndex:i,totalWords:a,revealState:t,onToggleReveal:r,className:o}){const[d,c]=l.useState(!1),[u,h]=l.useState(!1),m=Is(n.simplified);l.useEffect(()=>{h(!1),fetch(m,{method:"GET",headers:{Range:"bytes=0-0"}}).then(s=>h(s.ok||s.status===206)).catch(()=>h(!1))},[n.simplified,m]);const p=()=>{c(!d)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:R("word-card",o),children:[e.jsxs("div",{className:"card-progress",children:[i+1," / ",a]}),u&&e.jsx("div",{className:"word-image-container",children:e.jsx("img",{src:m,alt:n.english,className:"word-memory-image"})}),e.jsxs("div",{className:"word-section",children:[e.jsx("div",{className:"audio-item",children:e.jsx(Ts,{audioPath:n.audio,revealed:t.audio,onReveal:()=>r("audio")})}),e.jsx(he,{field:"simplified",value:n.simplified,revealed:t.simplified,onToggle:()=>r("simplified")}),e.jsx(he,{field:"traditional",value:n.traditional,revealed:t.traditional,onToggle:()=>r("traditional")}),e.jsx(he,{field:"pinyin",value:n.pinyin,revealed:t.pinyin,onToggle:()=>r("pinyin")}),e.jsx(he,{field:"english",value:n.english,revealed:t.english,onToggle:()=>r("english")})]}),e.jsx("div",{className:"handwriting-controls",children:e.jsx("button",{className:R("handwriting-btn",d&&"active"),onClick:p,children:"âœï¸ ç¬”ç”»ç»ƒä¹ "})})]}),d&&e.jsx(Es,{characters:n.simplified,onClose:()=>c(!1)},n.simplified)]})}function tn({onKnow:n,onDontKnow:i,className:a}){return e.jsxs("div",{className:R("assess-buttons",a),children:[e.jsx("button",{className:"assess-btn know",onClick:n,children:M.KNOW_BTN}),e.jsx("button",{className:"assess-btn dont-know",onClick:i,children:M.DONT_KNOW_BTN})]})}function an(){let n=localStorage.getItem(V.STUDENT_ID);return n||(n=`student_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,localStorage.setItem(V.STUDENT_ID,n)),n}async function Ps(n){try{const i=await fetch(`${K.API_PROGRESS_PATH}?studentId=${encodeURIComponent(n)}`),a=i.headers.get("content-type"),t=a!==null&&a.includes("application/json");return!i.ok||!t?(console.log("Cloud API not available (local development mode)"),{knownWords:[],unknownWords:[],lastUpdated:null}):await i.json()}catch{return console.log("Cloud sync not available - using local mode only"),{knownWords:[],unknownWords:[],lastUpdated:null}}}async function Ws(n){const{MAX_ATTEMPTS:i,INITIAL_DELAY:a}=K.RETRY;for(let t=1;t<=i;t++)try{const r=await fetch(K.API_PROGRESS_PATH,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),o=r.headers.get("content-type");if(!(o!==null&&o.includes("application/json"))||r.status===404)return console.log("Cloud API not available (local development mode) - progress not saved to cloud"),{success:!0};if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const c=await r.json();if(c.success)return console.log(`Progress saved to cloud (attempt ${t}/${i})`),c;throw new Error("Save returned success: false")}catch(r){if(console.error(`Failed to save progress (attempt ${t}/${i}):`,r),t===i)throw r;await new Promise(o=>setTimeout(o,t*a))}throw new Error("Failed to save progress after all retries")}function Ae(){const n=an();return te({queryKey:["progress",n],queryFn:()=>Ps(n),staleTime:0})}function rn(){const n=Fe(),i=an();return gn({mutationFn:a=>Ws({studentId:i,knownWords:[...new Set(a.knownWords)],unknownWords:[...new Set(a.unknownWords)]}),onSuccess:a=>{a.progress&&n.setQueryData(["progress",i],a.progress)},onError:a=>{console.error("Failed to save progress:",a)}})}const Ls=q("/review")({component:Os});function Os(){const{data:n,isLoading:i,error:a}=te(ge),{data:t,isLoading:r}=Ae(),o=rn(),d=F(P,y=>y.currentWordIndex),c=F(P,y=>y.revealState),u=F(P,y=>y.knownWords),h=F(P,y=>y.unknownWords);l.useEffect(()=>{t&&Ve(t.knownWords||[],t.unknownWords||[])},[t]),l.useEffect(()=>{we(0)},[]);const m=l.useMemo(()=>!n||h.size===0?[]:xe(n).filter(b=>h.has(b.simplified)),[n,h]),p=m.length;l.useEffect(()=>{p>0&&d>=p&&we(0)},[p,d]);const s=m[d],x=()=>{if(!s)return;Ge(s);const y=new Set(u);y.add(s.simplified);const b=new Set(h);b.delete(s.simplified),o.mutate({knownWords:Array.from(y),unknownWords:Array.from(b)}),d>=p-1?p>1&&we(Math.max(0,d-1)):se(p)},f=()=>{if(!s)return;Ye(s);const y=new Set(u);y.delete(s.simplified);const b=new Set(h);b.add(s.simplified),o.mutate({knownWords:Array.from(y),unknownWords:Array.from(b)}),se(p)},w=y=>{Be(y)};return i||r?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):a?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:ce.DATA_LOAD})}):p===0||!s?e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"å¤ä¹ è¯è¯­"})}),e.jsx("main",{className:"empty-state-container",children:e.jsxs("div",{className:"empty-state-card",children:[e.jsx("div",{className:"empty-state-icon",children:"ðŸŽ‰"}),e.jsx("h2",{className:"empty-state-title",children:"æ²¡æœ‰éœ€è¦å¤ä¹ çš„è¯è¯­"}),e.jsx("p",{className:"empty-state-subtitle",children:"å¤ªæ£’äº†ï¼ä½ å·²ç»æŽŒæ¡äº†æ‰€æœ‰è¯è¯­"}),e.jsx("p",{className:"empty-state-hint",children:"åœ¨æœ€æ–°è¯è¯­é¡µé¢æ ‡è®°ä¸ä¼šçš„è¯è¯­ï¼Œè¿™é‡Œå°±ä¼šå‡ºçŽ°éœ€è¦å¤ä¹ çš„å†…å®¹"})]})})]}):e.jsxs("div",{children:[e.jsxs("header",{className:"header-row",children:[e.jsx("h1",{className:"page-title",children:"å¤ä¹ è¯è¯­"}),e.jsx("div",{className:"controls",children:e.jsxs("div",{className:"progress-display",children:[d+1," / ",p]})})]}),e.jsxs("main",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"nav-buttons",children:[e.jsx("button",{className:"nav-btn",onClick:Ue,disabled:d===0,children:M.PREV_BTN}),e.jsx("button",{className:"nav-btn",onClick:()=>se(p),disabled:d>=p-1,children:M.NEXT_BTN})]}),e.jsx(sn,{word:s,currentIndex:d,totalWords:p,revealState:c,onToggleReveal:w},s.simplified),e.jsx(tn,{onKnow:x,onDontKnow:f})]})]})}const _s=q("/radicals")({component:qs}),Ms={queryKey:["radicals"],queryFn:async()=>{const n=await fetch("/data/radicals/radicals.json");if(!n.ok)throw new Error("Failed to load radicals data");return n.json()},staleTime:1e3*60*60},Ds=[{label:"All",value:"all"},{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"},{label:"8+",value:"8+"}];function qs(){const[n,i]=l.useState(""),[a,t]=l.useState("all"),{play:r}=X(),{data:o,isLoading:d,error:c}=te(Ms),u=l.useMemo(()=>{if(!(o!=null&&o.radicals))return[];let p=o.radicals;if(a!=="all")if(a==="8+")p=p.filter(s=>s.strokes>=8);else{const s=parseInt(a,10);p=p.filter(x=>x.strokes===s)}if(n.trim()){const s=n.toLowerCase().trim();p=p.filter(x=>x.radical.includes(s)||x.traditional&&x.traditional.includes(s)||x.pinyin.toLowerCase().includes(s)||x.meaning.toLowerCase().includes(s)||x.examples.some(f=>f.includes(s)))}return p},[o,a,n]),h=(p,s)=>{s.stopPropagation(),r(p)};if(d)return e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})});if(c)return e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"Failed to load radicals data"})});const m=(o==null?void 0:o.radicals.length)||0;return e.jsxs("div",{children:[e.jsx("header",{children:e.jsx("div",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"Radicals"})})}),e.jsxs("main",{className:"vocabulary-main",children:[e.jsx("div",{className:"search-container",children:e.jsx("input",{type:"text",className:"search-input",placeholder:"Search radical, pinyin, or meaning...",value:n,onChange:p=>i(p.target.value)})}),e.jsx("div",{className:"stroke-filters",children:Ds.map(p=>e.jsx("button",{className:R("stroke-btn",a===p.value&&"active"),onClick:()=>t(p.value),children:p.label},p.value))}),e.jsxs("div",{className:"stats-bar",children:[e.jsxs("span",{children:["Showing: ",u.length," radicals"]}),e.jsxs("span",{children:["Total: ",m]})]}),e.jsx("div",{className:"radicals-grid",children:u.map(p=>e.jsxs("div",{className:"radical-card",children:[e.jsxs("div",{className:"radical-header",children:[e.jsxs("div",{className:"radical-characters",children:[e.jsx("span",{className:"radical-character",children:p.radical}),p.traditional&&p.traditional!==p.radical&&e.jsx("span",{className:"radical-traditional",children:p.traditional})]}),e.jsxs("span",{className:"radical-number",children:[p.strokes," strokes"]})]}),e.jsx("div",{className:"radical-pinyin",children:p.pinyin}),e.jsx("div",{className:"radical-meaning",children:p.meaning}),e.jsx("div",{className:"radical-examples",children:p.examples.map((s,x)=>e.jsx("span",{className:"example-char",children:s},x))}),e.jsx("button",{className:"radical-audio",onClick:s=>h(p.audio,s),"aria-label":`Play audio for ${p.radical}`,children:e.jsx("span",{role:"img","aria-hidden":"true",children:"ðŸ”Š"})})]},p.number))}),u.length===0&&e.jsxs("div",{className:"text-center text-white py-10",children:[e.jsx("p",{className:"text-xl",children:"No radicals found"}),e.jsx("p",{className:"text-sm opacity-70 mt-2",children:"Try adjusting your search or filter"})]})]})]})}const $s=q("/phrase-matching")({component:Fs});function Fs(){const[n,i]=l.useState(null),[a,t]=l.useState(!0),[r,o]=l.useState(null),{play:d,stop:c}=X();l.useEffect(()=>{(async()=>{try{const p=await(await fetch("/data/tingxie/word_collocations.json")).json();i(p)}catch(m){console.error("Failed to load word collocations:",m)}finally{t(!1)}})()},[]);const u=async h=>{if(r===h.id){c(),o(null);return}try{await d(h.audio),o(h.id)}catch(m){console.error("Failed to play audio:",m)}};return a?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"è¯è¯­æ­é…"})}),e.jsx("main",{className:"vocabulary-main",children:n&&n.vocabulary.length>0?e.jsx("div",{className:"vocab-grid",children:n.vocabulary.map(h=>e.jsxs("div",{className:R("vocab-card cursor-pointer transition-all duration-200",r===h.id&&"ring-2 ring-white ring-offset-2"),onClick:()=>u(h),children:[e.jsx("div",{className:"vocab-simplified",children:h.simplified}),e.jsx("div",{className:"vocab-traditional",children:h.traditional}),e.jsx("div",{className:"vocab-pinyin text-xs",style:{marginTop:"8px"},children:h.english}),e.jsx("button",{className:"vocab-audio",onClick:m=>{m.stopPropagation(),u(h)},"aria-label":`Play audio for ${h.simplified}`,children:r===h.id?"ðŸ”Š":"â–¶"})]},h.id))}):e.jsx("div",{className:"empty-state-container",children:e.jsxs("div",{className:"empty-state-card",children:[e.jsx("div",{className:"empty-state-icon",children:"ðŸ“š"}),e.jsx("h2",{className:"empty-state-title",children:"æ²¡æœ‰è¯è¯­"}),e.jsx("p",{className:"empty-state-subtitle",children:"æš‚æ—¶æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„è¯è¯­"})]})})})]})}const Hs=q("/p3hcl-wupin-interactive")({component:Us});function Us(){return e.jsxs("div",{children:[e.jsx("header",{className:"mb-5",children:e.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-md",children:"äº’åŠ¨é˜…è¯»"})}),e.jsx("main",{className:"text-white",children:e.jsx("p",{children:"Interactive reading - Coming soon"})})]})}const Bs=q("/p3hcl-reading-sync")({component:Gs});function Gs(){const[n,i]=l.useState(null),[a,t]=l.useState({}),[r,o]=l.useState(!0),[d,c]=l.useState(0),[u,h]=l.useState(null),{play:m}=X();l.useEffect(()=>{(async()=>{try{const[f,w]=await Promise.all([fetch("/data/p3hcl_reading_7.json"),fetch("/data/p3hcl_reading_7_words.json")]),y=await f.json(),b=await w.json();i(y),t(b.wordDefinitions)}catch(f){console.error("Failed to load reading data:",f)}finally{o(!1)}})()},[]);const p=x=>{const f=[];let w=0;for(;w<x.length;){let y=!1;for(let b=Math.min(6,x.length-w);b>0;b--){const S=x.substr(w,b);if(a[S]){f.push({text:S,isWord:!0,def:a[S]}),w+=b,y=!0;break}}y||(f.push({text:x[w],isWord:!1}),w++)}return f};if(r)return e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})});if(!n)return e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"Failed to load data"})});const s=n.texts[d];return e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:n.titleChinese})}),e.jsx("main",{className:"vocabulary-main",children:e.jsxs("div",{style:{padding:"20px"},children:[n.audioFile&&e.jsx("div",{style:{marginBottom:"20px"},children:e.jsx("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",padding:"15px"},children:e.jsxs("audio",{controls:!0,style:{width:"100%"},children:[e.jsx("source",{src:`/audio/${n.audioFile}`,type:"audio/mp4"}),"Your browser does not support the audio element."]})})}),n.texts.length>1&&e.jsx("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:n.texts.map((x,f)=>e.jsxs("button",{onClick:()=>c(f),style:{flex:1,padding:"10px",backgroundColor:d===f?"white":"rgba(255, 255, 255, 0.2)",color:d===f?"#667eea":"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",minHeight:"40px"},children:["çŸ­æ–‡",f+1]},f))}),e.jsxs("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"16px",padding:"25px",marginBottom:"20px",position:"relative"},children:[e.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"#667eea",marginBottom:"15px"},children:s.title}),s.paragraphs.map((x,f)=>e.jsx("p",{style:{fontSize:"18px",lineHeight:"2",color:"#333",marginBottom:"20px",textIndent:"2em"},children:p(x).map((w,y)=>w.isWord&&w.def?e.jsx("span",{onClick:()=>h({word:w.text,def:w.def}),style:{cursor:"pointer",borderBottom:"2px dotted #667eea",color:"#667eea",fontWeight:"500"},children:w.text},y):e.jsx("span",{children:w.text},y))},f)),e.jsx("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#f0f0f0",borderRadius:"8px",fontSize:"13px",color:"#666"},children:"ðŸ’¡ ç‚¹å‡»è“è‰²è¯è¯­æŸ¥çœ‹è§£é‡Šå’Œå‘éŸ³"})]})]})}),u&&e.jsx("div",{onClick:()=>h(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:e.jsxs("div",{onClick:x=>x.stopPropagation(),style:{backgroundColor:"white",borderRadius:"16px",padding:"25px",maxWidth:"400px",width:"100%",boxShadow:"0 10px 40px rgba(0,0,0,0.3)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"15px"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"32px",fontWeight:"bold",color:"#667eea",marginBottom:"5px"},children:u.word}),e.jsx("p",{style:{fontSize:"16px",color:"#999",marginBottom:"10px"},children:u.def.pinyin})]}),e.jsx("button",{onClick:async()=>{await m(u.def.audio)},style:{width:"50px",height:"50px",borderRadius:"50%",backgroundColor:"#667eea",color:"white",border:"none",fontSize:"24px",cursor:"pointer",flexShrink:0},children:"ðŸ”Š"})]}),e.jsxs("div",{style:{borderTop:"1px solid #eee",paddingTop:"15px"},children:[e.jsx("p",{style:{fontSize:"16px",color:"#333",marginBottom:"10px",fontWeight:"500"},children:u.def.english}),e.jsx("p",{style:{fontSize:"14px",color:"#666",fontStyle:"italic"},children:u.def.explanation})]}),e.jsx("button",{onClick:()=>h(null),style:{marginTop:"20px",width:"100%",padding:"12px",backgroundColor:"#f5f5f5",border:"none",borderRadius:"8px",fontSize:"14px",color:"#666",cursor:"pointer"},children:"å…³é—­"})]})})]})}const Ys=q("/koushi-traffic-safety")({component:Js}),be=[{chinese:"æ³¨æ„",pinyin:"zhÃ¹ yÃ¬",english:"attention/pay attention"},{chinese:"å®‰å…¨",pinyin:"Än quÃ¡n",english:"safety"},{chinese:"éµå®ˆ",pinyin:"zÅ«n shÇ’u",english:"obey/follow"},{chinese:"äº¤é€šè§„åˆ™",pinyin:"jiÄo tÅng guÄ« zÃ©",english:"traffic rules"},{chinese:"ä¸è€çƒ¦",pinyin:"bÃ¹ nÃ i fÃ¡n",english:"impatient"},{chinese:"è½¬ç»¿",pinyin:"zhuÇŽn lÇœ",english:"turn green"},{chinese:"é©¶è¿‡æ¥",pinyin:"shÇ guÃ² lÃ¡i",english:"drive past"},{chinese:"æ’žåˆ°",pinyin:"zhuÃ ng dÃ o",english:"crash into"},{chinese:"è¿žå¿™",pinyin:"liÃ¡n mÃ¡ng",english:"hurriedly"},{chinese:"å±é™©",pinyin:"wÄ“i xiÇŽn",english:"dangerous"},{chinese:"é©¬è·¯å¦‚è™Žå£",pinyin:"mÇŽ lÃ¹ rÃº hÇ” kÇ’u",english:"road is like a tiger's mouth"},{chinese:"ä¸å ªè®¾æƒ³",pinyin:"bÃ¹ kÄn shÃ¨ xiÇŽng",english:"hard to imagine (consequences)"},{chinese:"å°è±¡æ·±åˆ»",pinyin:"yÃ¬n xiÃ ng shÄ“n kÃ¨",english:"deep impression"},{chinese:"åœä¸‹æ¥",pinyin:"tÃ­ng xiÃ  lÃ¡i",english:"stop"},{chinese:"æ¥å¾€",pinyin:"lÃ¡i wÇŽng",english:"come and go"},{chinese:"æ‰¹è¯„",pinyin:"pÄ« pÃ­ng",english:"criticize"},{chinese:"æƒ­æ„§",pinyin:"cÃ¡n kuÃ¬",english:"ashamed"},{chinese:"æ”¶èµ·æ¥",pinyin:"shÅu qÇ lÃ¡i",english:"put away"}],ue=[{start:40.06,end:51.64,label:null,chinese:[{word:"ä¸€å¤©",pinyin:"yÄ« tiÄn",meaning:"one day"},{word:"ä¸‹åˆ",pinyin:"xiÃ  wÇ”",meaning:"afternoon"},{text:"ï¼Œ"},{word:"æœ‰",pinyin:"yÇ’u",meaning:"there is"},{word:"ä¸€ä¸ª",pinyin:"yÄ« gÃ¨",meaning:"one"},{word:"æˆ´ç€",pinyin:"dÃ i zhe",meaning:"wearing"},{word:"çœ¼é•œ",pinyin:"yÇŽn jÃ¬ng",meaning:"glasses"},{text:"ï¼Œ"},{word:"ç©¿ç€",pinyin:"chuÄn zhe",meaning:"wearing (clothes)"},{word:"çº¢è‰²",pinyin:"hÃ³ng sÃ¨",meaning:"red"},{word:"ä¸Šè¡£",pinyin:"shÃ ng yÄ«",meaning:"upper garment/top"},{word:"çš„",pinyin:"de",meaning:"(particle)"},{word:"ç”·ç”Ÿ",pinyin:"nÃ¡n shÄ“ng",meaning:"boy"},{text:"ï¼Œ"},{word:"ä¸€ç›´",pinyin:"yÄ« zhÃ­",meaning:"continuously"},{word:"ä¸åœ",pinyin:"bÃ¹ tÃ­ng",meaning:"non-stop"},{word:"åœ°",pinyin:"de",meaning:"(adverb marker)"},{word:"ä½Žå¤´",pinyin:"dÄ« tÃ³u",meaning:"lower head"},{word:"çœ‹",pinyin:"kÃ n",meaning:"look at"},{word:"æ‰‹è¡¨",pinyin:"shÇ’u biÇŽo",meaning:"watch"},{text:"ï¼Œ"}],labels:[{text:"æ—¶é—´",position:0},{text:"äººç‰©",position:3}],english:"One afternoon, a boy wearing glasses and a red top kept lowering his head to look at his watch,"},{start:52.26,end:60.94,label:null,chinese:[{word:"çœ‹èµ·æ¥",pinyin:"kÃ n qÇ lÃ¡i",meaning:"looks like"},{word:"ç­‰",pinyin:"dÄ›ng",meaning:"wait"},{word:"å¾—",pinyin:"de",meaning:"(complement marker)"},{word:"ä¸è€çƒ¦",pinyin:"bÃ¹ nÃ i fÃ¡n",meaning:"impatient"},{word:"äº†",pinyin:"le",meaning:"(particle)"},{text:"ï¼Œ"},{word:"æ²¡",pinyin:"mÃ©i",meaning:"not"},{word:"ç­‰",pinyin:"dÄ›ng",meaning:"wait"},{word:"çº¢ç¯",pinyin:"hÃ³ng dÄ“ng",meaning:"red light"},{word:"è½¬ç»¿",pinyin:"zhuÇŽn lÇœ",meaning:"turn green"},{word:"å°±",pinyin:"jiÃ¹",meaning:"then"},{word:"å¼€å§‹",pinyin:"kÄi shÇ",meaning:"start"},{word:"è¿‡é©¬è·¯",pinyin:"guÃ² mÇŽ lÃ¹",meaning:"cross the road"},{text:"ã€‚"}],labels:[{text:"èµ·å› ",position:0}],english:"He looked impatient from waiting and started crossing the road before the red light turned green."},{start:61.56,end:69.06,label:null,chinese:[{word:"åˆšå¥½",pinyin:"gÄng hÇŽo",meaning:"just then"},{word:"ä¸€è¾†",pinyin:"yÄ« liÃ ng",meaning:"one (vehicle)"},{word:"è½¦å­",pinyin:"chÄ“ zi",meaning:"car"},{word:"é©¶è¿‡æ¥",pinyin:"shÇ guÃ² lÃ¡i",meaning:"drove past"},{text:"ï¼Œ"},{word:"çœ¼çœ‹",pinyin:"yÇŽn kÃ n",meaning:"about to/on the verge"},{word:"å°±è¦",pinyin:"jiÃ¹ yÃ o",meaning:"about to"},{word:"æ’žåˆ°",pinyin:"zhuÃ ng dÃ o",meaning:"crash into"},{word:"è¿™ä¸ª",pinyin:"zhÃ¨ ge",meaning:"this"},{word:"ç”·ç”Ÿ",pinyin:"nÃ¡n shÄ“ng",meaning:"boy"},{text:"ã€‚"}],labels:[{text:"ç»è¿‡",position:0}],english:"Just then a car drove past, and it was about to crash into the boy."},{start:69.06,end:83.8,label:null,chinese:[{word:"å¹¸å¥½",pinyin:"xÃ¬ng hÇŽo",meaning:"fortunately"},{word:"å¦ä¸€ä¸ª",pinyin:"lÃ¬ng yÄ« gÃ¨",meaning:"another"},{word:"ç©¿ç€",pinyin:"chuÄn zhe",meaning:"wearing"},{word:"ç™½è‰²",pinyin:"bÃ¡i sÃ¨",meaning:"white"},{word:"ä¸Šè¡£",pinyin:"shÃ ng yÄ«",meaning:"top"},{word:"çš„",pinyin:"de",meaning:"(particle)"},{word:"ç”·å­©",pinyin:"nÃ¡n hÃ¡i",meaning:"boy"},{word:"çœ‹è§",pinyin:"kÃ n jiÃ n",meaning:"saw"},{word:"äº†",pinyin:"le",meaning:"(particle)"},{text:"ï¼Œ"},{word:"è¿žå¿™",pinyin:"liÃ¡n mÃ¡ng",meaning:"hurriedly"},{word:"ä¸Šå‰",pinyin:"shÃ ng qiÃ¡n",meaning:"step forward"},{word:"æ‹‰ä½",pinyin:"lÄ zhÃ¹",meaning:"grab/hold"},{word:"ä»–",pinyin:"tÄ",meaning:"him"},{text:"ï¼Œ"},{word:"å‘Šè¯‰",pinyin:"gÃ o su",meaning:"tell"},{word:"ä»–",pinyin:"tÄ",meaning:"him"},{word:"åº”è¯¥",pinyin:"yÄ«ng gÄi",meaning:"should"},{word:"ç­‰",pinyin:"dÄ›ng",meaning:"wait"},{word:"çº¢ç¯",pinyin:"hÃ³ng dÄ“ng",meaning:"red light"},{word:"è½¬ç»¿",pinyin:"zhuÇŽn lÇœ",meaning:"turn green"},{word:"æ‰èƒ½",pinyin:"cÃ¡i nÃ©ng",meaning:"only then can"},{word:"è¿‡é©¬è·¯",pinyin:"guÃ² mÇŽ lÃ¹",meaning:"cross the road"},{text:"ã€‚"}],labels:[{text:"ç»“æžœ",position:0}],english:"Fortunately, another boy in a white top saw this, hurried forward to grab him, and told him he should wait for the red light to turn green before crossing the road."}],Ne=[{start:85.28,end:90.16,label:"F=æ„Ÿå—",chinese:[{word:"çœ‹äº†",pinyin:"kÃ n le",meaning:"watched"},{word:"è¿™æ®µ",pinyin:"zhÃ¨ duÃ n",meaning:"this"},{word:"è§†é¢‘",pinyin:"shÃ¬ pÃ­n",meaning:"video"},{text:"ï¼Œ"},{word:"æˆ‘",pinyin:"wÇ’",meaning:"I"},{word:"æ„Ÿåˆ°",pinyin:"gÇŽn dÃ o",meaning:"feel"},{word:"å¾ˆ",pinyin:"hÄ›n",meaning:"very"},{word:"æ‹…å¿ƒ",pinyin:"dÄn xÄ«n",meaning:"worried"},{text:"ã€‚"}],english:"After watching this video, I felt very worried."},{start:90.16,end:95.8,label:"O=çœ‹æ³•",chinese:[{word:"æˆ‘",pinyin:"wÇ’",meaning:"I"},{word:"è®¤ä¸º",pinyin:"rÃ¨n wÃ©i",meaning:"think/believe"},{word:"ç”·ç”Ÿ",pinyin:"nÃ¡n shÄ“ng",meaning:"boy"},{word:"çš„",pinyin:"de",meaning:"(particle)"},{word:"è¡Œä¸º",pinyin:"xÃ­ng wÃ©i",meaning:"behavior"},{word:"æ˜¯",pinyin:"shÃ¬",meaning:"is"},{word:"ååˆ†",pinyin:"shÃ­ fÄ“n",meaning:"very"},{word:"å±é™©",pinyin:"wÄ“i xiÇŽn",meaning:"dangerous"},{word:"çš„",pinyin:"de",meaning:"(particle)"},{text:"ã€‚"}],english:"I think the boy's behavior is very dangerous."},{start:96.38,end:114.58,label:"R=åŽŸå› ",chinese:[{word:"ä¿—è¯",pinyin:"sÃº huÃ ",meaning:"proverb"},{word:"è¯´",pinyin:"shuÅ",meaning:"says"},{text:'"'},{word:"é©¬è·¯å¦‚è™Žå£",pinyin:"mÇŽ lÃ¹ rÃº hÇ” kÇ’u",meaning:"road is like a tiger's mouth"},{text:'"ï¼Œ'},{word:"æˆ‘ä»¬",pinyin:"wÇ’ men",meaning:"we"},{word:"åœ¨",pinyin:"zÃ i",meaning:"when"},{word:"è¿‡é©¬è·¯",pinyin:"guÃ² mÇŽ lÃ¹",meaning:"crossing the road"},{word:"æ—¶",pinyin:"shÃ­",meaning:"when"},{word:"ä¸€å®š",pinyin:"yÄ« dÃ¬ng",meaning:"must"},{word:"è¦",pinyin:"yÃ o",meaning:"need to"},{word:"éµå®ˆ",pinyin:"zÅ«n shÇ’u",meaning:"follow/obey"},{word:"äº¤é€šè§„åˆ™",pinyin:"jiÄo tÅng guÄ« zÃ©",meaning:"traffic rules"},{text:"ï¼Œ"},{word:"æ³¨æ„",pinyin:"zhÃ¹ yÃ¬",meaning:"pay attention"},{word:"å®‰å…¨",pinyin:"Än quÃ¡n",meaning:"safety"},{text:"ã€‚"},{word:"ä¸€æ—¦",pinyin:"yÄ« dÃ n",meaning:"once"},{word:"å‘ç”Ÿ",pinyin:"fÄ shÄ“ng",meaning:"happen"},{word:"æ„å¤–",pinyin:"yÃ¬ wÃ i",meaning:"accident"},{text:"ï¼Œ"},{word:"åŽæžœ",pinyin:"hÃ²u guÇ’",meaning:"consequences"},{word:"å°†",pinyin:"jiÄng",meaning:"will"},{word:"ä¸å ªè®¾æƒ³",pinyin:"bÃ¹ kÄn shÃ¨ xiÇŽng",meaning:"hard to imagine"},{text:"ã€‚"}],english:`As the saying goes, "the road is like a tiger's mouth." We must follow traffic rules and pay attention to safety when crossing the road. Once an accident happens, the consequences are unimaginable.`},{start:114.58,end:126.46,label:"I=å¦‚æžœ",chinese:[{word:"å¦‚æžœ",pinyin:"rÃº guÇ’",meaning:"if"},{word:"æˆ‘",pinyin:"wÇ’",meaning:"I"},{word:"æ˜¯",pinyin:"shÃ¬",meaning:"am"},{word:"å½•åƒ",pinyin:"lÃ¹ xiÃ ng",meaning:"video/recording"},{word:"ä¸­",pinyin:"zhÅng",meaning:"in"},{word:"çš„",pinyin:"de",meaning:"(particle)"},{word:"ç”·ç”Ÿ",pinyin:"nÃ¡n shÄ“ng",meaning:"boy"},{text:"ï¼Œ"},{word:"æˆ‘",pinyin:"wÇ’",meaning:"I"},{word:"ä¼š",pinyin:"huÃ¬",meaning:"will"},{word:"éµå®ˆ",pinyin:"zÅ«n shÇ’u",meaning:"follow/obey"},{word:"äº¤é€šè§„åˆ™",pinyin:"jiÄo tÅng guÄ« zÃ©",meaning:"traffic rules"},{text:"ï¼Œ"},{word:"ç­‰",pinyin:"dÄ›ng",meaning:"wait"},{word:"ç»¿ç¯",pinyin:"lÇœ dÄ“ng",meaning:"green light"},{word:"äº®äº†",pinyin:"liÃ ng le",meaning:"turned on"},{word:"æ‰",pinyin:"cÃ¡i",meaning:"only then"},{word:"è¿‡é©¬è·¯",pinyin:"guÃ² mÇŽ lÃ¹",meaning:"cross the road"},{text:"ã€‚"}],english:"If I were the boy in the video, I would follow traffic rules and only cross the road when the green light is on."}],on=[{start:139.52,end:146.1,label:null,chinese:[{word:"æˆ‘",pinyin:"wÇ’",meaning:"I"},{word:"åœ¨",pinyin:"zÃ i",meaning:"when"},{word:"è¿‡é©¬è·¯",pinyin:"guÃ² mÇŽ lÃ¹",meaning:"crossing the road"},{word:"çš„",pinyin:"de",meaning:"(particle)"},{word:"æ—¶å€™",pinyin:"shÃ­ hou",meaning:"time"},{word:"æœ‰",pinyin:"yÇ’u",meaning:"have"},{word:"çœ‹è§",pinyin:"kÃ n jiÃ n",meaning:"seen"},{word:"è¿‡",pinyin:"guÃ²",meaning:"(experience marker)"},{word:"è®©",pinyin:"rÃ ng",meaning:"make/let"},{word:"æˆ‘",pinyin:"wÇ’",meaning:"me"},{word:"å°è±¡æ·±åˆ»",pinyin:"yÃ¬n xiÃ ng shÄ“n kÃ¨",meaning:"deep impression"},{word:"çš„",pinyin:"de",meaning:"(particle)"},{word:"äº‹æƒ…",pinyin:"shÃ¬ qing",meaning:"things"},{text:"ã€‚"}],labels:[],english:"I have seen things that left a deep impression on me while crossing the road."},{start:147.18,end:163.3,label:null,chinese:[{word:"è®°å¾—",pinyin:"jÃ¬ de",meaning:"remember"},{word:"ä¸€å¤©",pinyin:"yÄ« tiÄn",meaning:"one day"},{word:"ä¸‹åˆ",pinyin:"xiÃ  wÇ”",meaning:"afternoon"},{word:"æ”¾å­¦",pinyin:"fÃ ng xuÃ©",meaning:"after school"},{word:"åŽ",pinyin:"hÃ²u",meaning:"after"},{text:"ï¼Œ"},{word:"æˆ‘",pinyin:"wÇ’",meaning:"I"},{word:"èƒŒç€",pinyin:"bÄ“i zhe",meaning:"carrying on back"},{word:"ä¹¦åŒ…",pinyin:"shÅ« bÄo",meaning:"school bag"},{text:"ï¼Œ"},{word:"èµ°åœ¨",pinyin:"zÇ’u zÃ i",meaning:"walking on"},{word:"æ”¾å­¦",pinyin:"fÃ ng xuÃ©",meaning:"after school"},{word:"å›žå®¶",pinyin:"huÃ­ jiÄ",meaning:"going home"},{word:"çš„",pinyin:"de",meaning:"(particle)"},{word:"è·¯ä¸Š",pinyin:"lÃ¹ shÃ ng",meaning:"on the road"},{text:"ï¼Œ"},{word:"çœ‹è§",pinyin:"kÃ n jiÃ n",meaning:"saw"},{word:"äº†",pinyin:"le",meaning:"(particle)"},{word:"ä¸¤ä¸ª",pinyin:"liÇŽng gÃ¨",meaning:"two"},{word:"æˆ´",pinyin:"dÃ i",meaning:"wearing"},{word:"çœ¼é•œ",pinyin:"yÇŽn jÃ¬ng",meaning:"glasses"},{word:"çš„",pinyin:"de",meaning:"(particle)"},{word:"ç”·ç”Ÿ",pinyin:"nÃ¡n shÄ“ng",meaning:"boys"},{text:"ï¼Œ"},{word:"ä¸€è¾¹",pinyin:"yÄ« biÄn",meaning:"while"},{word:"èµ°è·¯",pinyin:"zÇ’u lÃ¹",meaning:"walking"},{text:"ï¼Œ"},{word:"ä¸€è¾¹",pinyin:"yÄ« biÄn",meaning:"while"},{word:"çŽ©",pinyin:"wÃ¡n",meaning:"play"},{word:"æ‰‹æœº",pinyin:"shÇ’u jÄ«",meaning:"phone"},{text:"ã€‚"}],labels:[{text:"æ—¶é—´",position:2},{text:"äººç‰©",position:6},{text:"åœ°ç‚¹",position:10},{text:"èµ·å› ",position:16}],english:"I remember one afternoon after school, I was carrying my bag on the way home and saw two boys wearing glasses walking and playing on their phones at the same time."},{start:163.86,end:180.84,label:null,chinese:[{word:"èµ°åˆ°",pinyin:"zÇ’u dÃ o",meaning:"walked to"},{word:"çº¢ç»¿ç¯",pinyin:"hÃ³ng lÇœ dÄ“ng",meaning:"traffic light"},{word:"è·¯å£",pinyin:"lÃ¹ kÇ’u",meaning:"intersection"},{word:"å¤„",pinyin:"chÃ¹",meaning:"place"},{word:"æ—¶",pinyin:"shÃ­",meaning:"when"},{text:"ï¼Œ"},{word:"ä»–ä»¬",pinyin:"tÄ men",meaning:"they"},{word:"ä¹Ÿ",pinyin:"yÄ›",meaning:"also"},{word:"æ²¡æœ‰",pinyin:"mÃ©i yÇ’u",meaning:"did not"},{word:"åœä¸‹æ¥",pinyin:"tÃ­ng xiÃ  lÃ¡i",meaning:"stop"},{text:"ï¼Œ"},{word:"è€Œæ˜¯",pinyin:"Ã©r shÃ¬",meaning:"but rather"},{word:"ä½Žç€",pinyin:"dÄ« zhe",meaning:"lowering"},{word:"å¤´",pinyin:"tÃ³u",meaning:"head"},{word:"ä¸€è¾¹",pinyin:"yÄ« biÄn",meaning:"while"},{word:"çŽ©",pinyin:"wÃ¡n",meaning:"play"},{word:"æ‰‹æœº",pinyin:"shÇ’u jÄ«",meaning:"phone"},{text:"ï¼Œ"},{word:"ä¸€è¾¹",pinyin:"yÄ« biÄn",meaning:"while"},{word:"å¾€å‰èµ°",pinyin:"wÇŽng qiÃ¡n zÇ’u",meaning:"walk forward"},{text:"ï¼Œ"},{word:"å®Œå…¨",pinyin:"wÃ¡n quÃ¡n",meaning:"completely"},{word:"æ²¡æœ‰",pinyin:"mÃ©i yÇ’u",meaning:"did not"},{word:"æ³¨æ„",pinyin:"zhÃ¹ yÃ¬",meaning:"pay attention"},{word:"é©¬è·¯ä¸Š",pinyin:"mÇŽ lÃ¹ shÃ ng",meaning:"on the road"},{word:"æ¥å¾€",pinyin:"lÃ¡i wÇŽng",meaning:"coming and going"},{word:"çš„",pinyin:"de",meaning:"(particle)"},{word:"è½¦è¾†",pinyin:"chÄ“ liÃ ng",meaning:"vehicles"},{text:"ã€‚"}],labels:[],english:"When they reached the traffic light intersection, they didn't stop but instead kept their heads down playing on their phones while walking forward, completely ignoring the traffic on the road."},{start:181.62,end:208.66,label:null,chinese:[{word:"å¹¸å¥½",pinyin:"xÃ¬ng hÇŽo",meaning:"fortunately"},{word:"ä¸€å",pinyin:"yÄ« mÃ­ng",meaning:"one (person)"},{word:"å¥³è€å¸ˆ",pinyin:"nÇš lÇŽo shÄ«",meaning:"female teacher"},{word:"çœ‹åˆ°",pinyin:"kÃ n dÃ o",meaning:"saw"},{word:"äº†",pinyin:"le",meaning:"(particle)"},{text:"ï¼Œ"},{word:"è¿žå¿™",pinyin:"liÃ¡n mÃ¡ng",meaning:"hurriedly"},{word:"ä¸Šå‰",pinyin:"shÃ ng qiÃ¡n",meaning:"step forward"},{word:"æ‹‰ä½",pinyin:"lÄ zhÃ¹",meaning:"grab/hold"},{word:"ä¸¤ä¸ª",pinyin:"liÇŽng gÃ¨",meaning:"two"},{word:"ç”·ç”Ÿ",pinyin:"nÃ¡n shÄ“ng",meaning:"boys"},{text:"ã€‚"},{word:"è€å¸ˆ",pinyin:"lÇŽo shÄ«",meaning:"teacher"},{word:"æ‰¹è¯„",pinyin:"pÄ« pÃ­ng",meaning:"criticized"},{word:"ä»–ä»¬",pinyin:"tÄ men",meaning:"them"},{word:"ä¸€è¾¹",pinyin:"yÄ« biÄn",meaning:"while"},{word:"èµ°è·¯",pinyin:"zÇ’u lÃ¹",meaning:"walking"},{word:"ä¸€è¾¹",pinyin:"yÄ« biÄn",meaning:"while"},{word:"çŽ©",pinyin:"wÃ¡n",meaning:"play"},{word:"æ‰‹æœº",pinyin:"shÇ’u jÄ«",meaning:"phone"},{word:"çš„",pinyin:"de",meaning:"(particle)"},{word:"è¡Œä¸º",pinyin:"xÃ­ng wÃ©i",meaning:"behavior"},{text:"ã€‚"},{word:"ä»–ä»¬ä¿©",pinyin:"tÄ men liÇŽ",meaning:"the two of them"},{word:"å¬äº†",pinyin:"tÄ«ng le",meaning:"heard"},{text:"ï¼Œ"},{word:"æƒ­æ„§",pinyin:"cÃ¡n kuÃ¬",meaning:"ashamed"},{word:"åœ°",pinyin:"de",meaning:"(adverb marker)"},{word:"ä½Žä¸‹äº†",pinyin:"dÄ« xiÃ  le",meaning:"lowered"},{word:"å¤´",pinyin:"tÃ³u",meaning:"head"},{text:"ã€‚"},{word:"æœ€åŽ",pinyin:"zuÃ¬ hÃ²u",meaning:"finally"},{word:"ä»–ä»¬",pinyin:"tÄ men",meaning:"they"},{word:"æŠŠ",pinyin:"bÇŽ",meaning:"(object marker)"},{word:"æ‰‹æœº",pinyin:"shÇ’u jÄ«",meaning:"phone"},{word:"æ”¶èµ·æ¥",pinyin:"shÅu qÇ lÃ¡i",meaning:"put away"},{text:"ï¼Œ"},{word:"è·Ÿç€",pinyin:"gÄ“n zhe",meaning:"following"},{word:"è€å¸ˆ",pinyin:"lÇŽo shÄ«",meaning:"teacher"},{word:"ä¸€èµ·",pinyin:"yÄ« qÇ",meaning:"together"},{word:"è¿‡é©¬è·¯",pinyin:"guÃ² mÇŽ lÃ¹",meaning:"cross the road"},{text:"ã€‚"}],labels:[{text:"ç»è¿‡",position:0},{text:"ç»“æžœ",position:41}],english:"Fortunately, a female teacher saw them and hurried forward to grab the two boys. The teacher criticized their behavior of walking and playing on their phones. They felt ashamed and lowered their heads. Finally, they put their phones away and crossed the road with the teacher."},{start:208.66,end:217.94,label:null,chinese:[{word:"ä¿—è¯",pinyin:"sÃº huÃ ",meaning:"proverb"},{word:"è¯´",pinyin:"shuÅ",meaning:"says"},{text:'ï¼š"'},{word:"é©¬è·¯å¦‚è™Žå£",pinyin:"mÇŽ lÃ¹ rÃº hÇ” kÇ’u",meaning:"road is like a tiger's mouth"},{text:'ã€‚"'},{word:"æˆ‘ä»¬",pinyin:"wÇ’ men",meaning:"we"},{word:"åœ¨",pinyin:"zÃ i",meaning:"when"},{word:"è¿‡é©¬è·¯",pinyin:"guÃ² mÇŽ lÃ¹",meaning:"crossing the road"},{word:"æ—¶",pinyin:"shÃ­",meaning:"when"},{word:"ä¸€å®š",pinyin:"yÄ« dÃ¬ng",meaning:"must"},{word:"è¦",pinyin:"yÃ o",meaning:"need to"},{word:"éµå®ˆ",pinyin:"zÅ«n shÇ’u",meaning:"follow/obey"},{word:"äº¤é€šè§„åˆ™",pinyin:"jiÄo tÅng guÄ« zÃ©",meaning:"traffic rules"},{text:"ã€‚"}],labels:[],english:`As the saying goes, "the road is like a tiger's mouth." We must follow traffic rules when crossing the road.`}],Le=[...ue,...Ne,...on];function ln({word:n,pinyin:i,meaning:a,onClick:t}){return e.jsx("span",{className:"koushi-word",onClick:()=>t(n,i,a),children:n})}function cn(n){return"word"in n}function Oe({sentence:n,isHighlighted:i,onWordClick:a}){const t=[],r=n.labels||[],o=new Map(r.map(d=>[d.position,d.text]));return n.chinese.forEach((d,c)=>{o.has(c)&&t.push(e.jsxs("span",{className:"koushi-label",children:["ï¼ˆ",o.get(c),"ï¼‰"]},`label-${c}`)),cn(d)?t.push(e.jsx(ln,{word:d.word,pinyin:d.pinyin,meaning:d.meaning,onClick:a},c)):t.push(e.jsx("span",{children:d.text},c))}),o.has(n.chinese.length)&&t.push(e.jsxs("span",{className:"koushi-label",children:["ï¼ˆ",o.get(n.chinese.length),"ï¼‰"]},"label-end")),e.jsxs("div",{className:`koushi-sentence ${i?"highlighted":""}`,children:[e.jsx("span",{className:"chinese",children:t}),e.jsx("span",{className:"english-translation",children:n.english})]})}function Vs({word:n,isLearned:i,onClick:a}){return e.jsxs("div",{className:`koushi-vocab-card ${i?"learned":""}`,onClick:a,children:[e.jsx("div",{className:"vocab-chinese",children:n.chinese}),e.jsx("div",{className:"vocab-pinyin",children:n.pinyin})]})}function Ks({word:n,pinyin:i,meaning:a,onClose:t,onPlayAudio:r}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"popup-overlay show",onClick:t}),e.jsxs("div",{className:"koushi-word-popup show",children:[e.jsx("div",{className:"popup-word",children:n}),e.jsx("div",{className:"popup-pinyin",children:i}),e.jsx("div",{className:"popup-meaning",children:a}),e.jsx("button",{className:"popup-audio-btn",onClick:r,children:"å¬å‘éŸ³"}),e.jsx("br",{}),e.jsx("button",{className:"popup-close",onClick:t,children:"å…³é—­"})]})]})}function Qs({word:n,isLearned:i,onClose:a,onPlayAudio:t,onToggleLearned:r}){return n?e.jsx("div",{className:"practice-modal show",children:e.jsxs("div",{className:"practice-content",children:[e.jsx("button",{className:"close-modal",onClick:a,children:"X"}),e.jsx("div",{className:"practice-word",children:n.chinese}),e.jsx("div",{className:"practice-pinyin",children:n.pinyin}),e.jsxs("div",{className:"practice-actions",children:[e.jsx("button",{className:"practice-btn primary",onClick:t,children:"å‘éŸ³"}),e.jsx("button",{className:"practice-btn primary",style:i?{background:"#ff6b6b"}:{},onClick:r,children:i?"X æ ‡è®°æœªå­¦ä¼š":"âœ“ æ ‡è®°å·²å­¦ä¼š"}),e.jsx("button",{className:"practice-btn secondary",onClick:a,children:"å…³é—­"})]})]})}):null}const _e="koushi_traffic_safety_learned";function Js(){const[n,i]=l.useState(new Set),[a,t]=l.useState(null),[r,o]=l.useState(null),[d,c]=l.useState(null),u=l.useRef(null);l.useEffect(()=>{const k=localStorage.getItem(_e);k&&i(new Set(JSON.parse(k)))},[]);const h=l.useCallback(k=>{localStorage.setItem(_e,JSON.stringify(Array.from(k)))},[]);l.useEffect(()=>{const k=u.current;if(!k)return;const T=()=>{const I=k.currentTime;let H=null;for(let U=0;U<Le.length;U++){const v=Le[U];if(I>=v.start&&I<v.end){H=U;break}}c(H)},z=()=>{c(null)};return k.addEventListener("timeupdate",T),k.addEventListener("ended",z),()=>{k.removeEventListener("timeupdate",T),k.removeEventListener("ended",z)}},[]);const m=l.useCallback(()=>{const k=u.current;k&&k.play()},[]),p=l.useCallback(()=>{window.confirm("ç¡®å®šè¦é‡ç½®å­¦ä¹ è¿›åº¦å—ï¼Ÿ")&&(i(new Set),h(new Set))},[h]),s=l.useCallback((k,T,z)=>{const I=u.current;I&&!I.paused&&I.pause(),t({word:k,pinyin:T,meaning:z})},[]),x=l.useCallback(()=>{t(null)},[]),f=l.useCallback(()=>{if(a){const k=new SpeechSynthesisUtterance(a.word);k.lang="zh-CN",k.rate=.7,speechSynthesis.speak(k)}},[a]),w=l.useCallback(k=>{o(k)},[]),y=l.useCallback(()=>{o(null)},[]),b=l.useCallback(()=>{if(r){const k=new SpeechSynthesisUtterance(r.chinese);k.lang="zh-CN",k.rate=.8,speechSynthesis.speak(k)}},[r]),S=l.useCallback(()=>{r&&i(k=>{const T=new Set(k);return T.has(r.chinese)?T.delete(r.chinese):T.add(r.chinese),h(T),T})},[r,h]);l.useEffect(()=>{const k=T=>{T.key==="Escape"&&(y(),x())};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[y,x]);const g=0,j=ue.length,A=ue.length+Ne.length;return e.jsxs("div",{className:"koushi-page",children:[e.jsxs("div",{className:"lesson-header lesson-header-orange",children:[e.jsx("h1",{children:"å£è¯•ç»ƒä¹ ï¼šã€Šäº¤é€šå®‰å…¨ã€‹"}),e.jsx("div",{className:"lesson-subtitle",children:"P3HCL ç»¼åˆç»ƒä¹ 4 é˜…è¯»è®¡åˆ’ - Traffic Safety"})]}),e.jsxs("div",{className:"content-container",children:[e.jsxs("div",{className:"controls-bar",children:[e.jsx("button",{className:"control-btn",onClick:m,children:"æ’­æ”¾æ•…äº‹éŸ³é¢‘"}),e.jsxs("div",{className:"progress-info",children:[e.jsx("span",{children:"å·²å­¦ä¹ è¯è¯­: "}),e.jsx("span",{children:n.size})," / ",e.jsx("span",{children:be.length})]}),e.jsx("button",{className:"control-btn secondary",onClick:p,children:"é‡ç½®è¿›åº¦"})]}),e.jsxs("div",{className:"audio-player-sticky",children:[e.jsx("div",{style:{fontWeight:500,marginBottom:"10px"},children:"æœ—è¯»éŸ³é¢‘"}),e.jsxs("audio",{ref:u,controls:!0,preload:"none",children:[e.jsx("source",{src:"/audio/traffic-safety/story.mp4",type:"audio/mp4"}),"æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚"]})]}),e.jsx("div",{className:"section-title",children:"å›¾ç‰‡"}),e.jsx("div",{className:"picture-container",children:e.jsx("div",{className:"pictures-row",children:e.jsxs("div",{className:"picture-box",style:{flex:"1 1 100%"},children:[e.jsx("img",{src:"/images/traffic-safety/picture1.png",alt:"äº¤é€šå®‰å…¨ - è¿‡é©¬è·¯",onError:k=>{k.target.style.display="none"}}),e.jsxs("div",{className:"picture-number",children:[e.jsx("span",{className:"koushi-word",onClick:()=>s("äº¤é€š","jiÄo tÅng","traffic"),children:"äº¤é€š"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å®‰å…¨","Än quÃ¡n","safety"),children:"å®‰å…¨"})," - ",e.jsx("span",{className:"koushi-word",onClick:()=>s("è¿‡é©¬è·¯","guÃ² mÇŽ lÃ¹","cross the road"),children:"è¿‡é©¬è·¯"})]})]})})}),e.jsx("div",{className:"section-title",children:e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¸»é¢˜","zhÇ” tÃ­","theme"),children:"ä¸»é¢˜"})}),e.jsx("div",{className:"question-box",children:e.jsx("div",{className:"story-text",children:e.jsxs("p",{children:[e.jsx("span",{className:"koushi-word",onClick:()=>s("åœ¨","zÃ i","when"),children:"åœ¨"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è¿‡é©¬è·¯","guÃ² mÇŽ lÃ¹","crossing the road"),children:"è¿‡é©¬è·¯"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ—¶","shÃ­","when"),children:"æ—¶"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¸€å®š","yÄ« dÃ¬ng","must"),children:"ä¸€å®š"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è¦","yÃ o","need to"),children:"è¦"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ³¨æ„","zhÃ¹ yÃ¬","pay attention"),children:"æ³¨æ„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è‡ªå·±","zÃ¬ jÇ","oneself"),children:"è‡ªå·±"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å®‰å…¨","Än quÃ¡n","safety"),children:"å®‰å…¨"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¹Ÿ","yÄ›","also"),children:"ä¹Ÿ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è¦","yÃ o","need to"),children:"è¦"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("éµå®ˆ","zÅ«n shÇ’u","follow/obey"),children:"éµå®ˆ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("äº¤é€šè§„åˆ™","jiÄo tÅng guÄ« zÃ©","traffic rules"),children:"äº¤é€šè§„åˆ™"}),"ã€‚"]})})}),e.jsxs("div",{className:"section-title",children:["é—®é¢˜ä¸€ï¼š",e.jsx("span",{className:"koushi-word",onClick:()=>s("è°ˆè°ˆ","tÃ¡n tan","talk about"),children:"è°ˆè°ˆ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä½ ","nÇ","you"),children:"ä½ "}),e.jsx("span",{className:"koushi-word",onClick:()=>s("åœ¨","zÃ i","in"),children:"åœ¨"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è§†é¢‘","shÃ¬ pÃ­n","video"),children:"è§†é¢‘"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¸­","zhÅng","in"),children:"ä¸­"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çœ‹åˆ°","kÃ n dÃ o","see"),children:"çœ‹åˆ°"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("äº‹æƒ…","shÃ¬ qing","things"),children:"äº‹æƒ…"}),"ï¼Ÿ"]}),e.jsxs("div",{className:"question-box",children:[e.jsx("h3",{children:e.jsx("span",{className:"koushi-word",onClick:()=>s("å¼€å¤´","kÄi tÃ³u","opening"),children:"å¼€å¤´"})}),e.jsx("div",{className:"story-text",children:e.jsxs("p",{children:[e.jsx("span",{className:"koushi-word",onClick:()=>s("è¿™æ®µ","zhÃ¨ duÃ n","this (segment)"),children:"è¿™æ®µ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è§†é¢‘","shÃ¬ pÃ­n","video"),children:"è§†é¢‘"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¸»è¦","zhÇ” yÃ o","main/primary"),children:"ä¸»è¦"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å†…å®¹","nÃ¨i rÃ³ng","content"),children:"å†…å®¹"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ˜¯","shÃ¬","is"),children:"æ˜¯"}),"ï¼š",e.jsx("span",{className:"koushi-word",onClick:()=>s("åœ¨","zÃ i","when"),children:"åœ¨"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è¿‡é©¬è·¯","guÃ² mÇŽ lÃ¹","crossing the road"),children:"è¿‡é©¬è·¯"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ—¶","shÃ­","when"),children:"æ—¶"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("æˆ‘ä»¬","wÇ’ men","we"),children:"æˆ‘ä»¬"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¸€å®š","yÄ« dÃ¬ng","must"),children:"ä¸€å®š"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è¦","yÃ o","need to"),children:"è¦"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ³¨æ„","zhÃ¹ yÃ¬","pay attention"),children:"æ³¨æ„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è‡ªå·±","zÃ¬ jÇ","oneself"),children:"è‡ªå·±"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å®‰å…¨","Än quÃ¡n","safety"),children:"å®‰å…¨"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¹Ÿ","yÄ›","also"),children:"ä¹Ÿ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è¦","yÃ o","need to"),children:"è¦"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("éµå®ˆ","zÅ«n shÇ’u","follow/obey"),children:"éµå®ˆ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("äº¤é€šè§„åˆ™","jiÄo tÅng guÄ« zÃ©","traffic rules"),children:"äº¤é€šè§„åˆ™"}),"ã€‚"]})})]}),e.jsxs("div",{className:"question-box",children:[e.jsx("h3",{children:e.jsx("span",{className:"koushi-word",onClick:()=>s("å†…å®¹","nÃ¨i rÃ³ng","content"),children:"å†…å®¹"})}),e.jsx("div",{className:"story-text",children:ue.map((k,T)=>e.jsx(Oe,{sentence:k,isHighlighted:d===g+T,onWordClick:s},T))}),e.jsxs("div",{className:"hint-box",children:[e.jsx("strong",{children:"æç¤ºï¼š"}),e.jsxs("ul",{children:[e.jsx("li",{children:"ç‚¹å‡»ä»»ä½•è¯è¯­æŸ¥çœ‹æ‹¼éŸ³ã€è‹±æ–‡ç¿»è¯‘å’Œå¬å‘éŸ³"}),e.jsx("li",{children:'ç‚¹å‡» "æ’­æ”¾æ•…äº‹éŸ³é¢‘" æŒ‰é’®ï¼Œå¥å­ä¼šåŒæ­¥é«˜äº®æ˜¾ç¤ºè‹±æ–‡ç¿»è¯‘'}),e.jsx("li",{children:"ç‚¹å‡»è¯è¯­æ—¶ï¼Œä¸»éŸ³é¢‘ä¼šè‡ªåŠ¨æš‚åœ"})]})]})]}),e.jsxs("div",{className:"question-box",children:[e.jsxs("h3",{children:[e.jsx("span",{className:"koushi-word",onClick:()=>s("æ€»ç»“","zÇ’ng jiÃ©","summary"),children:"æ€»ç»“"}),"ï¼ˆ",e.jsx("span",{className:"koushi-word",onClick:()=>s("æ„Ÿå—","gÇŽn shÃ²u","feelings"),children:"æ„Ÿå—"}),"ã€",e.jsx("span",{className:"koushi-word",onClick:()=>s("çœ‹æ³•","kÃ n fÇŽ","opinion"),children:"çœ‹æ³•"}),"ã€",e.jsx("span",{className:"koushi-word",onClick:()=>s("åŽŸå› ","yuÃ¡n yÄ«n","reason"),children:"åŽŸå› "}),"ã€",e.jsx("span",{className:"koushi-word",onClick:()=>s("å¦‚æžœ","rÃº guÇ’","if"),children:"å¦‚æžœ"}),"ï¼‰"]}),e.jsx("div",{className:"reflection-text",children:Ne.map((k,T)=>e.jsxs("div",{children:[e.jsx("div",{className:"reflection-label",style:T>0?{marginTop:"15px"}:{},children:k.label}),e.jsxs("div",{className:`koushi-sentence ${d===j+T?"highlighted":""}`,children:[e.jsx("span",{className:"chinese",children:k.chinese.map((z,I)=>cn(z)?e.jsx(ln,{word:z.word,pinyin:z.pinyin,meaning:z.meaning,onClick:s},I):e.jsx("span",{children:z.text},I))}),e.jsx("span",{className:"english-translation",children:k.english})]})]},T))})]}),e.jsx("div",{className:"section-title",children:e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¼šè¯ç»ƒä¹ ","huÃ¬ huÃ  liÃ n xÃ­","conversation practice"),children:"ä¼šè¯ç»ƒä¹ "})}),e.jsxs("div",{className:"section-title",children:["é—®é¢˜äºŒï¼š",e.jsx("span",{className:"koushi-word",onClick:()=>s("é™¤äº†","chÃº le","besides"),children:"é™¤äº†"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è§†é¢‘","shÃ¬ pÃ­n","video"),children:"è§†é¢‘"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¸­","zhÅng","in"),children:"ä¸­"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ‰€çœ‹åˆ°çš„","suÇ’ kÃ n dÃ o de","what was seen"),children:"æ‰€çœ‹åˆ°çš„"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("è°ˆä¸€è°ˆ","tÃ¡n yi tan","talk about"),children:"è°ˆä¸€è°ˆ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä½ ","nÇ","you"),children:"ä½ "}),e.jsx("span",{className:"koushi-word",onClick:()=>s("åœ¨","zÃ i","when"),children:"åœ¨"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è¿‡é©¬è·¯","guÃ² mÇŽ lÃ¹","crossing the road"),children:"è¿‡é©¬è·¯"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ—¶","shÃ­","when"),children:"æ—¶"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æœ‰","yÇ’u","have"),children:"æœ‰"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çœ‹è§","kÃ n jiÃ n","seen"),children:"çœ‹è§"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä»€ä¹ˆ","shÃ©n me","what"),children:"ä»€ä¹ˆ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("äº‹","shÃ¬","matter"),children:"äº‹"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è®©","rÃ ng","make"),children:"è®©"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä½ ","nÇ","you"),children:"ä½ "}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å°è±¡æ·±åˆ»","yÃ¬n xiÃ ng shÄ“n kÃ¨","deep impression"),children:"å°è±¡æ·±åˆ»"}),"ï¼Ÿï¼ˆ",e.jsx("span",{className:"koushi-word",onClick:()=>s("ç»åŽ†","jÄ«ng lÃ¬","experience"),children:"ç»åŽ†"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ç±»","lÃ¨i","type"),children:"ç±»"}),"ï¼‰"]}),e.jsx("div",{className:"question-box",children:e.jsx("div",{className:"story-text",children:on.map((k,T)=>e.jsx(Oe,{sentence:k,isHighlighted:d===A+T,onWordClick:s},T))})}),e.jsxs("div",{className:"section-title",children:["æœ¬è¯¾è¯è¯­ï¼ˆå…±",be.length,"ä¸ªï¼‰"]}),e.jsx("div",{className:"koushi-vocab-grid",children:be.map((k,T)=>e.jsx(Vs,{word:k,isLearned:n.has(k.chinese),onClick:()=>w(k)},T))})]}),a&&e.jsx(Ks,{word:a.word,pinyin:a.pinyin,meaning:a.meaning,onClose:x,onPlayAudio:f}),r&&e.jsx(Qs,{word:r,isLearned:n.has(r.chinese),onClose:y,onPlayAudio:b,onToggleLearned:S})]})}const Xs=q("/koushi-family-cohesion")({component:ai}),je=[{chinese:"è®°å¾—",pinyin:"jÃ¬ de",english:"remember"},{chinese:"åœ°ç‚¹",pinyin:"dÃ¬ diÇŽn",english:"location"},{chinese:"æµ·è¾¹",pinyin:"hÇŽi biÄn",english:"seaside"},{chinese:"èµ·å› ",pinyin:"qÇ yÄ«n",english:"reason/cause"},{chinese:"åº¦å‡",pinyin:"dÃ¹ jiÃ ",english:"vacation"},{chinese:"äººç‰©",pinyin:"rÃ©n wÃ¹",english:"people/characters"},{chinese:"ç«‹åˆ»",pinyin:"lÃ¬ kÃ¨",english:"immediately"},{chinese:"æ‹æ‰‹",pinyin:"pÄi shÇ’u",english:"clap hands"},{chinese:"æ¬¢å‘¼",pinyin:"huÄn hÅ«",english:"cheer"},{chinese:"å‡†å¤‡",pinyin:"zhÇ”n bÃ¨i",english:"prepare"},{chinese:"å°±ç»ª",pinyin:"jiÃ¹ xÃ¹",english:"ready"},{chinese:"å…´è‡´å‹ƒå‹ƒ",pinyin:"xÃ¬ng zhÃ¬ bÃ³ bÃ³",english:"enthusiastic"},{chinese:"ç»è¿‡",pinyin:"jÄ«ng guÃ²",english:"experience/process"},{chinese:"èµ¶ç´§",pinyin:"gÇŽn jÇn",english:"hurry"},{chinese:"æ¢ä¸Š",pinyin:"huÃ n shang",english:"change into"},{chinese:"å‘¼ç€",pinyin:"hÅ« zhe",english:"singing/humming"},{chinese:"æ¬¢å¿«",pinyin:"huÄn kuÃ i",english:"cheerful"},{chinese:"æ­Œå„¿",pinyin:"gÄ“ r",english:"song"}],ke=[{start:9.15,end:17.59,chinese:[{word:"åœ¨",pinyin:"zÃ i",meaning:"at/in"},{word:"å›¾ç‰‡",pinyin:"tÃº piÃ n",meaning:"picture"},{word:"ä¸­",pinyin:"zhÅng",meaning:"middle/in"},{text:"ï¼Œ"},{word:"æˆ‘",pinyin:"wÇ’",meaning:"I"},{word:"çœ‹åˆ°",pinyin:"kÃ n dÃ o",meaning:"see"},{word:"ä¸€ä¸ª",pinyin:"yÄ« gÃ¨",meaning:"one"},{word:"é˜³å…‰æ™®ç…§",pinyin:"yÃ¡ng guÄng pÇ” zhÃ o",meaning:"sunny"},{word:"çš„",pinyin:"de",meaning:"(particle)"},{word:"ä¸Šåˆ",pinyin:"shÃ ng wÇ”",meaning:"morning"},{text:"ï¼Œ"},{word:"çˆ¸çˆ¸",pinyin:"bÃ  ba",meaning:"dad"},{word:"é©¾è½¦",pinyin:"jiÃ  chÄ“",meaning:"drive"},{word:"å¸¦ç€",pinyin:"dÃ i zhe",meaning:"bringing"},{word:"å…¨å®¶äºº",pinyin:"quÃ¡n jiÄ rÃ©n",meaning:"whole family"},{word:"åŽ»",pinyin:"qÃ¹",meaning:"go"},{word:"æµ·è¾¹",pinyin:"hÇŽi biÄn",meaning:"seaside"},{word:"é‡Žé¤",pinyin:"yÄ› cÄn",meaning:"picnic"},{text:"ã€‚"}],english:"In the picture, I see a sunny morning where Dad drives the whole family to the beach for a picnic."},{start:18.63,end:27.59,chinese:[{word:"æµ·è¾¹",pinyin:"hÇŽi biÄn",meaning:"seaside"},{word:"æœ‰",pinyin:"yÇ’u",meaning:"have/there is"},{word:"å¾ˆå¤š",pinyin:"hÄ›n duÅ",meaning:"many"},{word:"äºº",pinyin:"rÃ©n",meaning:"people"},{text:"ï¼Œ"},{word:"æœ‰çš„",pinyin:"yÇ’u de",meaning:"some"},{word:"åœ¨",pinyin:"zÃ i",meaning:"at"},{word:"æ¸¸æ³³",pinyin:"yÃ³u yÇ’ng",meaning:"swim"},{text:"ï¼Œ"},{word:"æœ‰çš„",pinyin:"yÇ’u de",meaning:"some"},{word:"åœ¨",pinyin:"zÃ i",meaning:"at"},{word:"æ™’å¤ªé˜³",pinyin:"shÃ i tÃ i yÃ¡ng",meaning:"sunbathe"},{text:"ï¼Œ"},{word:"æœ‰çš„",pinyin:"yÇ’u de",meaning:"some"},{word:"åœ¨",pinyin:"zÃ i",meaning:"at"},{word:"çŽ©æ¸¸æˆ",pinyin:"wÃ¡n yÃ³u xÃ¬",meaning:"play games"},{text:"ï¼Œ"},{word:"ååˆ†",pinyin:"shÃ­ fÄ“n",meaning:"very"},{word:"çƒ­é—¹",pinyin:"rÃ¨ nao",meaning:"lively"},{text:"ã€‚"}],english:"There are many people at the beach - some swimming, some sunbathing, some playing games - it's very lively."},{start:28.25,end:38.85,chinese:[{word:"çˆ¸çˆ¸å¦ˆå¦ˆ",pinyin:"bÃ  ba mÄ ma",meaning:"parents"},{word:"å…ˆ",pinyin:"xiÄn",meaning:"first"},{word:"é“ºå¥½",pinyin:"pÅ« hÇŽo",meaning:"lay out"},{word:"å¸­å­",pinyin:"xÃ­ zi",meaning:"mat"},{text:"ï¼Œ"},{word:"å†",pinyin:"zÃ i",meaning:"then"},{word:"æ‘†ä¸Š",pinyin:"bÇŽi shang",meaning:"arrange"},{word:"é£Ÿç‰©",pinyin:"shÃ­ wÃ¹",meaning:"food"},{text:"ï¼Œ"},{word:"æœ€åŽ",pinyin:"zuÃ¬ hÃ²u",meaning:"finally"},{word:"ä»–ä»¬",pinyin:"tÄ men",meaning:"they"},{word:"ä¾¿",pinyin:"biÃ n",meaning:"then"},{word:"ååœ¨",pinyin:"zuÃ² zÃ i",meaning:"sit on"},{word:"å¸­å­ä¸Š",pinyin:"xÃ­ zi shÃ ng",meaning:"on the mat"},{word:"ä¸€è¾¹",pinyin:"yÄ« biÄn",meaning:"while"},{word:"æ‹ç…§",pinyin:"pÄi zhÃ o",meaning:"take photos"},{word:"ä¸€è¾¹",pinyin:"yÄ« biÄn",meaning:"while"},{word:"è°ˆå¤©",pinyin:"tÃ¡n tiÄn",meaning:"chat"},{text:"ã€‚"}],english:"Mom and Dad first lay out the mat, then arrange the food, and finally they sit on the mat chatting while taking photos."},{start:39.37,end:47.69,chinese:[{word:"å“¥å“¥",pinyin:"gÄ“ ge",meaning:"older brother"},{word:"å’Œ",pinyin:"hÃ©",meaning:"and"},{word:"å¦¹å¦¹",pinyin:"mÃ¨i mei",meaning:"younger sister"},{word:"åˆ™",pinyin:"zÃ©",meaning:"then/while"},{word:"è·‘åˆ°",pinyin:"pÇŽo dÃ o",meaning:"run to"},{word:"æ²™æ»©ä¸Š",pinyin:"shÄ tÄn shÃ ng",meaning:"on the beach"},{word:"çŽ©",pinyin:"wÃ¡n",meaning:"play"},{word:"æ‰”é£žç›˜",pinyin:"rÄ“ng fÄ“i pÃ¡n",meaning:"frisbee"},{word:"çš„",pinyin:"de",meaning:"(particle)"},{word:"æ¸¸æˆ",pinyin:"yÃ³u xÃ¬",meaning:"game"},{text:"ï¼Œ"},{word:"çŽ©å¾—",pinyin:"wÃ¡n de",meaning:"having fun"},{word:"å¾ˆå¼€å¿ƒ",pinyin:"hÄ›n kÄi xÄ«n",meaning:"very happy"},{text:"ã€‚"}],english:"The older brother and younger sister run to the beach to play frisbee, having a lot of fun."},{start:48.58,end:57.99,chinese:[{word:"åˆ°äº†",pinyin:"dÃ o le",meaning:"arrived/reached"},{word:"ä¸‹åˆ",pinyin:"xiÃ  wÇ”",meaning:"afternoon"},{text:"ï¼Œ"},{word:"å¤©æ°”",pinyin:"tiÄn qÃ¬",meaning:"weather"},{word:"å˜å¾—",pinyin:"biÃ n de",meaning:"become"},{word:"ååˆ†",pinyin:"shÃ­ fÄ“n",meaning:"very"},{word:"ç‚Žçƒ­",pinyin:"yÃ¡n rÃ¨",meaning:"hot"},{text:"ï¼Œ"},{word:"å¤§å®¶",pinyin:"dÃ  jiÄ",meaning:"everyone"},{word:"ä¾¿",pinyin:"biÃ n",meaning:"then"},{word:"ä¸€èµ·",pinyin:"yÄ« qÇ",meaning:"together"},{word:"æ”¶æ‹¾ä¸œè¥¿",pinyin:"shÅu shi dÅng xi",meaning:"pack up"},{text:"ï¼Œ"},{word:"ä¾ä¾ä¸èˆ",pinyin:"yÄ« yÄ« bÃ¹ shÄ›",meaning:"reluctantly"},{word:"åœ°",pinyin:"de",meaning:"(adverb marker)"},{word:"å›žå®¶äº†",pinyin:"huÃ­ jiÄ le",meaning:"went home"},{text:"ã€‚"}],english:"In the afternoon, the weather became very hot, so everyone packed up and reluctantly went home."}];function Zs({word:n,pinyin:i,meaning:a,onClick:t}){return e.jsx("span",{className:"koushi-word",onClick:()=>t(n,i,a),children:n})}function ei(n){return"word"in n}function ni({sentence:n,isHighlighted:i,onWordClick:a}){return e.jsxs("div",{className:`koushi-sentence ${i?"highlighted":""}`,children:[e.jsx("span",{className:"chinese",children:n.chinese.map((t,r)=>ei(t)?e.jsx(Zs,{word:t.word,pinyin:t.pinyin,meaning:t.meaning,onClick:a},r):e.jsx("span",{children:t.text},r))}),e.jsx("span",{className:"english-translation",children:n.english})]})}function si({word:n,isLearned:i,onClick:a}){return e.jsxs("div",{className:`koushi-vocab-card ${i?"learned":""}`,onClick:a,children:[e.jsx("div",{className:"vocab-chinese",children:n.chinese}),e.jsx("div",{className:"vocab-pinyin",children:n.pinyin})]})}function ii({word:n,pinyin:i,meaning:a,onClose:t,onPlayAudio:r}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"popup-overlay show",onClick:t}),e.jsxs("div",{className:"koushi-word-popup show",children:[e.jsx("div",{className:"popup-word",children:n}),e.jsx("div",{className:"popup-pinyin",children:i}),e.jsx("div",{className:"popup-meaning",children:a}),e.jsx("button",{className:"popup-audio-btn",onClick:r,children:"å¬å‘éŸ³"}),e.jsx("br",{}),e.jsx("button",{className:"popup-close",onClick:t,children:"å…³é—­"})]})]})}function ti({word:n,isLearned:i,onClose:a,onPlayAudio:t,onToggleLearned:r}){return n?e.jsx("div",{className:"practice-modal show",children:e.jsxs("div",{className:"practice-content",children:[e.jsx("button",{className:"close-modal",onClick:a,children:"X"}),e.jsx("div",{className:"practice-word",children:n.chinese}),e.jsx("div",{className:"practice-pinyin",children:n.pinyin}),e.jsxs("div",{className:"practice-actions",children:[e.jsx("button",{className:"practice-btn primary",onClick:t,children:"å‘éŸ³"}),e.jsx("button",{className:"practice-btn primary",style:i?{background:"#ff6b6b"}:{},onClick:r,children:i?"X æ ‡è®°æœªå­¦ä¼š":"âœ“ æ ‡è®°å·²å­¦ä¼š"}),e.jsx("button",{className:"practice-btn secondary",onClick:a,children:"å…³é—­"})]})]})}):null}const Me="koushi_family_cohesion_learned";function ai(){const[n,i]=l.useState(new Set),[a,t]=l.useState(null),[r,o]=l.useState(null),[d,c]=l.useState(null),u=l.useRef(null);l.useEffect(()=>{const g=localStorage.getItem(Me);g&&i(new Set(JSON.parse(g)))},[]);const h=l.useCallback(g=>{localStorage.setItem(Me,JSON.stringify(Array.from(g)))},[]);l.useEffect(()=>{const g=u.current;if(!g)return;const j=()=>{const k=g.currentTime;let T=null;for(let z=0;z<ke.length;z++){const I=ke[z];if(k>=I.start&&k<I.end){T=z;break}}c(T)},A=()=>{c(null)};return g.addEventListener("timeupdate",j),g.addEventListener("ended",A),()=>{g.removeEventListener("timeupdate",j),g.removeEventListener("ended",A)}},[]);const m=l.useCallback(()=>{const g=u.current;g&&g.play()},[]),p=l.useCallback(()=>{window.confirm("ç¡®å®šè¦é‡ç½®å­¦ä¹ è¿›åº¦å—ï¼Ÿ")&&(i(new Set),h(new Set))},[h]),s=l.useCallback((g,j,A)=>{const k=u.current;k&&!k.paused&&k.pause(),t({word:g,pinyin:j,meaning:A})},[]),x=l.useCallback(()=>{t(null)},[]),f=l.useCallback(()=>{if(a){const g=new SpeechSynthesisUtterance(a.word);g.lang="zh-CN",g.rate=.7,speechSynthesis.speak(g)}},[a]),w=l.useCallback(g=>{o(g)},[]),y=l.useCallback(()=>{o(null)},[]),b=l.useCallback(()=>{if(r){const g=new SpeechSynthesisUtterance(r.chinese);g.lang="zh-CN",g.rate=.8,speechSynthesis.speak(g)}},[r]),S=l.useCallback(()=>{r&&i(g=>{const j=new Set(g);return j.has(r.chinese)?j.delete(r.chinese):j.add(r.chinese),h(j),j})},[r,h]);return l.useEffect(()=>{const g=j=>{j.key==="Escape"&&(y(),x())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[y,x]),e.jsxs("div",{className:"koushi-page",children:[e.jsxs("div",{className:"lesson-header lesson-header-orange",children:[e.jsx("h1",{children:"å£è¯•ç»ƒä¹ ï¼šã€Šå®¶åº­å‡èšåŠ›ã€‹"}),e.jsx("div",{className:"lesson-subtitle",children:"P3HCL ç»¼åˆç»ƒä¹ 4 é˜…è¯»è®¡åˆ’ - Family Cohesion"})]}),e.jsxs("div",{className:"content-container",children:[e.jsxs("div",{className:"controls-bar",children:[e.jsx("button",{className:"control-btn",onClick:m,children:"æ’­æ”¾æ•…äº‹éŸ³é¢‘"}),e.jsxs("div",{className:"progress-info",children:[e.jsx("span",{children:"å·²å­¦ä¹ è¯è¯­: "}),e.jsx("span",{children:n.size})," / ",e.jsx("span",{children:je.length})]}),e.jsx("button",{className:"control-btn secondary",onClick:p,children:"é‡ç½®è¿›åº¦"})]}),e.jsxs("div",{className:"audio-player-sticky",children:[e.jsx("div",{style:{fontWeight:500,marginBottom:"10px"},children:"æœ—è¯»éŸ³é¢‘"}),e.jsxs("audio",{ref:u,controls:!0,preload:"none",children:[e.jsx("source",{src:"/audio/family-cohesion/story.mp4",type:"audio/mp4"}),"æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚"]})]}),e.jsx("div",{className:"section-title",children:"å›¾ç‰‡"}),e.jsx("div",{className:"picture-container",children:e.jsxs("div",{className:"pictures-row",children:[e.jsxs("div",{className:"picture-box",children:[e.jsx("img",{src:"/images/family-cohesion/picture1.png",alt:"å›¾ç‰‡1 - ä¸€å®¶äººåœ¨è½¦é‡Œ",onError:g=>{g.target.style.display="none"}}),e.jsx("div",{className:"picture-number",children:"1. ä¸€å®¶äººåœ¨è½¦é‡Œ"})]}),e.jsxs("div",{className:"picture-box",children:[e.jsx("img",{src:"/images/family-cohesion/picture2.png",alt:"å›¾ç‰‡2 - æµ·è¾¹é‡Žé¤",onError:g=>{g.target.style.display="none"}}),e.jsx("div",{className:"picture-number",children:"2. æµ·è¾¹é‡Žé¤"})]}),e.jsxs("div",{className:"picture-box",children:[e.jsx("img",{src:"/images/family-cohesion/picture3.png",alt:"å›¾ç‰‡3 - å›žå®¶çš„è½¦",onError:g=>{g.target.style.display="none"}}),e.jsx("div",{className:"picture-number",children:"3. å›žå®¶çš„è½¦"})]})]})}),e.jsxs("div",{className:"section-title",children:["é—®é¢˜ä¸€ï¼š",e.jsx("span",{className:"koushi-word",onClick:()=>s("è°ˆè°ˆ","tÃ¡n tan","talk about"),children:"è°ˆè°ˆ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä½ ","nÇ","you"),children:"ä½ "}),e.jsx("span",{className:"koushi-word",onClick:()=>s("åœ¨","zÃ i","in"),children:"åœ¨"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å›¾ç‰‡","tÃº piÃ n","picture"),children:"å›¾ç‰‡"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¸­","zhÅng","in"),children:"ä¸­"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çœ‹åˆ°","kÃ n dÃ o","see"),children:"çœ‹åˆ°"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("äº‹æƒ…","shÃ¬ qing","things"),children:"äº‹æƒ…"})]}),e.jsxs("div",{className:"question-box",children:[e.jsx("h3",{children:e.jsx("span",{className:"koushi-word",onClick:()=>s("å†…å®¹","nÃ¨i rÃ³ng","content"),children:"å†…å®¹"})}),e.jsx("div",{className:"story-text",children:ke.map((g,j)=>e.jsx(ni,{sentence:g,isHighlighted:d===j,onWordClick:s},j))}),e.jsxs("div",{className:"hint-box",children:[e.jsx("strong",{children:"æç¤ºï¼š"}),e.jsxs("ul",{children:[e.jsx("li",{children:"ç‚¹å‡»ä»»ä½•è¯è¯­æŸ¥çœ‹æ‹¼éŸ³ã€è‹±æ–‡ç¿»è¯‘å’Œå¬å‘éŸ³"}),e.jsx("li",{children:'ç‚¹å‡» "æ’­æ”¾æ•…äº‹éŸ³é¢‘" æŒ‰é’®ï¼Œå¥å­ä¼šåŒæ­¥é«˜äº®æ˜¾ç¤ºè‹±æ–‡ç¿»è¯‘'}),e.jsx("li",{children:"ç‚¹å‡»è¯è¯­æ—¶ï¼Œä¸»éŸ³é¢‘ä¼šè‡ªåŠ¨æš‚åœ"})]})]})]}),e.jsxs("div",{className:"question-box",children:[e.jsxs("h3",{children:[e.jsx("span",{className:"koushi-word",onClick:()=>s("æ€»ç»“","zÇ’ng jiÃ©","summary"),children:"æ€»ç»“"}),"ï¼ˆ",e.jsx("span",{className:"koushi-word",onClick:()=>s("æ„Ÿå—","gÇŽn shÃ²u","feelings"),children:"æ„Ÿå—"}),"ã€",e.jsx("span",{className:"koushi-word",onClick:()=>s("çœ‹æ³•","kÃ n fÇŽ","opinion"),children:"çœ‹æ³•"}),"ã€",e.jsx("span",{className:"koushi-word",onClick:()=>s("åŽŸå› ","yuÃ¡n yÄ«n","reason"),children:"åŽŸå› "}),"ã€",e.jsx("span",{className:"koushi-word",onClick:()=>s("å¦‚æžœ","rÃº guÇ’","if"),children:"å¦‚æžœ"}),"ï¼‰"]}),e.jsxs("div",{className:"reflection-text",children:[e.jsx("div",{className:"reflection-label",children:"F=æ„Ÿå—"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çœ‹äº†","kÃ n le","saw/watched"),children:"çœ‹äº†"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è¿™ä¸€å¹•","zhÃ¨ yÄ« mÃ¹","this scene"),children:"è¿™ä¸€å¹•"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("æˆ‘","wÇ’","I"),children:"æˆ‘"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å¾ˆ","hÄ›n","very"),children:"å¾ˆ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ„ŸåŠ¨","gÇŽn dÃ²ng","moved/touched"),children:"æ„ŸåŠ¨"}),"ã€‚",e.jsx("div",{className:"reflection-label",style:{marginTop:"15px"},children:"O=çœ‹æ³•"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æˆ‘","wÇ’","I"),children:"æˆ‘"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è®¤ä¸º","rÃ¨n wÃ©i","think/believe"),children:"è®¤ä¸º"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è¿™ä¸€å®¶äºº","zhÃ¨ yÄ« jiÄ rÃ©n","this family"),children:"è¿™ä¸€å®¶äºº"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ„Ÿæƒ…","gÇŽn qÃ­ng","feelings/relationship"),children:"æ„Ÿæƒ…"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å¾ˆå¥½","hÄ›n hÇŽo","very good"),children:"å¾ˆå¥½"}),"ã€‚",e.jsx("div",{className:"reflection-label",style:{marginTop:"15px"},children:"R=åŽŸå› "}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å› ä¸º","yÄ«n wÃ¨i","because"),children:"å› ä¸º"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çˆ¶æ¯","fÃ¹ mÇ”","parents"),children:"çˆ¶æ¯"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ¯å¤©","mÄ›i tiÄn","every day"),children:"æ¯å¤©"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å·¥ä½œ","gÅng zuÃ²","work"),children:"å·¥ä½œ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("éžå¸¸","fÄ“i chÃ¡ng","very"),children:"éžå¸¸"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å¿™","mÃ¡ng","busy"),children:"å¿™"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("å¾ˆå°‘","hÄ›n shÇŽo","seldom/rarely"),children:"å¾ˆå°‘"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æœ‰","yÇ’u","have"),children:"æœ‰"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ—¶é—´","shÃ­ jiÄn","time"),children:"æ—¶é—´"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å’Œ","hÃ©","and/with"),children:"å’Œ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æˆ‘ä»¬","wÇ’ men","us"),children:"æˆ‘ä»¬"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("èšåœ¨ä¸€èµ·","jÃ¹ zÃ i yÄ« qÇ","gather together"),children:"èšåœ¨ä¸€èµ·"}),"ã€‚",e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¸€å®¶äºº","yÄ« jiÄ rÃ©n","family"),children:"ä¸€å®¶äºº"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("åº”è¯¥","yÄ«ng gÄi","should"),children:"åº”è¯¥"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å¤š","duÅ","more"),children:"å¤š"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("èšåœ¨ä¸€èµ·","jÃ¹ zÃ i yÄ« qÇ","gather together"),children:"èšåœ¨ä¸€èµ·"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è¿›è¡Œ","jÃ¬n xÃ­ng","carry out"),children:"è¿›è¡Œ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ´»åŠ¨","huÃ³ dÃ²ng","activities"),children:"æ´»åŠ¨"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("è¿™æ ·","zhÃ¨ yÃ ng","this way"),children:"è¿™æ ·"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å°±","jiÃ¹","then"),children:"å°±"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("èƒ½","nÃ©ng","can"),children:"èƒ½"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æœ‰","yÇ’u","have"),children:"æœ‰"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ›´å¤š","gÃ¨ng duÅ","more"),children:"æ›´å¤š"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ—¶é—´","shÃ­ jiÄn","time"),children:"æ—¶é—´"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("åŽ»","qÃ¹","to go"),children:"åŽ»"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("äº†è§£","liÇŽo jiÄ›","understand"),children:"äº†è§£"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å’Œ","hÃ©","and"),children:"å’Œ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å…³å¿ƒ","guÄn xÄ«n","care about"),children:"å…³å¿ƒ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å¯¹æ–¹","duÃ¬ fÄng","each other"),children:"å¯¹æ–¹"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("å®¶äººä¹‹é—´","jiÄ rÃ©n zhÄ« jiÄn","between family"),children:"å®¶äººä¹‹é—´"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ„Ÿæƒ…","gÇŽn qÃ­ng","feelings"),children:"æ„Ÿæƒ…"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å°±","jiÃ¹","then"),children:"å°±"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¼š","huÃ¬","will"),children:"ä¼š"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è¶Šæ¥è¶Šå¥½","yuÃ¨ lÃ¡i yuÃ¨ hÇŽo","better and better"),children:"è¶Šæ¥è¶Šå¥½"}),"ã€‚",e.jsx("div",{className:"reflection-label",style:{marginTop:"15px"},children:"IF=å¦‚æžœ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å¦‚æžœ","rÃº guÇ’","if"),children:"å¦‚æžœ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æˆ‘","wÇ’","I"),children:"æˆ‘"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ˜¯","shÃ¬","am"),children:"æ˜¯"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å›¾ç‰‡ä¸­","tÃº piÃ n zhÅng","in the picture"),children:"å›¾ç‰‡ä¸­"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å°å­©","xiÇŽo hÃ¡i","child"),children:"å°å­©"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("æˆ‘","wÇ’","I"),children:"æˆ‘"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¹Ÿ","yÄ›","also"),children:"ä¹Ÿ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¼š","huÃ¬","will"),children:"ä¼š"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å¤š","duÅ","more"),children:"å¤š"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å’Œ","hÃ©","with"),children:"å’Œ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å®¶äºº","jiÄ rÃ©n","family"),children:"å®¶äºº"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("èšåœ¨ä¸€èµ·","jÃ¹ zÃ i yÄ« qÇ","gather together"),children:"èšåœ¨ä¸€èµ·"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("çæƒœ","zhÄ“n xÄ«","cherish"),children:"çæƒœ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å’Œ","hÃ©","with"),children:"å’Œ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å®¶äºº","jiÄ rÃ©n","family"),children:"å®¶äºº"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ç›¸å¤„","xiÄng chÇ”","get along"),children:"ç›¸å¤„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ—¶å…‰","shÃ­ guÄng","time/moments"),children:"æ—¶å…‰"}),"ã€‚"]})]}),e.jsxs("div",{className:"section-title",children:["é—®é¢˜äºŒï¼š",e.jsx("span",{className:"koushi-word",onClick:()=>s("ç»åŽ†","jÄ«ng lÃ¬","experience"),children:"ç»åŽ†"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ç±»","lÃ¨i","type"),children:"ç±»"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("é—®é¢˜","wÃ¨n tÃ­","question"),children:"é—®é¢˜"})]}),e.jsxs("div",{className:"question-box",children:[e.jsxs("h3",{children:[e.jsx("span",{className:"koushi-word",onClick:()=>s("é™¤äº†","chÃº le","besides"),children:"é™¤äº†"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å›¾ç‰‡","tÃº piÃ n","picture"),children:"å›¾ç‰‡"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¸­","zhÅng","in"),children:"ä¸­"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ‰€çœ‹åˆ°çš„","suÇ’ kÃ n dÃ o de","what was seen"),children:"æ‰€çœ‹åˆ°çš„"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("è°ˆä¸€è°ˆ","tÃ¡n yi tan","talk about"),children:"è°ˆä¸€è°ˆ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä½ ","nÇ","you"),children:"ä½ "}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ›¾ç»","cÃ©ng jÄ«ng","once/previously"),children:"æ›¾ç»"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å’Œ","hÃ©","with"),children:"å’Œ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å®¶äºº","jiÄ rÃ©n","family"),children:"å®¶äºº"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("èšåœ¨ä¸€èµ·","jÃ¹ zÃ i yÄ« qÇ","gather together"),children:"èšåœ¨ä¸€èµ·"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("äº‹","shÃ¬","matter/thing"),children:"äº‹"}),"ã€‚"]}),e.jsxs("div",{className:"story-text",children:[e.jsxs("div",{className:"sentence-with-translation",children:[e.jsxs("p",{children:[e.jsx("span",{className:"koushi-word",onClick:()=>s("è®°å¾—","jÃ¬ de","remember"),children:"è®°å¾—"}),"ï¼ˆ",e.jsx("span",{className:"koushi-word",onClick:()=>s("æ—¶é—´","shÃ­ jiÄn","time"),children:"æ—¶é—´"}),"ï¼‰",e.jsx("span",{className:"koushi-word",onClick:()=>s("åŽ»å¹´","qÃ¹ niÃ¡n","last year"),children:"åŽ»å¹´"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å­¦æ ¡å‡æœŸ","xuÃ© xiÃ o jiÃ  qÄ«","school holiday"),children:"å­¦æ ¡å‡æœŸ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ—¶","shÃ­","when"),children:"æ—¶"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("çˆ¸çˆ¸","bÃ  ba","dad"),children:"çˆ¸çˆ¸"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æè®®","tÃ­ yÃ¬","suggest"),children:"æè®®"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¸€èµ·åŽ»","yÄ« qÇ qÃ¹","go together"),children:"ä¸€èµ·åŽ»"}),"ï¼ˆ",e.jsx("span",{className:"koushi-word",onClick:()=>s("åœ°ç‚¹","dÃ¬ diÇŽn","location"),children:"åœ°ç‚¹"}),"ï¼‰",e.jsx("span",{className:"koushi-word",onClick:()=>s("æµ·è¾¹","hÇŽi biÄn","seaside"),children:"æµ·è¾¹"}),"ï¼ˆ",e.jsx("span",{className:"koushi-word",onClick:()=>s("èµ·å› ","qÇ yÄ«n","reason"),children:"èµ·å› "}),"ï¼‰",e.jsx("span",{className:"koushi-word",onClick:()=>s("åº¦å‡","dÃ¹ jiÃ ","vacation"),children:"åº¦å‡"}),"ï¼Œï¼ˆ",e.jsx("span",{className:"koushi-word",onClick:()=>s("äººç‰©","rÃ©n wÃ¹","people"),children:"äººç‰©"}),"ï¼‰",e.jsx("span",{className:"koushi-word",onClick:()=>s("æˆ‘ä»¬å…¨å®¶äºº","wÇ’ men quÃ¡n jiÄ rÃ©n","our whole family"),children:"æˆ‘ä»¬å…¨å®¶äºº"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å¬äº†","tÄ«ng le","heard"),children:"å¬äº†"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("ç«‹åˆ»","lÃ¬ kÃ¨","immediately"),children:"ç«‹åˆ»"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ‹æ‰‹æ¬¢å‘¼","pÄi shÇ’u huÄn hÅ«","clap and cheer"),children:"æ‹æ‰‹æ¬¢å‘¼"}),"ã€‚"]}),e.jsx("p",{className:"sentence-translation",children:"I remember last year during school holidays, dad suggested we go to the seaside for vacation, and our whole family immediately clapped and cheered."})]}),e.jsxs("div",{className:"sentence-with-translation",children:[e.jsxs("p",{children:[e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¸€åˆ‡","yÄ« qiÃ¨","everything"),children:"ä¸€åˆ‡"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å‡†å¤‡å°±ç»ª","zhÇ”n bÃ¨i jiÃ¹ xÃ¹","ready"),children:"å‡†å¤‡å°±ç»ª"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("åŽ","hÃ²u","after"),children:"åŽ"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¾¿","biÃ n","then"),children:"ä¾¿"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å…´è‡´å‹ƒå‹ƒ","xÃ¬ng zhÃ¬ bÃ³ bÃ³","enthusiastic"),children:"å…´è‡´å‹ƒå‹ƒ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("åœ°","de","(adverb)"),children:"åœ°"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å‡ºå‘äº†","chÅ« fÄ le","set off"),children:"å‡ºå‘äº†"}),"ã€‚"]}),e.jsx("p",{className:"sentence-translation",children:"After everything was ready, we enthusiastically set off."})]}),e.jsxs("div",{className:"sentence-with-translation",children:[e.jsxs("p",{children:["ï¼ˆ",e.jsx("span",{className:"koushi-word",onClick:()=>s("ç»è¿‡","jÄ«ng guÃ²","process"),children:"ç»è¿‡"}),"ï¼‰",e.jsx("span",{className:"koushi-word",onClick:()=>s("åˆ°äº†","dÃ o le","arrived"),children:"åˆ°äº†"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æµ·è¾¹","hÇŽi biÄn","seaside"),children:"æµ·è¾¹"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("æˆ‘","wÇ’","I"),children:"æˆ‘"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("èµ¶ç´§","gÇŽn jÇn","hurry"),children:"èµ¶ç´§"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ¢ä¸Š","huÃ n shang","change into"),children:"æ¢ä¸Š"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ³³è¡£","yÇ’ng yÄ«","swimsuit"),children:"æ³³è¡£"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("å‘¼ç€","hÅ« zhe","humming"),children:"å‘¼ç€"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ¬¢å¿«","huÄn kuÃ i","cheerful"),children:"æ¬¢å¿«"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ­Œå„¿","gÄ“ r","song"),children:"æ­Œå„¿"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å‘","xiÃ ng","toward"),children:"å‘"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ°´é‡Œ","shuÇ lÇ","into water"),children:"æ°´é‡Œ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("èµ°åŽ»","zÇ’u qÃ¹","walk toward"),children:"èµ°åŽ»"}),"ã€‚"]}),e.jsx("p",{className:"sentence-translation",children:"When we arrived at the seaside, I quickly changed into my swimsuit and walked toward the water, humming a cheerful song."})]}),e.jsxs("div",{className:"sentence-with-translation",children:[e.jsxs("p",{children:[e.jsx("span",{className:"koushi-word",onClick:()=>s("æˆ‘ä»¬","wÇ’ men","we"),children:"æˆ‘ä»¬"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å‡ ä¸ª","jÇ gÃ¨","a few"),children:"å‡ ä¸ª"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å°å­©","xiÇŽo hÃ¡i","children"),children:"å°å­©"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("åœ¨","zÃ i","at"),children:"åœ¨"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ°´é‡Œ","shuÇ lÇ","in water"),children:"æ°´é‡Œ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ¸¸æ¥æ¸¸åŽ»","yÃ³u lÃ¡i yÃ³u qÃ¹","swim around"),children:"æ¸¸æ¥æ¸¸åŽ»"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("çŽ©å¾—","wÃ¡n de","having fun"),children:"çŽ©å¾—"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çœŸç—›å¿«","zhÄ“n tÃ²ng kuÃ i","really fun"),children:"çœŸç—›å¿«"}),"ã€‚"]}),e.jsx("p",{className:"sentence-translation",children:"We children swam around in the water, having a really great time."})]}),e.jsxs("div",{className:"sentence-with-translation",children:[e.jsxs("p",{children:["ï¼ˆ",e.jsx("span",{className:"koushi-word",onClick:()=>s("ç»“æžœ","jiÃ© guÇ’","result"),children:"ç»“æžœ"}),"ï¼‰",e.jsx("span",{className:"koushi-word",onClick:()=>s("åˆ°äº†","dÃ o le","when"),children:"åˆ°äº†"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("è¯¥","gÄi","should"),children:"è¯¥"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("å›žå®¶","huÃ­ jiÄ","go home"),children:"å›žå®¶"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("çš„","de","(particle)"),children:"çš„"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("æ—¶å€™","shÃ­ hou","time"),children:"æ—¶å€™"}),"ï¼Œ",e.jsx("span",{className:"koushi-word",onClick:()=>s("æˆ‘ä»¬","wÇ’ men","we"),children:"æˆ‘ä»¬"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¾¿","biÃ n","then"),children:"ä¾¿"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ä¾ä¾ä¸èˆ","yÄ« yÄ« bÃ¹ shÄ›","reluctantly"),children:"ä¾ä¾ä¸èˆ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("åœ°","de","(adverb)"),children:"åœ°"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ç¦»å¼€äº†","lÃ­ kÄi le","left"),children:"ç¦»å¼€äº†"}),"ã€‚"]}),e.jsx("p",{className:"sentence-translation",children:"When it was time to go home, we reluctantly left."})]})]})]}),e.jsxs("div",{className:"section-title",children:["æœ¬è¯¾è¯è¯­ï¼ˆå…±",je.length,"ä¸ªï¼‰"]}),e.jsx("div",{className:"koushi-vocab-grid",children:je.map((g,j)=>e.jsx(si,{word:g,isLearned:n.has(g.chinese),onClick:()=>w(g)},j))})]}),a&&e.jsx(ii,{word:a.word,pinyin:a.pinyin,meaning:a.meaning,onClose:x,onPlayAudio:f}),r&&e.jsx(ti,{word:r,isLearned:n.has(r.chinese),onClose:y,onPlayAudio:b,onToggleLearned:S})]})}const ri=q("/instructions")({component:ui}),me=[{category:"vocabulary",chinese:"å­—è¯å­¦ä¹ ",pinyin:"zÃ¬ cÃ­ xuÃ© xÃ­",english:"Vocabulary Learning",explanation:"The section for learning new words and phrases"},{category:"vocabulary",chinese:"åºå·",pinyin:"xÃ¹ hÃ o",english:"Serial Number",explanation:"The number or order of items in a list"},{category:"vocabulary",chinese:"è¯†å†™å­—è¯",pinyin:"shÃ­ xiÄ› zÃ¬ cÃ­",english:"Words to Read and Write",explanation:"Words that students must learn to both recognize and write"},{category:"vocabulary",chinese:"è¯†è¯»å­—è¯",pinyin:"shÃ­ dÃº zÃ¬ cÃ­",english:"Words to Read",explanation:"Words that students only need to recognize and read, not write"},{category:"vocabulary",chinese:"è§£é‡Š",pinyin:"jiÄ› shÃ¬",english:"Definition / Explanation",explanation:"The meaning or definition of a word"},{category:"vocabulary",chinese:"æž„è¯",pinyin:"gÃ²u cÃ­",english:"Word Formation",explanation:"How words are formed or combined with other characters"},{category:"vocabulary",chinese:"æ­é…",pinyin:"dÄ pÃ¨i",english:"Word Combinations",explanation:"Words that commonly go together"},{category:"vocabulary",chinese:"ä¾‹å¥",pinyin:"lÃ¬ jÃ¹",english:"Example Sentence",explanation:"A sentence showing how to use the word"},{category:"vocabulary",chinese:"è¯»ä¸€è¯»",pinyin:"dÃº yÄ« dÃº",english:"Read It",explanation:"Instruction to read the following content aloud"},{category:"vocabulary",chinese:"è¯è¯­æ­é…",pinyin:"cÃ­ yÇ” dÄ pÃ¨i",english:"Word Collocations",explanation:"Common word pairings and phrases"},{category:"vocabulary",chinese:"å¬å†™è¯è¯­",pinyin:"tÄ«ng xiÄ› cÃ­ yÇ”",english:"Dictation Words",explanation:"Words for spelling practice - listen and write"},{category:"exercises",chinese:"è¯­æ–‡åº”ç”¨",pinyin:"yÇ” wÃ©n yÃ¬ng yÃ²ng",english:"Chinese Application",explanation:"Exercises to apply Chinese language skills"},{category:"exercises",chinese:"ä»Žæ‰€æä¾›çš„é€‰é¡¹ä¸­é€‰å‡ºæ­£ç¡®çš„ç­”æ¡ˆ",pinyin:"cÃ³ng suÇ’ tÃ­ gÅng de xuÇŽn xiÃ ng zhÅng xuÇŽn chÅ« zhÃ¨ng quÃ¨ de dÃ¡ Ã n",english:"Choose the correct answer from the options provided",explanation:"Multiple choice question instruction"},{category:"exercises",chinese:"æœ¬é¡µå¾—åˆ†",pinyin:"bÄ›n yÃ¨ dÃ© fÄ“n",english:"Score for this page",explanation:"The marks earned on this page"},{category:"exercises",chinese:"é€‰å‡ºé€‚å½“çš„è¯è¯­",pinyin:"xuÇŽn chÅ« shÃ¬ dÃ ng de cÃ­ yÇ”",english:"Select the appropriate word",explanation:"Choose the right word to fill in the blank"},{category:"exercises",chinese:"æŠŠä»£è¡¨å®ƒçš„æ•°å­—å¡«å†™åœ¨æ‹¬å·é‡Œ",pinyin:"bÇŽ dÃ i biÇŽo tÄ de shÃ¹ zÃ¬ tiÃ¡n xiÄ› zÃ i kuÃ² hÃ o lÇ",english:"Write the number representing it in the brackets",explanation:"Write your answer number inside the parentheses"},{category:"exercises",chinese:"æ”¹å†™å¥å­",pinyin:"gÇŽi xiÄ› jÃ¹ zi",english:"Rewrite Sentences",explanation:"Change or rewrite the sentence in a different way"},{category:"exercises",chinese:"æŠŠä¸¤ä¸ªå¥å­åˆå¹¶æˆä¸€ä¸ªå®Œæ•´çš„å¥å­",pinyin:"bÇŽ liÇŽng gÃ¨ jÃ¹ zi hÃ© bÃ¬ng chÃ©ng yÄ« gÃ¨ wÃ¡n zhÄ›ng de jÃ¹ zi",english:"Combine two sentences into one complete sentence",explanation:"Join two sentences together into one"},{category:"exercises",chinese:"åŠ ä¸Šé€‚å½“çš„æ ‡ç‚¹ç¬¦å·",pinyin:"jiÄ shÃ ng shÃ¬ dÃ ng de biÄo diÇŽn fÃº hÃ o",english:"Add appropriate punctuation",explanation:"Put in the correct punctuation marks"},{category:"exercises",chinese:"ç»„å¥æˆæ®µ",pinyin:"zÇ” jÃ¹ chÃ©ng duÃ n",english:"Arrange sentences into paragraph",explanation:"Put sentences in order to form a paragraph"},{category:"exercises",chinese:"æŒ‰æ­£ç¡®çš„é¡ºåºå°†å¥å­æŽ’åˆ—å‡ºæ¥",pinyin:"Ã n zhÃ¨ng quÃ¨ de shÃ¹n xÃ¹ jiÄng jÃ¹ zi pÃ¡i liÃ¨ chÅ« lÃ¡i",english:"Arrange sentences in the correct order",explanation:"Put the sentences in the right sequence"},{category:"exercises",chinese:"åœ¨æ‹¬å·é‡Œå†™ä¸Šåºå·",pinyin:"zÃ i kuÃ² hÃ o lÇ xiÄ› shÃ ng xÃ¹ hÃ o",english:"Write the serial number in the brackets",explanation:"Number the items in order in the parentheses"},{category:"reading",chinese:"é˜…è¯»è®¡åˆ’",pinyin:"yuÃ¨ dÃº jÃ¬ huÃ ",english:"Reading Plan",explanation:"A schedule or plan for reading activities"},{category:"reading",chinese:"é˜…è¯»ä½œå“",pinyin:"yuÃ¨ dÃº zuÃ² pÇn",english:"Reading Material",explanation:"The book or text being read"},{category:"reading",chinese:"é˜…è¯»æ—¶é—´",pinyin:"yuÃ¨ dÃº shÃ­ jiÄn",english:"Reading Time",explanation:"How long spent reading"},{category:"reading",chinese:"åˆ†é’Ÿ",pinyin:"fÄ“n zhÅng",english:"Minutes",explanation:"Unit of time measurement"},{category:"reading",chinese:"è€ƒæŸ¥æƒ…å†µ",pinyin:"kÇŽo chÃ¡ qÃ­ng kuÃ ng",english:"Assessment Status",explanation:"How well the student performed"},{category:"reading",chinese:"è€ƒæŸ¥æ ‡å‡†",pinyin:"kÇŽo chÃ¡ biÄo zhÇ”n",english:"Assessment Criteria",explanation:"The standards used to evaluate performance"},{category:"reading",chinese:"è¯·å®¶é•¿åœ¨ä»¥ä¸Šçš„æ—¶é—´æ é‡Œç­¾å",pinyin:"qÇng jiÄ zhÇŽng zÃ i yÇ shÃ ng de shÃ­ jiÄn lÃ¡n lÇ qiÄn mÃ­ng",english:"Please have parents sign in the time column above",explanation:"Parent signature required for verification"},{category:"reading",chinese:"é˜…è¯»ï¼Œæ˜¯ç”Ÿå‘½çš„æºæ³‰",pinyin:"yuÃ¨ dÃº, shÃ¬ shÄ“ng mÃ¬ng de yuÃ¡n quÃ¡n",english:"Reading is the source of life",explanation:"A motivational phrase about the importance of reading"},{category:"oral",chinese:"çœ‹å›¾è¯´è¯",pinyin:"kÃ n tÃº shuÅ huÃ ",english:"Picture Description",explanation:"Describe what you see in a picture - oral practice"},{category:"oral",chinese:"æè¿°å›¾ç‰‡",pinyin:"miÃ¡o shÃ¹ tÃº piÃ n",english:"Describe the Picture",explanation:"Tell what is happening in the picture"},{category:"oral",chinese:"æ„Ÿå—",pinyin:"gÇŽn shÃ²u",english:"Feeling (F)",explanation:"FORIF: Express how you feel about what you see"},{category:"oral",chinese:"çœ‹æ³•",pinyin:"kÃ n fÇŽ",english:"Opinion (O)",explanation:"FORIF: Share your thoughts or opinion"},{category:"oral",chinese:"åŽŸå› ",pinyin:"yuÃ¡n yÄ«n",english:"Reason (R)",explanation:"FORIF: Give reasons to support your opinion"},{category:"oral",chinese:"å¦‚æžœ",pinyin:"rÃº guÇ’",english:"If (IF)",explanation:"FORIF: Suggest what you would do if you were in the situation"}],oi={vocabulary:"Vocabulary Terms",exercises:"Exercise Instructions",reading:"Reading Terms",oral:"Oral Practice Terms"},li=[{id:"all",label:"All"},{id:"vocabulary",label:"Vocabulary"},{id:"exercises",label:"Exercises"},{id:"reading",label:"Reading"},{id:"oral",label:"Oral"}];function ci({term:n}){const{play:i}=X(),[a,t]=l.useState(!1),r=l.useCallback(async()=>{t(!0);const o=`audio/${n.chinese}.mp3`;await i(o),setTimeout(()=>t(!1),500)},[n.chinese,i]);return e.jsxs("div",{className:"term-card",children:[e.jsxs("div",{className:"term-header",children:[e.jsx("button",{className:R("instructions-audio-btn",a&&"playing"),onClick:r,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})})}),e.jsx("div",{className:"term-chinese",children:n.chinese})]}),e.jsx("div",{className:"term-pinyin",children:n.pinyin}),e.jsx("div",{className:"term-english",children:n.english}),e.jsx("div",{className:"term-explanation",children:n.explanation})]})}function di(){const[n,i]=l.useState("all"),a=l.useMemo(()=>n==="all"?me:me.filter(r=>r.category===n),[n]),t=l.useMemo(()=>{const r={};return a.forEach(o=>{r[o.category]||(r[o.category]=[]),r[o.category].push(o)}),r},[a]);return e.jsxs("div",{className:"glossary-container active",children:[e.jsx("div",{className:"category-filter",children:li.map(r=>e.jsx("button",{className:R("category-btn",n===r.id&&"active"),onClick:()=>i(r.id),children:r.label},r.id))}),e.jsx("div",{id:"glossary-content",children:Object.entries(t).map(([r,o])=>e.jsxs("div",{className:"glossary-section",children:[e.jsx("h2",{className:"section-title",children:oi[r]}),o.map((d,c)=>e.jsx(ci,{term:d},c))]},r))})]})}function hi(){const{play:n}=X(),[i,a]=l.useState([]),[t,r]=l.useState(0),[o,d]=l.useState(0),[c,u]=l.useState(null),[h,m]=l.useState(!1),[p,s]=l.useState(!1),x=l.useCallback(()=>{const A=[...me].sort(()=>Math.random()-.5).slice(0,10).map(k=>{const T=me.filter(I=>I.chinese!==k.chinese).sort(()=>Math.random()-.5).slice(0,3).map(I=>I.english),z=[k.english,...T].sort(()=>Math.random()-.5);return{term:k,options:z}});a(A),r(0),d(0),u(null),m(!1)},[]);l.useEffect(()=>{x()},[x]);const f=i[t],w=l.useCallback(async()=>{if(!f)return;s(!0);const g=`audio/${f.term.chinese}.mp3`;await n(g),setTimeout(()=>s(!1),500)},[f,n]),y=l.useCallback(g=>{h||!f||(u(g),m(!0),g===f.term.english&&d(j=>j+1))},[h,f]),b=l.useCallback(()=>{r(g=>g+1),u(null),m(!1)},[]);if(i.length===0)return e.jsx("div",{className:"quiz-container active",children:e.jsx("div",{className:"quiz-card",children:e.jsx("p",{children:"Loading quiz..."})})});if(t>=i.length){const g=Math.round(o/i.length*100);let j="";return g===100?j="Perfect! Excellent work!":g>=80?j="Great job! Keep it up!":g>=60?j="Good effort! Review and try again!":j="Keep practicing! You can do it!",e.jsx("div",{className:"quiz-container active",children:e.jsxs("div",{className:"quiz-results",children:[e.jsxs("div",{className:"results-score",children:[o,"/",i.length]}),e.jsx("div",{className:"results-message",children:j}),e.jsx("button",{className:"restart-btn",onClick:x,children:"Try Again"})]})})}const S=c===f.term.english;return e.jsxs("div",{className:"quiz-container active",children:[e.jsxs("div",{className:"quiz-progress",children:["Question ",e.jsx("span",{id:"current-q",children:t+1})," of"," ",e.jsx("span",{id:"total-q",children:i.length}),e.jsxs("div",{className:"quiz-score",children:["Score: ",e.jsx("span",{id:"quiz-score",children:o})]})]}),e.jsxs("div",{className:"quiz-card",children:[e.jsx("div",{className:"quiz-question-label",children:"What does this mean?"}),e.jsx("button",{className:R("quiz-audio-btn",p&&"playing"),onClick:w,children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})})}),e.jsx("div",{className:"quiz-term",children:f.term.chinese}),e.jsx("div",{className:"quiz-pinyin",children:f.term.pinyin}),e.jsx("div",{className:"quiz-options",children:f.options.map((g,j)=>e.jsx("button",{className:R("quiz-option",h&&"disabled",h&&g===f.term.english&&"correct",h&&c===g&&!S&&"incorrect"),onClick:()=>y(g),disabled:h,children:g},j))}),h&&e.jsx("div",{className:R("quiz-feedback",S?"correct":"incorrect"),children:S?"Correct!":`Incorrect. The answer is: ${f.term.english}`}),h&&e.jsx("button",{className:"quiz-next-btn visible",onClick:b,children:"Next Question"})]})]})}function ui(){const[n,i]=l.useState("glossary");return e.jsxs("div",{className:"instructions-page",children:[e.jsxs("div",{className:"instructions-header",children:[e.jsx("h1",{children:"Instructions Glossary"}),e.jsx("p",{children:"zhishi ciyu"})]}),e.jsxs("div",{className:"nav-tabs",children:[e.jsx("button",{className:R("nav-tab",n==="glossary"&&"active"),onClick:()=>i("glossary"),children:"Learn"}),e.jsx("button",{className:R("nav-tab",n==="quiz"&&"active"),onClick:()=>i("quiz"),children:"Quiz"})]}),e.jsx("div",{className:"instructions-content",children:n==="glossary"?e.jsx(di,{}):e.jsx(hi,{})})]})}const pi=q("/handwriting")({component:xi});function mi(n){const i=n.charCodeAt(0);return i>=19968&&i<=40959||i>=13312&&i<=19903||i>=131072&&i<=173791}function gi(n){return Array.from(n).filter(mi)}function xi(){const[n,i]=l.useState("ä½ å¥½"),[a,t]=l.useState(!1),[r,o]=l.useState([]),[d,c]=l.useState(0),[u,h]=l.useState(0),[m,p]=l.useState(""),[s,x]=l.useState(!1),f=l.useRef(null),w=l.useRef(null),y=l.useRef(null),b=l.useRef(0),S=l.useRef(0),g=l.useRef(!1);l.useEffect(()=>{(async()=>{try{const L=await Te(()=>import("https://cdn.jsdelivr.net/npm/hanzi-writer@3.7.3/+esm"),[]);y.current=L.default}catch(L){console.error("Failed to load HanziWriter:",L),p("Failed to load HanziWriter library"),x(!0)}})()},[]);const j=l.useCallback(N=>{if(!w.current||!y.current)return;w.current.innerHTML="",p(""),x(!1);const L=y.current;f.current=L.create(w.current,N,{width:300,height:300,padding:20,showOutline:!0,showCharacter:!1,strokeAnimationSpeed:1,delayBetweenStrokes:100,strokeColor:"#333",outlineColor:"#ddd",drawingColor:"#4a90d9",drawingWidth:20,showHintAfterMisses:3,highlightOnComplete:!0,highlightColor:"#27ae60",charDataLoader:O=>fetch(`https://cdn.jsdelivr.net/npm/hanzi-writer-data@2.0/${O}.json`).then(W=>{if(!W.ok)throw new Error("Character not found");return W.json()})}),h(0),f.current.quiz({onMistake:O=>{p(`${O.strokeNum+1}: Try again!`),x(!0)},onCorrectStroke:O=>{h(O.strokeNum+1),p(`${O.strokeNum+1}: Correct!`),x(!1)},onComplete:O=>{const W=O.totalMistakes;p(W===0?"Perfect! No mistakes!":`Complete! ${W} mistake${W>1?"s":""}.`),x(!1)}})},[]),A=()=>{const N=gi(n.trim());if(N.length===0){alert("Please enter at least one Chinese character.");return}o(N),c(0),t(!0),h(0),setTimeout(()=>{j(N[0])},100)},k=()=>{if(d>0){const N=d-1;c(N),j(r[N])}},T=()=>{if(d<r.length-1){const N=d+1;c(N),j(r[N])}},z=()=>{f.current&&f.current.highlightStroke(u)},I=()=>{r[d]&&j(r[d])},H=N=>{N.key==="Enter"&&A()},U=N=>{var O;const L=N.target;g.current=((O=w.current)==null?void 0:O.contains(L))||!1,b.current=N.changedTouches[0].screenX,S.current=N.changedTouches[0].screenY},v=N=>{if(g.current){g.current=!1;return}const L=N.changedTouches[0].screenX,O=N.changedTouches[0].screenY,W=b.current-L,B=Math.abs(S.current-O);Math.abs(W)>B&&Math.abs(W)>80&&(W>0?T():k())};return e.jsxs("div",{className:"handwriting-container",children:[e.jsx("header",{className:"handwriting-header",children:e.jsx("h1",{children:"Chinese Handwriting Practice"})}),e.jsxs("div",{className:"input-section",children:[e.jsx("input",{type:"text",id:"character-input",placeholder:"Enter characters to practice",maxLength:50,value:n,onChange:N=>i(N.target.value),onKeyPress:H}),e.jsx("button",{id:"start-btn",onClick:A,children:"Start"})]}),a?e.jsxs("div",{className:"practice-area",onTouchStart:U,onTouchEnd:v,children:[e.jsxs("div",{className:"progress-bar",children:[e.jsx("span",{children:d+1})," / ",e.jsx("span",{children:r.length})]}),e.jsx("div",{className:"character-display",children:e.jsx("span",{id:"current-char",children:r[d]})}),e.jsx("div",{id:"writer-container",children:e.jsx("div",{id:"character-target",ref:w})}),e.jsxs("div",{className:"controls",children:[e.jsx("button",{className:"hw-nav-btn",onClick:k,disabled:d===0,children:"Prev"}),e.jsx("button",{className:"action-btn",onClick:z,children:"Hint"}),e.jsx("button",{className:"action-btn reset-btn",onClick:I,children:"Reset"}),e.jsx("button",{className:"hw-nav-btn",onClick:T,disabled:d>=r.length-1,children:"Next"})]}),e.jsx("div",{className:R("status",s&&"error"),children:m})]}):e.jsxs("div",{className:"instructions",children:[e.jsx("h2",{children:"How to Use"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Enter Chinese characters you want to practice"}),e.jsx("li",{children:"Write each stroke in the correct order"}),e.jsx("li",{children:'Use "Hint" to see the next stroke'}),e.jsx("li",{children:'Use "Reset" to clear and try again'}),e.jsx("li",{children:"Navigate between characters with Previous/Next"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sample characters:"})," ä½ å¥½ä¸–ç•Œå­¦ä¹ ä¸­æ–‡"]})]})]})}const yi=q("/family")({component:Ni}),wi={"immediate-family":[{english:"Your Mom",chinese:"å¦ˆå¦ˆ",pinyin:"mÄma"},{english:"Your Dad",chinese:"çˆ¸çˆ¸",pinyin:"bÃ ba"},{english:"Your Wife",chinese:"å¦»å­ / è€å©†",pinyin:"qÄ«zi / lÇŽopÃ³"},{english:"Your Husband",chinese:"ä¸ˆå¤« / è€å…¬",pinyin:"zhÃ ngfÅ« / lÇŽogÅng"},{english:"Your older brother",chinese:"å“¥å“¥",pinyin:"gÄ“gÄ“"},{english:"Your older sister",chinese:"å§å§",pinyin:"jiÄ›jiÄ›"},{english:"Your younger brother",chinese:"å¼Ÿå¼Ÿ",pinyin:"dÃ¬dÃ¬"},{english:"Your younger sister",chinese:"å¦¹å¦¹",pinyin:"mÃ¨imei"},{english:"Your son",chinese:"å„¿å­",pinyin:"Ã©rzi"},{english:"Your daughter",chinese:"å¥³å„¿",pinyin:"nÇš'Ã©r"}],grandparents:[{english:"Grandmother (Dad's side)",chinese:"å¥¶å¥¶",pinyin:"nÇŽinai"},{english:"Grandmother (Mom's side)",chinese:"å¤–å©†",pinyin:"wÃ ipÃ³"},{english:"Grandfather (Dad's side)",chinese:"çˆ·çˆ·",pinyin:"yÃ©yÃ©"},{english:"Grandfather (Mom's side)",chinese:"å¤–å…¬",pinyin:"wÃ igÅng"}],uncles:[{english:"Dad's older brother",chinese:"ä¼¯ä¼¯",pinyin:"bÃ³bo"},{english:"Dad's younger brother",chinese:"å”å”",pinyin:"shÅ«shu"},{english:"Dad's sister's husband",chinese:"å§‘å¤«",pinyin:"gÅ«fÅ«"},{english:"Mom's brother",chinese:"èˆ…èˆ…",pinyin:"jiÃ¹jiu"}],aunts:[{english:"Dad's older sister",chinese:"å§‘å¦ˆ",pinyin:"gÅ«mÄ"},{english:"Dad's younger sister",chinese:"å§‘å§‘",pinyin:"gÅ«gÅ«"},{english:"Dad's older brother's wife",chinese:"ä¼¯æ¯",pinyin:"bÃ³mÇ”"},{english:"Dad's younger brother's wife",chinese:"å©¶å©¶",pinyin:"shÄ›nshÄ›n"},{english:"Mom's older sister",chinese:"å§¨å¦ˆ",pinyin:"yÃ­mÄ"},{english:"Mom's younger sister",chinese:"é˜¿å§¨",pinyin:"ÄyÃ­"},{english:"Mom's brother's wife",chinese:"èˆ…æ¯",pinyin:"jiÃ¹mÇ”"}],cousins:[{english:"Dad's sibling's son (older)",chinese:"å ‚å…„",pinyin:"tÃ¡ng xiÅng"},{english:"Dad's sibling's son (younger)",chinese:"å ‚å¼Ÿ",pinyin:"tÃ¡ng dÃ¬"},{english:"Dad's sibling's daughter (older)",chinese:"å ‚å§",pinyin:"tÃ¡ng jiÄ›"},{english:"Dad's sibling's daughter (younger)",chinese:"å ‚å¦¹",pinyin:"tÃ¡ng mÃ¨i"},{english:"Mom's sibling's son (older)",chinese:"è¡¨å“¥",pinyin:"biÇŽo gÄ“"},{english:"Mom's sibling's son (younger)",chinese:"è¡¨å¼Ÿ",pinyin:"biÇŽo dÃ¬"},{english:"Mom's sibling's daughter (older)",chinese:"è¡¨å§",pinyin:"biÇŽo jiÄ›"},{english:"Mom's sibling's daughter (younger)",chinese:"è¡¨å¦¹",pinyin:"biÇŽo mÃ¨i"}],"nephews-nieces":[{english:"Brother's son",chinese:"ä¾„å­",pinyin:"zhÃ­zi"},{english:"Sister's son",chinese:"å¤–ç”¥",pinyin:"wÃ ishÄ“ng"},{english:"Brother's daughter",chinese:"ä¾„å¥³",pinyin:"zhÃ­nÇš"},{english:"Sister's daughter",chinese:"å¤–ç”¥å¥³",pinyin:"wÃ ishengnÇš"}],"in-laws":[{english:"Husband's father",chinese:"å…¬å…¬",pinyin:"gÅnggong"},{english:"Wife's father",chinese:"å²³çˆ¶",pinyin:"yuÃ¨fÃ¹"},{english:"Husband's mother",chinese:"å©†å©†",pinyin:"pÃ³po"},{english:"Wife's mother",chinese:"å²³æ¯",pinyin:"yuÃ¨mÇ”"},{english:"Older sister's husband",chinese:"å§å¤«",pinyin:"jiÄ›fÅ«"},{english:"Younger sister's husband",chinese:"å¦¹å¤«",pinyin:"mÃ¨ifÅ«"},{english:"Older brother's wife",chinese:"å«‚å­",pinyin:"sÇŽozi"},{english:"Younger brother's wife",chinese:"å¼Ÿå¦‡",pinyin:"dÃ¬fÃ¹"}]},fi={"immediate-family":{icon:"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦",title:"Your Immediate Family ç›´ç³»äº²å±ž"},grandparents:{icon:"ðŸ‘´ðŸ‘µ",title:"Grandparents ç¥–çˆ¶æ¯/å¤–ç¥–çˆ¶æ¯"},uncles:{icon:"ðŸ‘¨",title:"Uncles ä¼¯ä¼¯/å”å”/èˆ…èˆ…"},aunts:{icon:"ðŸ‘©",title:"Aunts å§‘å¦ˆ/å§¨å¦ˆ/ä¼¯æ¯/å©¶å©¶"},cousins:{icon:"ðŸ‘«",title:"Cousins å ‚å…„å¼Ÿå§å¦¹/è¡¨å…„å¼Ÿå§å¦¹"},"nephews-nieces":{icon:"ðŸ‘¶",title:"Nephews & Nieces ä¾„å­/ä¾„å¥³/å¤–ç”¥"},"in-laws":{icon:"ðŸ’‘",title:"In-Laws å§»äº²"}},bi=`flowchart TB
    subgraph FATHER_SIDE["Father's Side"]
        direction TB
        subgraph F_GP["Grandparents"]
            yeye["ðŸ‘´ çˆ·çˆ·<br/>Grandfather"]:::male
            nainai["ðŸ‘µ å¥¶å¥¶<br/>Grandmother"]:::female
        end

        subgraph F_PARENTS["Parents Generation"]
            bobo["ðŸ‘¨ ä¼¯ä¼¯<br/>Uncle (older)"]:::male
            baba["ðŸ‘¨ çˆ¸çˆ¸<br/>Father"]:::male
            shushu["ðŸ‘¨ å”å”<br/>Uncle (younger)"]:::male
            guma["ðŸ‘© å§‘å¦ˆ<br/>Aunt"]:::female
        end

        yeye --> bobo
        nainai --> bobo
        yeye --> baba
        nainai --> baba
        yeye --> shushu
        nainai --> shushu
        yeye --> guma
        nainai --> guma
    end

    subgraph MOTHER_SIDE["Mother's Side"]
        direction TB
        subgraph M_GP["Grandparents"]
            waigong["ðŸ‘´ å¤–å…¬<br/>Grandfather"]:::male
            waipo["ðŸ‘µ å¤–å©†<br/>Grandmother"]:::female
        end

        subgraph M_PARENTS["Parents Generation"]
            mama["ðŸ‘© å¦ˆå¦ˆ<br/>Mother"]:::female
            jiujiu["ðŸ‘¨ èˆ…èˆ…<br/>Uncle"]:::male
            yima["ðŸ‘© å§¨å¦ˆ<br/>Aunt (older)"]:::female
            ayi["ðŸ‘© é˜¿å§¨<br/>Aunt (younger)"]:::female
        end

        waigong --> mama
        waipo --> mama
        waigong --> jiujiu
        waipo --> jiujiu
        waigong --> yima
        waipo --> yima
        waigong --> ayi
        waipo --> ayi
    end

    FATHER_SIDE ~~~ MOTHER_SIDE

    subgraph YOUR_GEN["Your Generation"]
        direction LR
        gege["ðŸ‘¦ å“¥å“¥<br/>Older Brother"]:::male
        jiejie["ðŸ‘§ å§å§<br/>Older Sister"]:::female
        you["ðŸŸ¡ ä½ /æˆ‘<br/>YOU"]:::highlight
        qizi["ðŸ’‘ å¦»å­<br/>Wife"]:::female
        didi["ðŸ‘¦ å¼Ÿå¼Ÿ<br/>Younger Brother"]:::male
        meimei["ðŸ‘§ å¦¹å¦¹<br/>Younger Sister"]:::female
    end

    subgraph CHILDREN["Children Generation"]
        direction LR
        erzi["ðŸ‘¦ å„¿å­<br/>Son"]:::male
        nuer["ðŸ‘§ å¥³å„¿<br/>Daughter"]:::female
    end

    baba -.marriage.- mama

    baba --> you
    mama --> you
    baba --> gege
    mama --> gege
    baba --> jiejie
    mama --> jiejie
    baba --> didi
    mama --> didi
    baba --> meimei
    mama --> meimei

    you -.marriage.- qizi

    you --> erzi
    qizi --> erzi
    you --> nuer
    qizi --> nuer

    classDef male fill:#80ccff,stroke:#333,stroke-width:2px,color:#000
    classDef female fill:#ffb3d9,stroke:#333,stroke-width:2px,color:#000
    classDef highlight fill:#ffd700,stroke:#333,stroke-width:3px,color:#000`;function ji({data:n}){const{play:i}=X(),[a,t]=l.useState(!1),r=l.useCallback(async o=>{o==null||o.stopPropagation(),t(!0);const c=`audio/${n.chinese.split("/")[0].trim()}.mp3`;await i(c),setTimeout(()=>t(!1),500)},[n.chinese,i]);return e.jsxs("div",{className:"family-card",onClick:()=>r(),children:[e.jsx("div",{className:"family-card-english",children:n.english}),e.jsx("div",{className:"family-card-chinese",children:n.chinese}),e.jsx("div",{className:"family-card-pinyin",children:n.pinyin}),e.jsxs("button",{className:R("family-card-audio-btn",a&&"playing"),onClick:r,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})}),e.jsx("span",{children:"Play Audio"})]})]})}function ki({categoryId:n,members:i}){const{icon:a,title:t}=fi[n];return e.jsxs("div",{className:"category-section",children:[e.jsxs("div",{className:"category-header",children:[a," ",t]}),e.jsx("div",{className:"family-grid",children:i.map((r,o)=>e.jsx(ji,{data:r},o))})]})}function vi(){const n=l.useRef(null),i=l.useRef(null),[a,t]=l.useState(1),[r,o]=l.useState({x:0,y:0}),[d,c]=l.useState(!1),u=l.useRef({x:0,y:0}),h=l.useRef({x:0,y:0});l.useEffect(()=>{(async()=>{try{const j=await Te(()=>import("https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs"),[]);if(j.default.initialize({startOnLoad:!1,theme:"default",flowchart:{useMaxWidth:!1,htmlLabels:!0,curve:"basis",nodeSpacing:120,rankSpacing:120,padding:30},themeVariables:{fontSize:"20px",fontFamily:"Arial, sans-serif"}}),i.current){const{svg:A}=await j.default.render("family-tree-svg",bi);i.current.innerHTML=A}}catch(j){console.error("Failed to load Mermaid:",j)}})()},[]);const m=()=>t(g=>Math.min(g+.2,3)),p=()=>t(g=>Math.max(g-.2,.5)),s=()=>{t(1),o({x:0,y:0})},x=g=>{c(!0),u.current={x:g.clientX,y:g.clientY},h.current={x:r.x,y:r.y}},f=g=>{if(!d)return;const j=g.clientX-u.current.x,A=g.clientY-u.current.y;o({x:h.current.x+j,y:h.current.y+A})},w=()=>c(!1),y=g=>{g.touches.length===1&&(c(!0),u.current={x:g.touches[0].clientX,y:g.touches[0].clientY},h.current={x:r.x,y:r.y})},b=g=>{if(!d||g.touches.length!==1)return;g.preventDefault();const j=g.touches[0].clientX-u.current.x,A=g.touches[0].clientY-u.current.y;o({x:h.current.x+j,y:h.current.y+A})},S=()=>c(!1);return e.jsxs("div",{className:"tree-section",children:[e.jsx("h2",{children:"Family Tree"}),e.jsxs("div",{className:"tree-controls",children:[e.jsx("button",{className:"tree-btn",onClick:m,children:"+ Zoom In"}),e.jsx("button",{className:"tree-btn",onClick:p,children:"- Zoom Out"}),e.jsx("button",{className:"tree-btn",onClick:s,children:"Reset"})]}),e.jsx("div",{ref:n,className:"tree-container",onMouseDown:x,onMouseMove:f,onMouseUp:w,onMouseLeave:w,onTouchStart:y,onTouchMove:b,onTouchEnd:S,children:e.jsx("div",{ref:i,className:"mermaid",style:{transform:`translate(${r.x}px, ${r.y}px) scale(${a})`,cursor:d?"grabbing":"grab"}})}),e.jsxs("div",{className:"scroll-hint",children:["Click/Touch and drag to move | Zoom to enlarge",e.jsx("br",{}),"Blue=Male | Pink=Female | Gold=You"]})]})}function Ni(){return e.jsxs("div",{className:"family-container",children:[e.jsxs("header",{className:"family-header",children:[e.jsx("h1",{children:"Family Relationships"}),e.jsx("p",{children:"Tap cards to hear pronunciation"})]}),e.jsxs("div",{className:"note",children:[e.jsx("strong",{children:"Tip:"})," Chinese family terms are very specific about age order and which side of the family. Pay attention to these details!"]}),e.jsx(vi,{}),Object.entries(wi).map(([n,i])=>e.jsx(ki,{categoryId:n,members:i},n))]})}const Ci=q("/dashboard")({component:Si});function Si(){const n=Fe(),{data:i,isLoading:a}=te(ge),{data:t,isLoading:r,error:o,refetch:d}=Ae(),c=l.useMemo(()=>{var w,y;const m=((w=t==null?void 0:t.knownWords)==null?void 0:w.length)||0,p=((y=t==null?void 0:t.unknownWords)==null?void 0:y.length)||0,s=m+p,x=i?xe(i).length:0,f=x>0?Math.round(m/x*100):0;return{knownCount:m,unknownCount:p,practicedCount:s,totalWords:x,progressPercentage:f}},[t,i]),u=l.useMemo(()=>{if(!(t!=null&&t.lastUpdated))return null;const m=new Date(t.lastUpdated),s=new Date().getTime()-m.getTime(),x=Math.floor(s/6e4),f=Math.floor(s/36e5),w=Math.floor(s/864e5);return x<1?"åˆšåˆšæ›´æ–°":x<60?`${x} åˆ†é’Ÿå‰æ›´æ–°`:f<24?`${f} å°æ—¶å‰æ›´æ–°`:w<7?`${w} å¤©å‰æ›´æ–°`:m.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},[t==null?void 0:t.lastUpdated]),h=()=>{d(),n.invalidateQueries({queryKey:["vocabulary"]})};return a||r?e.jsxs("div",{className:"dashboard-container",children:[e.jsxs("div",{className:"dashboard-header",children:[e.jsx("h1",{className:"dashboard-title",children:"å®¶é•¿çœ‹æ¿"}),e.jsx("p",{className:"dashboard-subtitle",children:"å®žæ—¶æŸ¥çœ‹å­©å­çš„å­¦ä¹ è¿›åº¦"})]}),e.jsx("div",{className:"loading-spinner",children:"æ­£åœ¨åŠ è½½æ•°æ®..."})]}):o?e.jsxs("div",{className:"dashboard-container",children:[e.jsxs("div",{className:"dashboard-header",children:[e.jsx("h1",{className:"dashboard-title",children:"å®¶é•¿çœ‹æ¿"}),e.jsx("p",{className:"dashboard-subtitle",children:"å®žæ—¶æŸ¥çœ‹å­©å­çš„å­¦ä¹ è¿›åº¦"})]}),e.jsx("div",{className:"error-message",children:ce.DATA_LOAD}),e.jsx("button",{className:"refresh-btn",onClick:h,children:"åˆ·æ–°æ•°æ®"})]}):e.jsxs("div",{className:"dashboard-container",children:[e.jsxs("div",{className:"dashboard-header",children:[e.jsx("h1",{className:"dashboard-title",children:"å®¶é•¿çœ‹æ¿"}),e.jsx("p",{className:"dashboard-subtitle",children:"å®žæ—¶æŸ¥çœ‹å­©å­çš„å­¦ä¹ è¿›åº¦"})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{className:"stat-card-header",children:[e.jsx("div",{className:"stat-icon",children:"âœ…"}),e.jsx("div",{className:"stat-label",children:"å·²æŽŒæ¡è¯è¯­"})]}),e.jsx("div",{className:"stat-value",children:c.knownCount}),e.jsx("div",{className:"stat-subtitle",children:"å­©å­å·²ç»ä¼šçš„è¯è¯­"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{className:"stat-card-header",children:[e.jsx("div",{className:"stat-icon",children:"ðŸ“"}),e.jsx("div",{className:"stat-label",children:"éœ€è¦å¤ä¹ "})]}),e.jsx("div",{className:"stat-value",children:c.unknownCount}),e.jsx("div",{className:"stat-subtitle",children:"å­©å­è¿˜ä¸ä¼šçš„è¯è¯­"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{className:"stat-card-header",children:[e.jsx("div",{className:"stat-icon",children:"ðŸ“Š"}),e.jsx("div",{className:"stat-label",children:"æ€»ä½“è¿›åº¦"})]}),e.jsxs("div",{className:"stat-value",children:[c.progressPercentage,"%"]}),e.jsxs("div",{className:"stat-subtitle",children:[c.practicedCount," / ",c.totalWords," è¯è¯­"]}),e.jsx("div",{className:"progress-bar-container",children:e.jsx("div",{className:"progress-bar",style:{width:`${c.progressPercentage}%`}})})]})]}),e.jsx("button",{className:"refresh-btn",onClick:h,children:"åˆ·æ–°æ•°æ®"}),e.jsxs("div",{className:"word-lists",children:[e.jsxs("div",{className:"word-list-section",children:[e.jsxs("div",{className:"word-list-header",children:[e.jsx("span",{className:"icon",children:"âœ…"}),"å·²æŽŒæ¡çš„è¯è¯­"]}),e.jsx("div",{className:"word-grid",children:t!=null&&t.knownWords&&t.knownWords.length>0?t.knownWords.map((m,p)=>e.jsx("div",{className:"word-chip known",children:m},`known-${m}-${p}`)):e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-state-icon",children:"ðŸ“š"}),e.jsx("p",{children:"è¿˜æ²¡æœ‰æŽŒæ¡çš„è¯è¯­"})]})})]}),e.jsxs("div",{className:"word-list-section",children:[e.jsxs("div",{className:"word-list-header",children:[e.jsx("span",{className:"icon",children:"ðŸ“"}),"éœ€è¦å¤ä¹ çš„è¯è¯­"]}),e.jsx("div",{className:"word-grid",children:t!=null&&t.unknownWords&&t.unknownWords.length>0?t.unknownWords.map((m,p)=>e.jsx("div",{className:"word-chip unknown",children:m},`unknown-${m}-${p}`)):e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-state-icon",children:"ðŸŽ‰"}),e.jsx("p",{children:"å¤ªæ£’äº†ï¼æ²¡æœ‰éœ€è¦å¤ä¹ çš„è¯è¯­"})]})})]})]}),u&&e.jsx("div",{className:"last-updated",children:u})]})}function Ti(){const{data:n,isLoading:i,error:a}=te(ge),{data:t}=Ae(),r=rn(),o=F(P,b=>b.showImportantOnly),d=F(P,b=>b.showLatestOnly),c=F(P,b=>b.currentWordIndex),u=F(P,b=>b.revealState),h=F(P,b=>b.knownWords),m=F(P,b=>b.unknownWords);l.useEffect(()=>{t&&Ve(t.knownWords||[],t.unknownWords||[])},[t]);const p=l.useMemo(()=>{if(!n)return[];const b=d?us(n):xe(n);return o?nn(b):b},[n,d,o]),s=p[c],x=p.length,f=()=>{if(!s)return;Ge(s);const b=new Set(h);b.add(s.simplified);const S=new Set(m);S.delete(s.simplified),r.mutate({knownWords:Array.from(b),unknownWords:Array.from(S)}),se(x)},w=()=>{if(!s)return;Ye(s);const b=new Set(h);b.delete(s.simplified);const S=new Set(m);S.add(s.simplified),r.mutate({knownWords:Array.from(b),unknownWords:Array.from(S)}),se(x)},y=b=>{Be(b)};return i?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):a?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:ce.DATA_LOAD})}):s?e.jsxs("div",{children:[e.jsxs("header",{className:"header-row",children:[e.jsx("h1",{className:"page-title",children:"å¬å†™"}),e.jsxs("div",{className:"controls",children:[e.jsx("button",{className:R("filter-btn",!d&&"active"),onClick:Cn,children:d?M.ALL_WORDS:M.LATEST_WORDS}),e.jsx("button",{className:R("filter-btn",o&&"active"),onClick:He,children:o?M.ALL_WORDS:M.IMPORTANT_WORDS}),e.jsxs("div",{className:"progress-display",children:[c+1," / ",x]})]})]}),e.jsxs("main",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"nav-buttons",children:[e.jsx("button",{className:"nav-btn",onClick:Ue,disabled:c===0,children:M.PREV_BTN}),e.jsx("button",{className:"nav-btn",onClick:()=>se(x),disabled:c>=x-1,children:M.NEXT_BTN})]}),e.jsx(sn,{word:s,currentIndex:c,totalWords:x,revealState:u,onToggleReveal:y},s.simplified),e.jsx(tn,{onKnow:f,onDontKnow:w})]})]}):e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"No words available"})})}const Ai=q("/")({component:Ti}),Ri=ps.update({id:"/vocabulary",path:"/vocabulary",getParentRoute:()=>D}),zi=ks.update({id:"/settings",path:"/settings",getParentRoute:()=>D}),Ei=Ns.update({id:"/school-tingxie",path:"/school-tingxie",getParentRoute:()=>D}),Ii=Ls.update({id:"/review",path:"/review",getParentRoute:()=>D}),Pi=_s.update({id:"/radicals",path:"/radicals",getParentRoute:()=>D}),Wi=$s.update({id:"/phrase-matching",path:"/phrase-matching",getParentRoute:()=>D}),Li=Hs.update({id:"/p3hcl-wupin-interactive",path:"/p3hcl-wupin-interactive",getParentRoute:()=>D}),Oi=Bs.update({id:"/p3hcl-reading-sync",path:"/p3hcl-reading-sync",getParentRoute:()=>D}),_i=Ys.update({id:"/koushi-traffic-safety",path:"/koushi-traffic-safety",getParentRoute:()=>D}),Mi=Xs.update({id:"/koushi-family-cohesion",path:"/koushi-family-cohesion",getParentRoute:()=>D}),Di=ri.update({id:"/instructions",path:"/instructions",getParentRoute:()=>D}),qi=pi.update({id:"/handwriting",path:"/handwriting",getParentRoute:()=>D}),$i=yi.update({id:"/family",path:"/family",getParentRoute:()=>D}),Fi=Ci.update({id:"/dashboard",path:"/dashboard",getParentRoute:()=>D}),Hi=Ai.update({id:"/",path:"/",getParentRoute:()=>D}),Ui={IndexRoute:Hi,DashboardRoute:Fi,FamilyRoute:$i,HandwritingRoute:qi,InstructionsRoute:Di,KoushiFamilyCohesionRoute:Mi,KoushiTrafficSafetyRoute:_i,P3hclReadingSyncRoute:Oi,P3hclWupinInteractiveRoute:Li,PhraseMatchingRoute:Wi,RadicalsRoute:Pi,ReviewRoute:Ii,SchoolTingxieRoute:Ei,SettingsRoute:zi,VocabularyRoute:Ri},Bi=D._addFileChildren(Ui)._addFileTypes(),Gi=xn({routeTree:Bi,context:{queryClient:Se},defaultPreload:"intent"}),De=document.getElementById("root");De.innerHTML||bn.createRoot(De).render(e.jsx(l.StrictMode,{children:e.jsx(yn,{client:Se,children:e.jsx(wn,{router:Gi})})}));
