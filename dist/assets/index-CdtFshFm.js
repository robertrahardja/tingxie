import{r as tn,a as l,S as Le,u as Oe,b as $,j as e,L as Se,c as an,O as rn,d as q,q as on,e as re,f as Me,g as ln,Q as cn,h as dn,i as hn,R as un}from"./tanstack-nw2R5c1G.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();var ue={},Te;function mn(){if(Te)return ue;Te=1;var n=tn();return ue.createRoot=n.createRoot,ue.hydrateRoot=n.hydrateRoot,ue}var pn=mn();const V={MOBILE_BREAKPOINT:768,SCROLL_HIDE_THRESHOLD:60,SET_COMPLETE_DELAY:500,TOUCH_FEEDBACK_DELAY:100,AUDIO_PRELOAD_COUNT:5,CACHE_VERSION:"v2",CACHE_DURATION:1440*60*1e3,DATA_PATH:"/data/tingxie/tingxie_vocabulary.json",API_VOCABULARY_PATH:"/api/vocabulary",API_PROGRESS_PATH:"/api/progress",VOCABULARY:{LATEST_ROW_NUMBER:79,REVIEW_MODE_NAME:"UNKNOWN_WORDS"},RETRY:{MAX_ATTEMPTS:3,INITIAL_DELAY:1e3}},O={SIMPLIFIED:"ÁÆÄ‰Ωì",TRADITIONAL:"ÁπÅ‰Ωì",PINYIN:"ÊãºÈü≥",ENGLISH:"English",ALL_WORDS:"ÂÖ®ÈÉ®ËØçËØ≠",IMPORTANT_WORDS:"ÈáçË¶ÅËØçËØ≠",LATEST_WORDS:"ÊúÄÊñ∞15ËØç",KNOW_BTN:"‰ºö ‚úì",DONT_KNOW_BTN:"‰∏ç‰ºö ‚úó",PREV_BTN:"‰∏ä‰∏Ä‰∏™",NEXT_BTN:"‰∏ã‰∏Ä‰∏™",IMPORTANT_BADGE:"ÈáçÁÇπ"},he={DATA_LOAD:"Êó†Ê≥ïÂä†ËΩΩËØçÊ±áÊï∞ÊçÆÔºåËØ∑Âà∑Êñ∞È°µÈù¢ÈáçËØï",AUDIO_PLAYBACK:"Audio playback failed:"},gn=[{href:"/",label:"ÊúÄÊñ∞ËØçËØ≠"},{href:"/word-study",label:"Â≠óËØçÂ≠¶‰π†"},{href:"/p3hcl-reading-sync",label:"ÈòÖËØªÁªÉ‰π†"},{href:"/school-tingxie",label:"Â≠¶Ê†°Âê¨ÂÜô"},{href:"/review",label:"Â§ç‰π†ËØçËØ≠"},{href:"/vocabulary",label:"ËØçÊ±áÊµèËßà"},{href:"/dashboard",label:"ÂÆ∂ÈïøÁúãÊùø"},{href:"/settings",label:"ËÆæÁΩÆ"},{label:"üìÅ Êõ¥Â§öÁªÉ‰π†",children:[{href:"/phrase-matching",label:"ËØçËØ≠Êê≠ÈÖç"},{href:"/handwriting",label:"Á¨îÁîªÁªÉ‰π†"},{href:"/radicals",label:"ÈÉ®È¶ñÂ≠¶‰π†"},{href:"/family",label:"ÂÆ∂Â∫≠Áß∞Âëº"},{href:"/instructions",label:"ÊåáÁ§∫ËØçÊ±á"},{href:"/p3hcl-wupin-interactive",label:"‰∫íÂä®ÈòÖËØª"},{href:"/koushi-family-cohesion",label:"Âè£ËØïÁªÉ‰π†"}]}],G={STUDENT_ID:"tingxie_student_id",VOCABULARY_CACHE:"vocabulary_cache_v2",VOCABULARY_CACHE_TIMESTAMP:"vocabulary_cache_timestamp_v2",SETTINGS:"tingxie_settings"};function xn(n={}){const{mobileBreakpoint:i=V.MOBILE_BREAKPOINT,scrollThreshold:t=V.SCROLL_HIDE_THRESHOLD}=n,[a,r]=l.useState(!1),o=l.useRef(0),d=l.useRef(!1),c=l.useCallback(()=>{const f=window.scrollY;window.innerWidth<i&&f>o.current&&f>t?r(!0):r(!1),o.current=f,d.current=!1},[i,t]),g=l.useCallback(()=>{d.current||(requestAnimationFrame(c),d.current=!0)},[c]),p=l.useCallback(()=>{window.innerWidth>=i&&r(!1)},[i]);return l.useEffect(()=>(window.addEventListener("scroll",g,{passive:!0}),window.addEventListener("resize",p),()=>{window.removeEventListener("scroll",g),window.removeEventListener("resize",p)}),[g,p]),a}const oe={simplified:!1,traditional:!1,pinyin:!1,english:!1,audio:!1},fn={menuOpen:!1,showImportantOnly:!1,showLatestOnly:!0,currentWordIndex:0,revealState:{...oe},handwritingVisible:!1,currentCharacterIndex:0,knownWords:new Set,unknownWords:new Set},E=new Le(fn);function yn(){E.setState(n=>({...n,menuOpen:!n.menuOpen}))}function ye(){E.setState(n=>({...n,menuOpen:!1}))}function _e(){E.setState(n=>({...n,showImportantOnly:!n.showImportantOnly,currentWordIndex:0,revealState:{...oe}}))}function bn(){E.setState(n=>({...n,showLatestOnly:!n.showLatestOnly,currentWordIndex:0,revealState:{...oe}}))}function Re(n){E.setState(i=>({...i,currentWordIndex:n,revealState:{...oe},handwritingVisible:!1,currentCharacterIndex:0}))}function te(n){E.setState(i=>i.currentWordIndex<n-1?{...i,currentWordIndex:i.currentWordIndex+1,revealState:{...oe},handwritingVisible:!1,currentCharacterIndex:0}:i)}function qe(){E.setState(n=>n.currentWordIndex>0?{...n,currentWordIndex:n.currentWordIndex-1,revealState:{...oe},handwritingVisible:!1,currentCharacterIndex:0}:n)}function De(n){E.setState(i=>({...i,revealState:{...i.revealState,[n]:!i.revealState[n]}}))}function He(n){E.setState(i=>{const t=new Set(i.knownWords),a=new Set(i.unknownWords);return t.add(n.simplified),a.delete(n.simplified),{...i,knownWords:t,unknownWords:a}})}function $e(n){E.setState(i=>{const t=new Set(i.knownWords),a=new Set(i.unknownWords);return a.add(n.simplified),t.delete(n.simplified),{...i,knownWords:t,unknownWords:a}})}function Fe(n,i){E.setState(t=>({...t,knownWords:new Set(n),unknownWords:new Set(i)}))}function Ue(n){var i,t,a="";if(typeof n=="string"||typeof n=="number")a+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(i=0;i<r;i++)n[i]&&(t=Ue(n[i]))&&(a&&(a+=" "),a+=t)}else for(t in n)n[t]&&(a&&(a+=" "),a+=t);return a}function jn(){for(var n,i,t=0,a="",r=arguments.length;t<r;t++)(n=arguments[t])&&(i=Ue(n))&&(a&&(a+=" "),a+=i);return a}const ke="-",wn=n=>{const i=kn(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:a}=n;return{getClassGroupId:d=>{const c=d.split(ke);return c[0]===""&&c.length!==1&&c.shift(),Be(c,i)||vn(d)},getConflictingClassGroupIds:(d,c)=>{const g=t[d]||[];return c&&a[d]?[...g,...a[d]]:g}}},Be=(n,i)=>{var d;if(n.length===0)return i.classGroupId;const t=n[0],a=i.nextPart.get(t),r=a?Be(n.slice(1),a):void 0;if(r)return r;if(i.validators.length===0)return;const o=n.join(ke);return(d=i.validators.find(({validator:c})=>c(o)))==null?void 0:d.classGroupId},Ae=/^\[(.+)\]$/,vn=n=>{if(Ae.test(n)){const i=Ae.exec(n)[1],t=i==null?void 0:i.substring(0,i.indexOf(":"));if(t)return"arbitrary.."+t}},kn=n=>{const{theme:i,prefix:t}=n,a={nextPart:new Map,validators:[]};return Cn(Object.entries(n.classGroups),t).forEach(([o,d])=>{ve(d,a,o,i)}),a},ve=(n,i,t,a)=>{n.forEach(r=>{if(typeof r=="string"){const o=r===""?i:Ee(i,r);o.classGroupId=t;return}if(typeof r=="function"){if(Nn(r)){ve(r(a),i,t,a);return}i.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([o,d])=>{ve(d,Ee(i,o),t,a)})})},Ee=(n,i)=>{let t=n;return i.split(ke).forEach(a=>{t.nextPart.has(a)||t.nextPart.set(a,{nextPart:new Map,validators:[]}),t=t.nextPart.get(a)}),t},Nn=n=>n.isThemeGetter,Cn=(n,i)=>i?n.map(([t,a])=>{const r=a.map(o=>typeof o=="string"?i+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([d,c])=>[i+d,c])):o);return[t,r]}):n,Sn=n=>{if(n<1)return{get:()=>{},set:()=>{}};let i=0,t=new Map,a=new Map;const r=(o,d)=>{t.set(o,d),i++,i>n&&(i=0,a=t,t=new Map)};return{get(o){let d=t.get(o);if(d!==void 0)return d;if((d=a.get(o))!==void 0)return r(o,d),d},set(o,d){t.has(o)?t.set(o,d):r(o,d)}}},Ge="!",Tn=n=>{const{separator:i,experimentalParseClassName:t}=n,a=i.length===1,r=i[0],o=i.length,d=c=>{const g=[];let p=0,f=0,u;for(let b=0;b<c.length;b++){let j=c[b];if(p===0){if(j===r&&(a||c.slice(b,b+o)===i)){g.push(c.slice(f,b)),f=b+o;continue}if(j==="/"){u=b;continue}}j==="["?p++:j==="]"&&p--}const s=g.length===0?c:c.substring(f),w=s.startsWith(Ge),v=w?s.substring(1):s,m=u&&u>f?u-f:void 0;return{modifiers:g,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:m}};return t?c=>t({className:c,parseClassName:d}):d},Rn=n=>{if(n.length<=1)return n;const i=[];let t=[];return n.forEach(a=>{a[0]==="["?(i.push(...t.sort(),a),t=[]):t.push(a)}),i.push(...t.sort()),i},An=n=>({cache:Sn(n.cacheSize),parseClassName:Tn(n),...wn(n)}),En=/\s+/,In=(n,i)=>{const{parseClassName:t,getClassGroupId:a,getConflictingClassGroupIds:r}=i,o=[],d=n.trim().split(En);let c="";for(let g=d.length-1;g>=0;g-=1){const p=d[g],{modifiers:f,hasImportantModifier:u,baseClassName:s,maybePostfixModifierPosition:w}=t(p);let v=!!w,m=a(v?s.substring(0,w):s);if(!m){if(!v){c=p+(c.length>0?" "+c:c);continue}if(m=a(s),!m){c=p+(c.length>0?" "+c:c);continue}v=!1}const b=Rn(f).join(":"),j=u?b+Ge:b,x=j+m;if(o.includes(x))continue;o.push(x);const h=r(m,v);for(let y=0;y<h.length;++y){const C=h[y];o.push(j+C)}c=p+(c.length>0?" "+c:c)}return c};function Wn(){let n=0,i,t,a="";for(;n<arguments.length;)(i=arguments[n++])&&(t=Ve(i))&&(a&&(a+=" "),a+=t);return a}const Ve=n=>{if(typeof n=="string")return n;let i,t="";for(let a=0;a<n.length;a++)n[a]&&(i=Ve(n[a]))&&(t&&(t+=" "),t+=i);return t};function Pn(n,...i){let t,a,r,o=d;function d(g){const p=i.reduce((f,u)=>u(f),n());return t=An(p),a=t.cache.get,r=t.cache.set,o=c,c(g)}function c(g){const p=a(g);if(p)return p;const f=In(g,t);return r(g,f),f}return function(){return o(Wn.apply(null,arguments))}}const A=n=>{const i=t=>t[n]||[];return i.isThemeGetter=!0,i},Ye=/^\[(?:([a-z-]+):)?(.+)\]$/i,zn=/^\d+\/\d+$/,Ln=new Set(["px","full","screen"]),On=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Mn=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_n=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Dn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,K=n=>ae(n)||Ln.has(n)||zn.test(n),X=n=>le(n,"length",Yn),ae=n=>!!n&&!Number.isNaN(Number(n)),be=n=>le(n,"number",ae),ce=n=>!!n&&Number.isInteger(Number(n)),Hn=n=>n.endsWith("%")&&ae(n.slice(0,-1)),S=n=>Ye.test(n),J=n=>On.test(n),$n=new Set(["length","size","percentage"]),Fn=n=>le(n,$n,Ke),Un=n=>le(n,"position",Ke),Bn=new Set(["image","url"]),Gn=n=>le(n,Bn,Qn),Vn=n=>le(n,"",Kn),de=()=>!0,le=(n,i,t)=>{const a=Ye.exec(n);return a?a[1]?typeof i=="string"?a[1]===i:i.has(a[1]):t(a[2]):!1},Yn=n=>Mn.test(n)&&!_n.test(n),Ke=()=>!1,Kn=n=>qn.test(n),Qn=n=>Dn.test(n),Xn=()=>{const n=A("colors"),i=A("spacing"),t=A("blur"),a=A("brightness"),r=A("borderColor"),o=A("borderRadius"),d=A("borderSpacing"),c=A("borderWidth"),g=A("contrast"),p=A("grayscale"),f=A("hueRotate"),u=A("invert"),s=A("gap"),w=A("gradientColorStops"),v=A("gradientColorStopPositions"),m=A("inset"),b=A("margin"),j=A("opacity"),x=A("padding"),h=A("saturate"),y=A("scale"),C=A("sepia"),R=A("skew"),M=A("space"),L=A("translate"),D=()=>["auto","contain","none"],Y=()=>["auto","hidden","clip","visible","scroll"],ne=()=>["auto",S,i],k=()=>[S,i],N=()=>["",K,X],W=()=>["auto",ae,S],P=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",S],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[ae,S];return{cacheSize:500,separator:":",theme:{colors:[de],spacing:[K,X],blur:["none","",J,S],brightness:H(),borderColor:[n],borderRadius:["none","","full",J,S],borderSpacing:k(),borderWidth:N(),contrast:H(),grayscale:z(),hueRotate:H(),invert:z(),gap:k(),gradientColorStops:[n],gradientColorStopPositions:[Hn,X],inset:ne(),margin:ne(),opacity:H(),padding:k(),saturate:H(),scale:H(),sepia:z(),skew:H(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",S]}],container:["container"],columns:[{columns:[J]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...P(),S]}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ce,S]}],basis:[{basis:ne()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",S]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",ce,S]}],"grid-cols":[{"grid-cols":[de]}],"col-start-end":[{col:["auto",{span:["full",ce,S]},S]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[de]}],"row-start-end":[{row:["auto",{span:[ce,S]},S]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",S]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",S]}],gap:[{gap:[s]}],"gap-x":[{"gap-x":[s]}],"gap-y":[{"gap-y":[s]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",S,i]}],"min-w":[{"min-w":[S,i,"min","max","fit"]}],"max-w":[{"max-w":[S,i,"none","full","min","max","fit","prose",{screen:[J]},J]}],h:[{h:[S,i,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[S,i,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[S,i,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[S,i,"auto","min","max","fit"]}],"font-size":[{text:["base",J,X]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",be]}],"font-family":[{font:[de]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",S]}],"line-clamp":[{"line-clamp":["none",ae,be]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",K,S]}],"list-image":[{"list-image":["none",S]}],"list-style-type":[{list:["none","disc","decimal",S]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",K,X]}],"underline-offset":[{"underline-offset":["auto",K,S]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",S]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",S]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...P(),Un]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Fn]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Gn]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:I()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[K,S]}],"outline-w":[{outline:[K,X]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[K,X]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",J,Vn]}],"shadow-color":[{shadow:[de]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[a]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",J,S]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[u]}],saturate:[{saturate:[h]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[h]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",S]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",S]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",S]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[ce,S]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",S]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",S]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",S]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[K,X,be]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Jn=Pn(Xn);function T(...n){return Jn(jn(n))}function Zn({item:n,onNavigate:i}){const t=Oe(),[a,r]=l.useState(!1);return n.children?e.jsxs("div",{className:"nav-folder",children:[e.jsxs("button",{className:T("nav-item nav-folder-toggle",a&&"expanded"),onClick:()=>r(!a),children:[n.label,e.jsx("span",{className:"folder-arrow",children:a?"‚ñº":"‚ñ∂"})]}),a&&e.jsx("div",{className:"nav-folder-content",children:n.children.map(o=>e.jsx(Se,{to:o.href,className:T("nav-item nav-child-item",t.pathname===o.href&&"active"),onClick:i,children:o.label},o.href))})]}):e.jsx(Se,{to:n.href,className:T("nav-item",t.pathname===n.href&&"active"),onClick:i,children:n.label})}function ei(){const n=Oe(),i=xn(),t=$(E,r=>r.menuOpen),a=l.useCallback(r=>{const o=r.target,d=document.getElementById("nav-menu"),c=document.getElementById("menu-toggle");t&&d&&c&&!d.contains(o)&&!c.contains(o)&&ye()},[t]);return l.useEffect(()=>(document.addEventListener("click",a),()=>document.removeEventListener("click",a)),[a]),l.useEffect(()=>{ye()},[n.pathname]),e.jsx("nav",{className:T("main-nav",i&&"nav-hide"),children:e.jsxs("div",{className:"nav-container",children:[e.jsxs("button",{id:"menu-toggle",className:T("menu-toggle",t&&"hamburger-active"),onClick:yn,"aria-label":"Toggle menu",children:[e.jsx("span",{className:"hamburger-line"}),e.jsx("span",{className:"hamburger-line"}),e.jsx("span",{className:"hamburger-line"})]}),e.jsx("div",{id:"nav-menu",className:T("nav-menu",t&&"active"),children:gn.map((r,o)=>e.jsx(Zn,{item:r,onNavigate:ye},r.href||`folder-${o}`))})]})})}function ni(){l.useEffect(()=>{const n=()=>{const i=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${i}px`)};return n(),window.addEventListener("resize",n),window.addEventListener("orientationchange",n),()=>{window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)}},[])}function ii({children:n,className:i}){return ni(),e.jsx("div",{className:T("page-container",i),children:n})}const _=an({component:si});function si(){return e.jsxs("div",{className:"min-h-screen bg-gradient-primary",children:[e.jsx(ei,{}),e.jsx(ii,{children:e.jsx(rn,{})})]})}function ee(){const n=l.useRef({}),i=l.useRef(null),t=l.useCallback(()=>{i.current&&(i.current.pause(),i.current.currentTime=0,i.current=null)},[]),a=l.useCallback(async d=>{if(!d)return console.warn("No audio path provided"),!1;try{t();const c=d.startsWith("http")||d.startsWith("/")?d:"/"+d;console.log("Attempting to play audio:",c);let g=n.current[d];if(!g){const p=await fetch(c);if(!p.ok)throw new Error(`Failed to fetch audio: ${p.status} ${p.statusText}`);const f=await p.blob();let u="audio/mpeg";const s=await f.slice(0,12).arrayBuffer(),w=new Uint8Array(s);w[0]===82&&w[1]===73&&w[2]===70&&w[3]===70?u="audio/wav":w[0]===70&&w[1]===79&&w[2]===82&&w[3]===77&&(u="audio/x-aiff"),g=new Audio,g.crossOrigin="anonymous";const v=URL.createObjectURL(f),m=document.createElement("source");m.src=v,m.type=u,g.appendChild(m),n.current[d]=g,console.log("Audio loaded successfully:",c,"Format:",u)}return i.current=g,await g.play(),!0}catch(c){return console.warn(he.AUDIO_PLAYBACK,c),console.log("Failed audio path was:",d),!1}},[t]),r=l.useCallback(d=>{(Array.isArray(d)?d:[d]).forEach(g=>{if(g&&!n.current[g]){const p=new Audio,f=g.startsWith("http")||g.startsWith("/")?g:"/"+g;p.src=f,p.crossOrigin="anonymous",p.preload="auto",n.current[g]=p}})},[]),o=l.useCallback(()=>{t(),n.current={}},[t]);return{play:a,stop:t,preload:r,clearCache:o}}const ti=q("/word-study")({component:ai});function ai(){const[n,i]=l.useState(null),[t,a]=l.useState(!0),[r,o]=l.useState(null),[d,c]=l.useState(0),[g,p]=l.useState(null),[f,u]=l.useState(""),{play:s}=ee();l.useEffect(()=>{async function x(){try{const h=await fetch("/data/tingxie/word_study.json");if(!h.ok)throw new Error("Failed to load data");const y=await h.json();i(y)}catch(h){o(h instanceof Error?h.message:"Failed to load data")}finally{a(!1)}}x()},[]);const w=l.useCallback(async(x,h)=>{h.stopPropagation(),await s(x)},[s]),v=l.useCallback(x=>{p(h=>h===x?null:x)},[]),m=n==null?void 0:n.sections[d],b=l.useMemo(()=>{if(!m)return[];if(!f.trim())return m.words;const x=f.toLowerCase().trim();return m.words.filter(h=>h.simplified.includes(x)||h.traditional.includes(x)||h.pinyin.toLowerCase().includes(x)||h.english.toLowerCase().includes(x))},[m,f]),j=(x,h)=>{if(!h)return x;const y=x.split(h);return y.length===1?x:y.map((C,R)=>e.jsxs("span",{children:[C,R<y.length-1&&e.jsx("span",{className:"font-bold",style:{color:"#667eea"},children:h})]},R))};return t?e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"Â≠óËØçÂ≠¶‰π†"})}),e.jsx("main",{className:"text-white text-center p-8",children:e.jsx("p",{children:"Âä†ËΩΩ‰∏≠..."})})]}):r||!n?e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"Â≠óËØçÂ≠¶‰π†"})}),e.jsx("main",{className:"text-white text-center p-8",children:e.jsxs("p",{children:["Âä†ËΩΩÂ§±Ë¥•: ",r]})})]}):e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"Â≠óËØçÂ≠¶‰π†"})}),e.jsxs("main",{children:[e.jsx("div",{className:"set-selector",style:{marginBottom:12},children:n.sections.map((x,h)=>e.jsx("button",{className:T("set-btn",d===h&&"active"),onClick:()=>{c(h),p(null),u("")},style:{fontSize:14,padding:"8px 16px"},children:x.title},h))}),e.jsx("div",{style:{textAlign:"center",color:"rgba(255,255,255,0.8)",fontSize:14,marginBottom:12},children:m==null?void 0:m.description}),e.jsx("div",{className:"search-container",style:{marginBottom:16},children:e.jsx("input",{type:"text",className:"search-input",placeholder:"ÊêúÁ¥¢ËØçËØ≠„ÄÅÊãºÈü≥ÊàñËã±Êñá...",value:f,onChange:x=>u(x.target.value)})}),e.jsxs("div",{style:{textAlign:"center",color:"rgba(255,255,255,0.7)",fontSize:13,marginBottom:16},children:["ÂÖ± ",b.length," ‰∏™ËØçËØ≠"]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:b.map(x=>{const h=g===x.id;return e.jsxs("div",{style:{background:"rgba(255,255,255,0.95)",borderRadius:16,overflow:"hidden",boxShadow:"0 4px 20px rgba(0,0,0,0.12)",transition:"all 0.3s ease"},children:[e.jsxs("button",{onClick:()=>v(x.id),style:{width:"100%",background:"none",border:"none",cursor:"pointer",padding:"16px",display:"flex",alignItems:"center",gap:12,textAlign:"left",fontFamily:"inherit"},children:[e.jsx("div",{style:{background:"linear-gradient(135deg, #667eea, #764ba2)",color:"white",width:32,height:32,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,fontWeight:"bold",flexShrink:0},children:x.id}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:8,flexWrap:"wrap"},children:[e.jsx("span",{style:{fontSize:24,fontWeight:"bold",color:"#333"},children:x.simplified}),x.traditional!==x.simplified&&e.jsxs("span",{style:{fontSize:16,color:"#888"},children:["(",x.traditional,")"]})]}),e.jsx("div",{style:{fontSize:14,color:"#667eea",fontWeight:500},children:x.pinyin}),e.jsx("div",{style:{fontSize:13,color:"#666",marginTop:2},children:x.english})]}),e.jsx("div",{onClick:y=>w(x.audio,y),style:{width:44,height:44,borderRadius:"50%",background:"linear-gradient(135deg, #667eea, #764ba2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,flexShrink:0,cursor:"pointer"},role:"button","aria-label":`Play audio for ${x.simplified}`,children:e.jsx("span",{role:"img","aria-hidden":"true",children:"üîä"})}),e.jsx("div",{style:{fontSize:18,color:"#999",transition:"transform 0.3s ease",transform:h?"rotate(180deg)":"rotate(0deg)",flexShrink:0},children:"‚ñº"})]}),h&&e.jsxs("div",{style:{padding:"0 16px 16px 16px",borderTop:"1px solid #eee"},children:[e.jsxs("div",{style:{marginTop:12},children:[e.jsx("div",{style:ie,children:"Ëß£Èáä"}),e.jsx("div",{style:{fontSize:15,color:"#444",lineHeight:1.6},children:x.explanation})]}),x.collocations.length>0&&e.jsxs("div",{style:{marginTop:12},children:[e.jsx("div",{style:ie,children:"Êê≠ÈÖç / ÊûÑËØç"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:x.collocations.map((y,C)=>e.jsx("span",{style:{background:"linear-gradient(135deg, #667eea20, #764ba220)",border:"1px solid #667eea40",padding:"4px 12px",borderRadius:20,fontSize:14,color:"#555"},children:y},C))})]}),e.jsxs("div",{style:{marginTop:12},children:[e.jsx("div",{style:ie,children:"‰æãÂè•"}),e.jsx("div",{style:{background:"#f8f9ff",padding:12,borderRadius:12,fontSize:16,lineHeight:1.8,color:"#333",borderLeft:"3px solid #667eea"},children:j(x.exampleSentence,x.exampleHighlight)})]}),x.wordDistinction&&e.jsxs("div",{style:{marginTop:12},children:[e.jsx("div",{style:ie,children:"ËØçËæ®"}),e.jsxs("div",{style:{background:"#fff8f0",padding:12,borderRadius:12,fontSize:14,lineHeight:1.8,borderLeft:"3px solid #f59e0b"},children:[e.jsxs("div",{children:[e.jsxs("strong",{style:{color:"#667eea"},children:[x.wordDistinction.word1,"Ôºö"]}),x.wordDistinction.sentence1]}),e.jsxs("div",{style:{marginTop:4},children:[e.jsxs("strong",{style:{color:"#f59e0b"},children:[x.wordDistinction.word2,"Ôºö"]}),x.wordDistinction.sentence2]})]})]}),x.relatedChars.length>0&&e.jsxs("div",{style:{marginTop:12},children:[e.jsx("div",{style:ie,children:"ÂΩ¢ËøëÂ≠ó"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:x.relatedChars.map((y,C)=>e.jsxs("div",{style:{background:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:12,padding:"8px 14px",textAlign:"center",minWidth:80},children:[e.jsx("div",{style:{fontSize:24,fontWeight:"bold",color:"#0369a1"},children:y.char}),e.jsx("div",{style:{fontSize:12,color:"#0369a1"},children:y.pinyin}),e.jsx("div",{style:{fontSize:13,color:"#555",marginTop:4},children:y.word}),e.jsx("div",{style:{fontSize:11,color:"#888"},children:y.wordPinyin})]},C))})]}),x.traditional!==x.simplified&&e.jsxs("div",{style:{marginTop:12},children:[e.jsx("div",{style:ie,children:"ÁπÅ‰Ωì"}),e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8,background:"#fdf4ff",border:"1px solid #e9d5ff",padding:"6px 14px",borderRadius:12},children:[e.jsx("span",{style:{fontSize:22,color:"#7c3aed"},children:x.traditional}),e.jsx("span",{style:{fontSize:13,color:"#888"},children:"ÁπÅ‰ΩìÂ≠ó"})]})]})]})]},x.id)})}),b.length===0&&e.jsxs("div",{className:"text-center text-white py-10",children:[e.jsx("p",{className:"text-xl",children:"Ê≤°ÊúâÊâæÂà∞ËØçËØ≠"}),e.jsx("p",{className:"text-sm opacity-70 mt-2",children:"ËØïËØïÂÖ∂‰ªñÊêúÁ¥¢ËØç"})]})]})]})}const ie={fontSize:12,fontWeight:"bold",color:"#999",textTransform:"uppercase",letterSpacing:1,marginBottom:6};async function ri(){const n=localStorage.getItem(G.VOCABULARY_CACHE),i=localStorage.getItem(G.VOCABULARY_CACHE_TIMESTAMP);if(n&&i&&Date.now()-parseInt(i)<V.CACHE_DURATION)return console.log("Using cached vocabulary data"),oi(),JSON.parse(n);const t=o=>{const d=o.headers.get("content-type");return d!==null&&d.includes("application/json")};let a=await fetch(V.API_VOCABULARY_PATH);if((!a.ok||!t(a))&&(a=await fetch(V.DATA_PATH)),!a.ok){if(n)return console.log("All sources failed, using stale cache"),JSON.parse(n);throw new Error(`HTTP error! status: ${a.status}`)}const r=await a.json();return localStorage.setItem(G.VOCABULARY_CACHE,JSON.stringify(r)),localStorage.setItem(G.VOCABULARY_CACHE_TIMESTAMP,Date.now().toString()),r}async function oi(){try{const n=t=>{const a=t.headers.get("content-type");return a!==null&&a.includes("application/json")};let i=await fetch(V.API_VOCABULARY_PATH);if((!i.ok||!n(i))&&(i=await fetch(V.DATA_PATH)),i.ok&&n(i)){const t=await i.json();localStorage.setItem(G.VOCABULARY_CACHE,JSON.stringify(t)),localStorage.setItem(G.VOCABULARY_CACHE_TIMESTAMP,Date.now().toString()),console.log("Cache refreshed in background")}}catch{console.log("Background cache refresh failed")}}const xe=on({queryKey:["vocabulary"],queryFn:ri,staleTime:1e3*60*5,gcTime:1e3*60*60*24});function li(n){const i=n.vocabulary.find(t=>t.row===V.VOCABULARY.LATEST_ROW_NUMBER);return(i==null?void 0:i.words)??[]}function fe(n){return n.vocabulary.flatMap(i=>i.words)}function Qe(n){return n.filter(i=>i.important)}const ci=q("/vocabulary")({component:hi});function di({word:n,onPlayAudio:i}){const t=l.useCallback(a=>{a.stopPropagation(),i(n.audio)},[n.audio,i]);return e.jsxs("div",{className:T("vocab-card",n.important&&"important"),children:[e.jsx("div",{className:"vocab-simplified",children:n.simplified}),e.jsx("div",{className:"vocab-traditional",children:n.traditional}),e.jsx("div",{className:"vocab-pinyin",children:n.pinyin}),e.jsx("button",{className:"vocab-audio",onClick:t,"aria-label":`Play audio for ${n.simplified}`,children:"üîä"}),n.important&&e.jsx("div",{className:"important-badge",children:O.IMPORTANT_BADGE})]})}function hi(){const{data:n,isLoading:i,error:t}=re(xe),a=$(E,c=>c.showImportantOnly),{play:r}=ee(),o=l.useMemo(()=>{if(!n)return[];const c=fe(n);return a?Qe(c):c},[n,a]),d=l.useCallback(c=>{r(c)},[r]);return i?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):t?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:he.DATA_LOAD})}):e.jsxs("div",{children:[e.jsxs("header",{className:"header-row",children:[e.jsx("h1",{className:"page-title",children:"ËØçÊ±áÊµèËßà"}),e.jsxs("div",{className:"controls",children:[e.jsx("button",{className:T("filter-btn",a&&"active"),onClick:_e,children:a?O.ALL_WORDS:O.IMPORTANT_WORDS}),e.jsxs("div",{className:"vocab-count",children:[o.length," ‰∏™ËØçËØ≠"]})]})]}),e.jsxs("main",{className:"vocabulary-main",children:[e.jsx("div",{className:"vocab-grid",children:o.map((c,g)=>e.jsx(di,{word:c,onPlayAudio:d},`${c.simplified}-${g}`))}),o.length===0&&e.jsx("div",{className:"empty-state-container",children:e.jsxs("div",{className:"empty-state-card",children:[e.jsx("div",{className:"empty-state-icon",children:"üìö"}),e.jsx("h2",{className:"empty-state-title",children:"Ê≤°ÊúâËØçËØ≠"}),e.jsx("p",{className:"empty-state-subtitle",children:"ÊöÇÊó∂Ê≤°ÊúâÁ¨¶ÂêàÊù°‰ª∂ÁöÑËØçËØ≠"})]})})]})]})}const pe={autoplay:!0,traditional:!0,pinyin:!0,vibration:!1,darkmode:!1,largefont:!1,simplified:!1,reminders:!0,analytics:!0,autoPlayAudio:!1,audioSpeed:1,showPinyin:!0,showEnglish:!0,autoAdvance:!1};function ui(){try{const n=localStorage.getItem(G.SETTINGS);if(n)return{...pe,...JSON.parse(n)}}catch(n){console.error("Failed to load settings:",n)}return pe}function mi(n){try{localStorage.setItem(G.SETTINGS,JSON.stringify(n))}catch(i){console.error("Failed to save settings:",i)}}const Z=new Le(ui());Z.subscribe(()=>{mi(Z.state)});function pi(n,i){Z.setState(t=>({...t,[n]:i}))}function Ie(n){const i=Z.state[n];typeof i=="boolean"&&pi(n,!i)}function gi(){Z.setState(()=>pe)}function xi(){try{const n={settings:Z.state,exportDate:new Date().toISOString(),version:"1.0.0"};return JSON.stringify(n,null,2)}catch(n){return console.error("Failed to export data:",n),""}}function fi(){try{return localStorage.removeItem(G.SETTINGS),Z.setState(()=>pe),!0}catch(n){return console.error("Failed to clear data:",n),!1}}const yi=q("/settings")({component:bi});function Q({settingKey:n,label:i}){const t=$(Z,r=>r[n]),a=typeof t=="boolean"?t:!1;return e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:i}),e.jsx("div",{className:`setting-toggle ${a?"active":""}`,onClick:()=>Ie(n),role:"switch","aria-checked":a,tabIndex:0,onKeyDown:r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),Ie(n))}})]})}function bi(){const[n,i]=l.useState(!1),[t,a]=l.useState(!1),r=l.useCallback(()=>{const c=xi();if(c){const g=new Blob([c],{type:"application/json"}),p=URL.createObjectURL(g),f=document.createElement("a");f.href=p,f.download=`tingxie-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(p)}},[]),o=l.useCallback(()=>{n?(gi(),i(!1)):(i(!0),setTimeout(()=>i(!1),3e3))},[n]),d=l.useCallback(()=>{t?(fi(),a(!1)):(a(!0),setTimeout(()=>a(!1),3e3))},[t]);return e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"ËÆæÁΩÆ"})}),e.jsxs("main",{className:"settings-main",children:[e.jsxs("div",{className:"settings-section",children:[e.jsx("div",{className:"settings-title",children:"Â≠¶‰π†ËÆæÁΩÆ"}),e.jsx(Q,{settingKey:"autoplay",label:"Ëá™Âä®Êí≠ÊîæÈü≥È¢ë"}),e.jsx(Q,{settingKey:"traditional",label:"ÊòæÁ§∫ÁπÅ‰ΩìÂ≠ó"}),e.jsx(Q,{settingKey:"pinyin",label:"ÊòæÁ§∫ÊãºÈü≥"}),e.jsx(Q,{settingKey:"vibration",label:"ÊåØÂä®ÂèçÈ¶à"})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("div",{className:"settings-title",children:"ÊòæÁ§∫ËÆæÁΩÆ"}),e.jsx(Q,{settingKey:"darkmode",label:"Ê∑±Ëâ≤Ê®°Âºè"}),e.jsx(Q,{settingKey:"largefont",label:"Â§ßÂ≠ó‰ΩìÊ®°Âºè"}),e.jsx(Q,{settingKey:"simplified",label:"ÁÆÄÂåñÁïåÈù¢"})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("div",{className:"settings-title",children:"ÂÖ∂‰ªñËÆæÁΩÆ"}),e.jsx(Q,{settingKey:"reminders",label:"Â≠¶‰π†ÊèêÈÜí"}),e.jsx(Q,{settingKey:"analytics",label:"Êï∞ÊçÆÁªüËÆ°"})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("div",{className:"settings-title",children:"Êï∞ÊçÆÁÆ°ÁêÜ"}),e.jsx("div",{className:"setting-item",children:e.jsx("button",{className:"setting-btn",onClick:r,children:"ÂØºÂá∫Â≠¶‰π†Êï∞ÊçÆ"})}),e.jsx("div",{className:"setting-item",children:e.jsx("button",{className:`setting-btn ${n?"danger":""}`,onClick:o,children:n?"Á°ÆËÆ§ÈáçÁΩÆÔºü":"ÈáçÁΩÆÂ≠¶‰π†ËøõÂ∫¶"})}),e.jsx("div",{className:"setting-item",children:e.jsx("button",{className:"setting-btn danger",onClick:d,children:t?"Á°ÆËÆ§Ê∏ÖÈô§Ôºü":"Ê∏ÖÈô§ÊâÄÊúâÊï∞ÊçÆ"})})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("div",{className:"settings-title",children:"ÂÖ≥‰∫é"}),e.jsxs("div",{className:"about-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Âê¨ÂÜôÁªÉ‰π†"})," v2.0.0"]}),e.jsx("p",{children:"Â∏ÆÂä©Â≠©Â≠êÁªÉ‰π†‰∏≠ÊñáÂê¨ÂÜôÁöÑÁßªÂä®Â∫îÁî®"}),e.jsx("p",{children:"ÈÄÇÁî®‰∫éiPadÂíåiPhoneËÆæÂ§á"})]})]})]})]})}const ji=q("/school-tingxie")({component:vi}),wi=["‰∏Ä","‰∫å","‰∏â","Âõõ","‰∫î","ÂÖ≠","‰∏É","ÂÖ´","‰πù","ÂçÅ"];function vi(){const[n,i]=l.useState(null),[t,a]=l.useState(!0),[r,o]=l.useState(null),[d,c]=l.useState(0),[g,p]=l.useState(0),[f,u]=l.useState(!1),[s,w]=l.useState(null),{play:v}=ee();l.useEffect(()=>{async function k(){try{const N=await fetch("/data/tingxie/school_vocabulary.json");if(!N.ok)throw new Error("Failed to load data");const W=await N.json();i(W)}catch(N){o(N instanceof Error?N.message:"Failed to load data")}finally{a(!1)}}k()},[]);const m=n==null?void 0:n.vocabulary[d],b=m==null?void 0:m.items[g],j=(m==null?void 0:m.items.length)||0;l.useEffect(()=>{u(!1)},[d,g]);const x=l.useCallback(k=>{c(k),p(0),u(!1)},[]),h=l.useCallback(()=>{g>0&&p(g-1)},[g]),y=l.useCallback(()=>{g<j-1&&p(g+1)},[g,j]),C=l.useCallback(async()=>{b!=null&&b.audio&&await v(b.audio)},[b,v]),R=l.useCallback(k=>{w(k)},[]),M=l.useCallback(async()=>{if(s){const k=`audio/${s.simplified}.mp3`;await v(k)}},[s,v]),L=l.useCallback(()=>{w(null)},[]),D=k=>k.type==="pinyin"?e.jsxs("div",{className:"sentence-content-wrapper",children:[e.jsx("div",{className:"pinyin-display",children:k.pinyin}),e.jsx("div",{className:`sentence-content ${f?"":"covered"}`,onClick:()=>!f&&u(!0),children:Y(k.characters||"",k.words)})]}):k.type==="moxie"?e.jsxs("div",{className:"sentence-content-wrapper",children:[k.label&&e.jsx("div",{className:"moxie-label",children:k.label}),e.jsx("div",{className:`sentence-content ${f?"":"covered"}`,onClick:()=>!f&&u(!0),children:Y(k.sentence||"",k.words)}),k.note&&f&&e.jsx("div",{className:"moxie-note",children:k.note})]}):e.jsx("div",{className:"sentence-content-wrapper",children:e.jsx("div",{className:`sentence-content ${f?"":"covered"}`,onClick:()=>!f&&u(!0),children:Y(k.sentence||"",k.words)})}),Y=(k,N)=>{if(!f||!(N!=null&&N.length))return k;const W=new Map;N.forEach(z=>{W.set(z.simplified,z)});const P=[...N].sort((z,B)=>B.simplified.length-z.simplified.length),I=[];let F=k,U=0;for(;U<F.length;){let z=!1;for(const B of P)if(F.slice(U).startsWith(B.simplified)){if(U>0){const H=F.slice(0,U);H&&I.push({text:H})}I.push({text:B.simplified,word:B}),F=F.slice(U+B.simplified.length),U=0,z=!0;break}z||U++}return F&&I.push({text:F}),I.map((z,B)=>z.word?e.jsx("span",{className:"word",onClick:H=>{H.stopPropagation(),R(z.word)},children:z.text},B):e.jsx("span",{children:z.text},B))},ne=k=>{const N=[];return k.type==="pinyin"?N.push(e.jsx("span",{className:"item-type-badge pinyin-type",children:"ÊãºÈü≥"},"pinyin")):k.type==="moxie"&&N.push(e.jsx("span",{className:"item-type-badge moxie-type",children:"ÈªòÂÜô"},"moxie")),k.difficult&&N.push(e.jsx("span",{className:"item-type-badge difficult",children:"Èöæ"},"difficult")),N};return t?e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"‰∏âÂπ¥Á∫ßÂê¨ÂÜô"})}),e.jsx("main",{className:"text-white text-center p-8",children:e.jsx("p",{children:"Âä†ËΩΩ‰∏≠..."})})]}):r||!n?e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"‰∏âÂπ¥Á∫ßÂê¨ÂÜô"})}),e.jsx("main",{className:"text-white text-center p-8",children:e.jsxs("p",{children:["Âä†ËΩΩÂ§±Ë¥•: ",r]})})]}):e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"‰∏âÂπ¥Á∫ßÂê¨ÂÜô"})}),e.jsxs("main",{children:[e.jsx("div",{className:"set-selector",children:n.vocabulary.map((k,N)=>e.jsx("button",{className:`set-btn ${N===d?"active":""}`,onClick:()=>x(N),children:wi[N]||N+1},k.row))}),e.jsx("div",{className:"set-title",children:m==null?void 0:m.title}),b&&e.jsxs("div",{className:"sentence-card",children:[e.jsxs("div",{className:"item-number",children:["Á¨¨ ",g+1," È¢ò",ne(b)]}),e.jsx("button",{className:"audio-play-btn",onClick:C,children:"üîä"}),D(b),!f&&e.jsx("button",{className:"reveal-btn",onClick:()=>u(!0),children:"ÊòæÁ§∫Á≠îÊ°à"}),f&&e.jsxs("div",{className:"answer-section",children:[e.jsxs("div",{className:"keyword-section",children:[e.jsx("div",{className:"keyword-label",children:"ÈáçÁÇπËØçËØ≠"}),e.jsx("div",{className:"keyword-text",children:b.keyword||b.characters})]}),e.jsx("div",{className:"english-translation",children:b.english})]})]}),e.jsxs("div",{className:"item-navigation",children:[e.jsx("button",{className:"item-nav-btn prev",onClick:h,disabled:g===0,children:"‰∏ä‰∏ÄÈ¢ò"}),e.jsx("button",{className:"item-nav-btn next",onClick:y,disabled:g>=j-1,children:"‰∏ã‰∏ÄÈ¢ò"})]}),e.jsxs("div",{className:"progress-indicator",children:[g+1," / ",j]})]}),e.jsx("div",{className:`popup-overlay ${s?"show":""}`,onClick:L}),e.jsx("div",{className:`word-popup ${s?"show":""}`,children:s&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"popup-traditional",children:s.traditional}),e.jsxs("div",{className:"popup-simplified",children:["(",s.simplified,")"]}),e.jsx("div",{className:"popup-pinyin",children:s.pinyin}),e.jsx("div",{className:"popup-meaning",children:s.meaning}),e.jsx("button",{className:"popup-audio-btn",onClick:M,children:"üîä Âê¨ÂèëÈü≥"}),e.jsx("br",{}),e.jsx("button",{className:"popup-close",onClick:L,children:"ÂÖ≥Èó≠"})]})})]})}function ki({audioPath:n,revealed:i,onReveal:t,className:a}){const{play:r}=ee(),o=l.useCallback(async()=>{await r(n),t()},[n,r,t]);return e.jsx("button",{className:T("audio-btn",i?"revealed":"covered",a),onClick:o,"aria-label":"Play audio",children:"üîä"})}const Ni={simplified:O.SIMPLIFIED,traditional:O.TRADITIONAL,pinyin:O.PINYIN,english:O.ENGLISH};function me({field:n,value:i,revealed:t,onToggle:a,className:r}){const o=Ni[n];return e.jsx("div",{className:T("word-item",r),children:e.jsx("button",{className:T("content-btn",t?"revealed":"covered"),onClick:a,"aria-label":t?`Hide ${n}`:`Reveal ${n}`,children:t?i:o})})}const Ci="modulepreload",Si=function(n){return"/"+n},We={},Ne=function(i,t,a){let r=Promise.resolve();if(t&&t.length>0){let d=function(p){return Promise.all(p.map(f=>Promise.resolve(f).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),g=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=d(t.map(p=>{if(p=Si(p),p in We)return;We[p]=!0;const f=p.endsWith(".css"),u=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${u}`))return;const s=document.createElement("link");if(s.rel=f?"stylesheet":Ci,f||(s.as="script"),s.crossOrigin="",s.href=p,g&&s.setAttribute("nonce",g),document.head.appendChild(s),f)return new Promise((w,v)=>{s.addEventListener("load",w),s.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(d){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=d,window.dispatchEvent(c),!c.defaultPrevented)throw d}return r.then(d=>{for(const c of d||[])c.status==="rejected"&&o(c.reason);return i().catch(o)})};function Ti({characters:n,onClose:i}){const[t,a]=l.useState(0),[r,o]=l.useState(0),[d,c]=l.useState(""),[g,p]=l.useState(!1),f=l.useRef(null),u=l.useRef(null),s=l.useRef(null),w=n[t],v=n.length;l.useEffect(()=>{(async()=>{try{const C=await Ne(()=>import("https://cdn.jsdelivr.net/npm/hanzi-writer@3.7.3/+esm"),[]);s.current=C.default}catch(C){console.error("Failed to load HanziWriter:",C),c("Êó†Ê≥ïÂä†ËΩΩÁ¨îÁîªÂ∫ì"),p(!0)}})()},[]);const m=l.useCallback(()=>{if(!(!u.current||!s.current||!w)){u.current.innerHTML="",c(""),p(!1),o(0);try{f.current=s.current.create(u.current,w,{width:280,height:280,padding:20,showOutline:!0,showCharacter:!1,strokeAnimationSpeed:1,delayBetweenStrokes:100,strokeColor:"#333",outlineColor:"#ddd",drawingColor:"#4a90d9",drawingWidth:20,showHintAfterMisses:3,highlightOnComplete:!0,highlightColor:"#27ae60",charDataLoader:y=>fetch(`https://cdn.jsdelivr.net/npm/hanzi-writer-data@2.0/${y}.json`).then(C=>{if(!C.ok)throw new Error("Character not found");return C.json()})}),f.current.quiz({onMistake:y=>{c(`Á¨¨ ${y.strokeNum+1} Á¨î: ÂÜçËØï‰∏ÄÊ¨°ÔºÅ`),p(!0)},onCorrectStroke:y=>{o(y.strokeNum+1),c(`Á¨¨ ${y.strokeNum+1} Á¨î: Ê≠£Á°ÆÔºÅ`),p(!1)},onComplete:y=>{const C=y.totalMistakes;c(C===0?"ÂÆåÁæéÔºÅÊ≤°ÊúâÈîôËØØÔºÅ":`ÂÆåÊàêÔºÅ${C} ‰∏™ÈîôËØØ`),p(!1)}})}catch(y){console.error("Failed to create HanziWriter:",y),c("Êó†Ê≥ïÂä†ËΩΩËØ•Â≠óÁ¨¶"),p(!0)}}},[w]);l.useEffect(()=>{s.current&&m()},[m,t]),l.useEffect(()=>{const y=setInterval(()=>{s.current&&u.current&&(m(),clearInterval(y))},100);return()=>clearInterval(y)},[m]);const b=()=>{f.current&&f.current.highlightStroke(r)},j=()=>{m()},x=()=>{t>0&&a(t-1)},h=()=>{t<v-1&&a(t+1)};return e.jsxs("div",{className:"handwriting-embed",children:[e.jsxs("div",{className:"handwriting-embed-header",children:[e.jsx("h3",{children:"Á¨îÁîªÁªÉ‰π†"}),e.jsx("button",{className:"close-btn",onClick:i,children:"‚úï"})]}),e.jsx("div",{className:"character-display-embed",children:e.jsxs("span",{children:[n,v>1&&` (${t+1}/${v})`]})}),e.jsx("div",{id:"handwriting-writer-container",children:e.jsx("div",{ref:u,id:"handwriting-target"})}),e.jsxs("div",{className:"handwriting-controls-embed",children:[e.jsx("button",{className:"handwriting-action-btn",onClick:b,children:"ÊòæÁ§∫ÊèêÁ§∫"}),e.jsx("button",{className:"handwriting-action-btn reset",onClick:j,children:"ÈáçÁΩÆ"})]}),v>1&&e.jsxs("div",{className:"handwriting-char-nav",children:[e.jsx("button",{className:"char-nav-btn",onClick:x,disabled:t===0,children:"‚Üê ‰∏ä‰∏Ä‰∏™Â≠ó"}),e.jsx("button",{className:"char-nav-btn",onClick:h,disabled:t>=v-1,children:"‰∏ã‰∏Ä‰∏™Â≠ó ‚Üí"})]}),e.jsx("div",{className:T("handwriting-status",g&&"error"),children:d})]})}function Ri(n){return`/images/${n}.png`}function Xe({word:n,currentIndex:i,totalWords:t,revealState:a,onToggleReveal:r,className:o}){const[d,c]=l.useState(!1),[g,p]=l.useState(!1),f=Ri(n.simplified);l.useEffect(()=>{p(!1),fetch(f,{method:"GET",headers:{Range:"bytes=0-0"}}).then(s=>p(s.ok||s.status===206)).catch(()=>p(!1))},[n.simplified,f]);const u=()=>{c(!d)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:T("word-card",o),children:[e.jsxs("div",{className:"card-progress",children:[i+1," / ",t]}),g&&e.jsx("div",{className:"word-image-container",children:e.jsx("img",{src:f,alt:n.english,className:"word-memory-image"})}),e.jsxs("div",{className:"word-section",children:[e.jsx("div",{className:"audio-item",children:e.jsx(ki,{audioPath:n.audio,revealed:a.audio,onReveal:()=>r("audio")})}),e.jsx(me,{field:"simplified",value:n.simplified,revealed:a.simplified,onToggle:()=>r("simplified")}),e.jsx(me,{field:"traditional",value:n.traditional,revealed:a.traditional,onToggle:()=>r("traditional")}),e.jsx(me,{field:"pinyin",value:n.pinyin,revealed:a.pinyin,onToggle:()=>r("pinyin")}),e.jsx(me,{field:"english",value:n.english,revealed:a.english,onToggle:()=>r("english")})]}),e.jsx("div",{className:"handwriting-controls",children:e.jsx("button",{className:T("handwriting-btn",d&&"active"),onClick:u,children:"‚úçÔ∏è Á¨îÁîªÁªÉ‰π†"})})]}),d&&e.jsx(Ti,{characters:n.simplified,onClose:()=>c(!1)},n.simplified)]})}function Je({onKnow:n,onDontKnow:i,className:t}){return e.jsxs("div",{className:T("assess-buttons",t),children:[e.jsx("button",{className:"assess-btn know",onClick:n,children:O.KNOW_BTN}),e.jsx("button",{className:"assess-btn dont-know",onClick:i,children:O.DONT_KNOW_BTN})]})}function Ze(){let n=localStorage.getItem(G.STUDENT_ID);return n||(n=`student_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,localStorage.setItem(G.STUDENT_ID,n)),n}async function Ai(n){try{const i=await fetch(`${V.API_PROGRESS_PATH}?studentId=${encodeURIComponent(n)}`),t=i.headers.get("content-type"),a=t!==null&&t.includes("application/json");return!i.ok||!a?(console.log("Cloud API not available (local development mode)"),{knownWords:[],unknownWords:[],lastUpdated:null}):await i.json()}catch{return console.log("Cloud sync not available - using local mode only"),{knownWords:[],unknownWords:[],lastUpdated:null}}}async function Ei(n){const{MAX_ATTEMPTS:i,INITIAL_DELAY:t}=V.RETRY;for(let a=1;a<=i;a++)try{const r=await fetch(V.API_PROGRESS_PATH,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),o=r.headers.get("content-type");if(!(o!==null&&o.includes("application/json"))||r.status===404)return console.log("Cloud API not available (local development mode) - progress not saved to cloud"),{success:!0};if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const c=await r.json();if(c.success)return console.log(`Progress saved to cloud (attempt ${a}/${i})`),c;throw new Error("Save returned success: false")}catch(r){if(console.error(`Failed to save progress (attempt ${a}/${i}):`,r),a===i)throw r;await new Promise(o=>setTimeout(o,a*t))}throw new Error("Failed to save progress after all retries")}function Ce(){const n=Ze();return re({queryKey:["progress",n],queryFn:()=>Ai(n),staleTime:0})}function en(){const n=Me(),i=Ze();return ln({mutationFn:t=>Ei({studentId:i,knownWords:[...new Set(t.knownWords)],unknownWords:[...new Set(t.unknownWords)]}),onSuccess:t=>{t.progress&&n.setQueryData(["progress",i],t.progress)},onError:t=>{console.error("Failed to save progress:",t)}})}const Ii=q("/review")({component:Wi});function Wi(){const{data:n,isLoading:i,error:t}=re(xe),{data:a,isLoading:r}=Ce(),o=en(),d=$(E,b=>b.currentWordIndex),c=$(E,b=>b.revealState),g=$(E,b=>b.knownWords),p=$(E,b=>b.unknownWords);l.useEffect(()=>{a&&Fe(a.knownWords||[],a.unknownWords||[])},[a]),l.useEffect(()=>{Re(0)},[]);const f=l.useMemo(()=>!n||p.size===0?[]:fe(n).filter(j=>p.has(j.simplified)),[n,p]),u=f[d],s=f.length,w=()=>{if(!u)return;He(u);const b=new Set(g);b.add(u.simplified);const j=new Set(p);j.delete(u.simplified),o.mutate({knownWords:Array.from(b),unknownWords:Array.from(j)}),d>=s-1?s>1&&Re(Math.max(0,d-1)):te(s)},v=()=>{if(!u)return;$e(u);const b=new Set(g);b.delete(u.simplified);const j=new Set(p);j.add(u.simplified),o.mutate({knownWords:Array.from(b),unknownWords:Array.from(j)}),te(s)},m=b=>{De(b)};return i||r?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):t?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:he.DATA_LOAD})}):s===0?e.jsxs("div",{children:[e.jsx("header",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"Â§ç‰π†ËØçËØ≠"})}),e.jsx("main",{className:"empty-state-container",children:e.jsxs("div",{className:"empty-state-card",children:[e.jsx("div",{className:"empty-state-icon",children:"üéâ"}),e.jsx("h2",{className:"empty-state-title",children:"Ê≤°ÊúâÈúÄË¶ÅÂ§ç‰π†ÁöÑËØçËØ≠"}),e.jsx("p",{className:"empty-state-subtitle",children:"Â§™Ê£í‰∫ÜÔºÅ‰Ω†Â∑≤ÁªèÊéåÊè°‰∫ÜÊâÄÊúâËØçËØ≠"}),e.jsx("p",{className:"empty-state-hint",children:"Âú®ÊúÄÊñ∞ËØçËØ≠È°µÈù¢Ê†áËÆ∞‰∏ç‰ºöÁöÑËØçËØ≠ÔºåËøôÈáåÂ∞±‰ºöÂá∫Áé∞ÈúÄË¶ÅÂ§ç‰π†ÁöÑÂÜÖÂÆπ"})]})})]}):e.jsxs("div",{children:[e.jsxs("header",{className:"header-row",children:[e.jsx("h1",{className:"page-title",children:"Â§ç‰π†ËØçËØ≠"}),e.jsx("div",{className:"controls",children:e.jsxs("div",{className:"progress-display",children:[d+1," / ",s]})})]}),e.jsxs("main",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"nav-buttons",children:[e.jsx("button",{className:"nav-btn",onClick:qe,disabled:d===0,children:O.PREV_BTN}),e.jsx("button",{className:"nav-btn",onClick:()=>te(s),disabled:d>=s-1,children:O.NEXT_BTN})]}),e.jsx(Xe,{word:u,currentIndex:d,totalWords:s,revealState:c,onToggleReveal:m},u.simplified),e.jsx(Je,{onKnow:w,onDontKnow:v})]})]})}const Pi=q("/radicals")({component:Oi}),zi={queryKey:["radicals"],queryFn:async()=>{const n=await fetch("/data/radicals/radicals.json");if(!n.ok)throw new Error("Failed to load radicals data");return n.json()},staleTime:1e3*60*60},Li=[{label:"All",value:"all"},{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"},{label:"8+",value:"8+"}];function Oi(){const[n,i]=l.useState(""),[t,a]=l.useState("all"),{play:r}=ee(),{data:o,isLoading:d,error:c}=re(zi),g=l.useMemo(()=>{if(!(o!=null&&o.radicals))return[];let u=o.radicals;if(t!=="all")if(t==="8+")u=u.filter(s=>s.strokes>=8);else{const s=parseInt(t,10);u=u.filter(w=>w.strokes===s)}if(n.trim()){const s=n.toLowerCase().trim();u=u.filter(w=>w.radical.includes(s)||w.traditional&&w.traditional.includes(s)||w.pinyin.toLowerCase().includes(s)||w.meaning.toLowerCase().includes(s)||w.examples.some(v=>v.includes(s)))}return u},[o,t,n]),p=(u,s)=>{s.stopPropagation(),r(u)};if(d)return e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})});if(c)return e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"Failed to load radicals data"})});const f=(o==null?void 0:o.radicals.length)||0;return e.jsxs("div",{children:[e.jsx("header",{children:e.jsx("div",{className:"header-row",children:e.jsx("h1",{className:"page-title",children:"Radicals"})})}),e.jsxs("main",{className:"vocabulary-main",children:[e.jsx("div",{className:"search-container",children:e.jsx("input",{type:"text",className:"search-input",placeholder:"Search radical, pinyin, or meaning...",value:n,onChange:u=>i(u.target.value)})}),e.jsx("div",{className:"stroke-filters",children:Li.map(u=>e.jsx("button",{className:T("stroke-btn",t===u.value&&"active"),onClick:()=>a(u.value),children:u.label},u.value))}),e.jsxs("div",{className:"stats-bar",children:[e.jsxs("span",{children:["Showing: ",g.length," radicals"]}),e.jsxs("span",{children:["Total: ",f]})]}),e.jsx("div",{className:"radicals-grid",children:g.map(u=>e.jsxs("div",{className:"radical-card",children:[e.jsxs("div",{className:"radical-header",children:[e.jsxs("div",{className:"radical-characters",children:[e.jsx("span",{className:"radical-character",children:u.radical}),u.traditional&&u.traditional!==u.radical&&e.jsx("span",{className:"radical-traditional",children:u.traditional})]}),e.jsxs("span",{className:"radical-number",children:[u.strokes," strokes"]})]}),e.jsx("div",{className:"radical-pinyin",children:u.pinyin}),e.jsx("div",{className:"radical-meaning",children:u.meaning}),e.jsx("div",{className:"radical-examples",children:u.examples.map((s,w)=>e.jsx("span",{className:"example-char",children:s},w))}),e.jsx("button",{className:"radical-audio",onClick:s=>p(u.audio,s),"aria-label":`Play audio for ${u.radical}`,children:e.jsx("span",{role:"img","aria-hidden":"true",children:"üîä"})})]},u.number))}),g.length===0&&e.jsxs("div",{className:"text-center text-white py-10",children:[e.jsx("p",{className:"text-xl",children:"No radicals found"}),e.jsx("p",{className:"text-sm opacity-70 mt-2",children:"Try adjusting your search or filter"})]})]})]})}const Mi=q("/phrase-matching")({component:_i});function _i(){return e.jsxs("div",{className:"phrase-matching-page",children:[e.jsxs("div",{className:"lesson-header lesson-header-purple",children:[e.jsx("h1",{children:"ËØçËØ≠Êê≠ÈÖç"}),e.jsx("div",{className:"lesson-subtitle",children:"Word-Phrase Matching Practice"})]}),e.jsx("div",{className:"content-container",children:e.jsxs("div",{className:"coming-soon-box",children:[e.jsx("div",{className:"coming-soon-icon",children:"üîú"}),e.jsx("h2",{className:"coming-soon-title",children:"Âç≥Â∞ÜÊé®Âá∫"}),e.jsx("p",{className:"coming-soon-text",children:"Coming Soon"}),e.jsx("p",{className:"coming-soon-description",children:"ËØçËØ≠Êê≠ÈÖçÁªÉ‰π†ÂäüËÉΩÊ≠£Âú®ÂºÄÂèë‰∏≠ÔºåÊï¨ËØ∑ÊúüÂæÖÔºÅ"})]})})]})}const qi=q("/p3hcl-wupin-interactive")({component:Di});function Di(){return e.jsxs("div",{children:[e.jsx("header",{className:"mb-5",children:e.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-md",children:"‰∫íÂä®ÈòÖËØª"})}),e.jsx("main",{className:"text-white",children:e.jsx("p",{children:"Interactive reading - Coming soon"})})]})}const Hi=q("/p3hcl-reading-sync")({component:Ui}),se={"„ÄÅ":{simplified:"„ÄÅ",traditional:"„ÄÅ",pinyin:"",meaning:"enumeration comma"},"Ôºå":{simplified:"Ôºå",traditional:"Ôºå",pinyin:"",meaning:"comma"},"„ÄÇ":{simplified:"„ÄÇ",traditional:"„ÄÇ",pinyin:"",meaning:"period"},"ÔºÅ":{simplified:"ÔºÅ",traditional:"ÔºÅ",pinyin:"",meaning:"exclamation mark"},Âïä:{simplified:"Âïä",traditional:"Âïä",pinyin:"a",meaning:"particle (exclamation)"},Â§©ËøòÊ≤°‰∫Æ:{simplified:"Â§©ËøòÊ≤°‰∫Æ",traditional:"Â§©ÈÇÑÊ≤í‰∫Æ",pinyin:"tiƒÅn h√°i m√©i li√†ng",meaning:"before dawn; sky not yet bright",audio:"audio/Â§©ËøòÊ≤°‰∫Æ.mp3"},Â§©ÂàöÂàö‰∫Æ:{simplified:"Â§©ÂàöÂàö‰∫Æ",traditional:"Â§©ÂâõÂâõ‰∫Æ",pinyin:"tiƒÅn gƒÅng gƒÅng li√†ng",meaning:"just at dawn; sky just brightened",audio:"audio/Â§©ÂàöÂàö‰∫Æ.mp3"},‰∏äÂçà:{simplified:"‰∏äÂçà",traditional:"‰∏äÂçà",pinyin:"sh√†ng w«î",meaning:"morning (before noon)",audio:"audio/‰∏äÂçà.mp3"},‰∏≠Âçà:{simplified:"‰∏≠Âçà",traditional:"‰∏≠Âçà",pinyin:"zh≈çng w«î",meaning:"noon; midday",audio:"audio/‰∏≠Âçà.mp3"},‰∏ãÂçà:{simplified:"‰∏ãÂçà",traditional:"‰∏ãÂçà",pinyin:"xi√† w«î",meaning:"afternoon",audio:"audio/‰∏ãÂçà.mp3"},ÂÇçÊôö:{simplified:"ÂÇçÊôö",traditional:"ÂÇçÊôö",pinyin:"b√†ng w«én",meaning:"evening; dusk",audio:"audio/ÂÇçÊôö.mp3"},Ëµ∑Â∫ä:{simplified:"Ëµ∑Â∫ä",traditional:"Ëµ∑Â∫ä",pinyin:"q«ê chu√°ng",meaning:"get out of bed; wake up",audio:"audio/Ëµ∑Â∫ä.mp3"},ÈóπÈíü:{simplified:"ÈóπÈíü",traditional:"È¨ßÈêò",pinyin:"n√†o zh≈çng",meaning:"alarm clock",audio:"audio/ÈóπÈíü.mp3"},Áà∏Áà∏:{simplified:"Áà∏Áà∏",traditional:"Áà∏Áà∏",pinyin:"b√† ba",meaning:"father; dad",audio:"audio/Áà∏Áà∏.mp3"},Â¶àÂ¶à:{simplified:"Â¶àÂ¶à",traditional:"Â™ΩÂ™Ω",pinyin:"mƒÅ ma",meaning:"mother; mom",audio:"audio/Â¶àÂ¶à.mp3"},Êù•Âà∞:{simplified:"Êù•Âà∞",traditional:"‰æÜÂà∞",pinyin:"l√°i d√†o",meaning:"arrive at; come to",audio:"audio/Êù•Âà∞.mp3"},Â≠¶Ê†°:{simplified:"Â≠¶Ê†°",traditional:"Â≠∏Ê†°",pinyin:"xu√© xi√†o",meaning:"school",audio:"audio/Â≠¶Ê†°.mp3"},Á§ºÂ†Ç:{simplified:"Á§ºÂ†Ç",traditional:"Á¶ÆÂ†Ç",pinyin:"l«ê t√°ng",meaning:"auditorium; hall",audio:"audio/Á§ºÂ†Ç.mp3"},ÈõÜÂêà:{simplified:"ÈõÜÂêà",traditional:"ÈõÜÂêà",pinyin:"j√≠ h√©",meaning:"gather; assemble",audio:"audio/ÈõÜÂêà.mp3"},ËÄÅÂ∏à:{simplified:"ËÄÅÂ∏à",traditional:"ËÄÅÂ∏´",pinyin:"l«éo shƒ´",meaning:"teacher",audio:"audio/ËÄÅÂ∏à.mp3"},Â∏¶ÁùÄ:{simplified:"Â∏¶ÁùÄ",traditional:"Â∏∂Ëëó",pinyin:"d√†i zhe",meaning:"bringing along; leading",audio:"audio/Â∏¶ÁùÄ.mp3"},ÂêåÂ≠¶‰ª¨:{simplified:"ÂêåÂ≠¶‰ª¨",traditional:"ÂêåÂ≠∏ÂÄë",pinyin:"t√≥ng xu√© men",meaning:"classmates",audio:"audio/ÂêåÂ≠¶‰ª¨.mp3"},Êñ∞Âä†Âù°:{simplified:"Êñ∞Âä†Âù°",traditional:"Êñ∞Âä†Âù°",pinyin:"xƒ´n jiƒÅ p≈ç",meaning:"Singapore",audio:"audio/Êñ∞Âä†Âù°.mp3"},Êª®Êµ∑Ëâ∫ÊúØ‰∏≠ÂøÉ:{simplified:"Êª®Êµ∑Ëâ∫ÊúØ‰∏≠ÂøÉ",traditional:"Êø±Êµ∑ËóùË°ì‰∏≠ÂøÉ",pinyin:"bƒ´n h«éi y√¨ sh√π zh≈çng xƒ´n",meaning:"Esplanade (arts centre)",audio:"audio/Êª®Êµ∑Ëâ∫ÊúØ‰∏≠ÂøÉ.mp3"},ÁîªÂ±ï:{simplified:"ÁîªÂ±ï",traditional:"Áï´Â±ï",pinyin:"hu√† zh«én",meaning:"art exhibition",audio:"audio/ÁîªÂ±ï.mp3"},ÈôÑËøë:{simplified:"ÈôÑËøë",traditional:"ÈôÑËøë",pinyin:"f√π j√¨n",meaning:"nearby; vicinity",audio:"audio/ÈôÑËøë.mp3"},ÁæéÂë≥:{simplified:"ÁæéÂë≥",traditional:"ÁæéÂë≥",pinyin:"mƒõi w√®i",meaning:"delicious",audio:"audio/ÁæéÂë≥.mp3"},È£üÁâ©:{simplified:"È£üÁâ©",traditional:"È£üÁâ©",pinyin:"sh√≠ w√π",meaning:"food",audio:"audio/È£üÁâ©.mp3"},ÂèÇËßÇ:{simplified:"ÂèÇËßÇ",traditional:"ÂèÉËßÄ",pinyin:"cƒÅn guƒÅn",meaning:"visit (a place)",audio:"audio/ÂèÇËßÇ.mp3"},Êª®Êµ∑Êπæ:{simplified:"Êª®Êµ∑Êπæ",traditional:"Êø±Êµ∑ÁÅ£",pinyin:"bƒ´n h«éi wƒÅn",meaning:"Marina Bay",audio:"audio/Êª®Êµ∑Êπæ.mp3"},È±ºÂ∞æÁãÆ:{simplified:"È±ºÂ∞æÁãÆ",traditional:"È≠öÂ∞æÁçÖ",pinyin:"y√∫ wƒõi shƒ´",meaning:"Merlion",audio:"audio/È±ºÂ∞æÁãÆ.mp3"},ÂÖ¨Âõ≠:{simplified:"ÂÖ¨Âõ≠",traditional:"ÂÖ¨Âúí",pinyin:"g≈çng yu√°n",meaning:"park",audio:"audio/ÂÖ¨Âõ≠.mp3"},Â§úÂ∏Ç:{simplified:"Â§úÂ∏Ç",traditional:"Â§úÂ∏Ç",pinyin:"y√® sh√¨",meaning:"night market",audio:"audio/Â§úÂ∏Ç.mp3"},ÂìÅÂ∞ù:{simplified:"ÂìÅÂ∞ù",traditional:"ÂìÅÂöê",pinyin:"p«ên ch√°ng",meaning:"taste; sample",audio:"audio/ÂìÅÂ∞ù.mp3"},ÁæéÈ£ü:{simplified:"ÁæéÈ£ü",traditional:"ÁæéÈ£ü",pinyin:"mƒõi sh√≠",meaning:"delicious food; cuisine",audio:"audio/ÁæéÈ£ü.mp3"},‰ªäÂ§©:{simplified:"‰ªäÂ§©",traditional:"‰ªäÂ§©",pinyin:"jƒ´n tiƒÅn",meaning:"today",audio:"audio/‰ªäÂ§©.mp3"},ÁâπÂà´:{simplified:"ÁâπÂà´",traditional:"ÁâπÂà•",pinyin:"t√® bi√©",meaning:"special; especially",audio:"audio/ÁâπÂà´.mp3"},Êó•Â≠ê:{simplified:"Êó•Â≠ê",traditional:"Êó•Â≠ê",pinyin:"r√¨ zi",meaning:"day; date",audio:"audio/Êó•Â≠ê.mp3"},ÂÅáÊúü:{simplified:"ÂÅáÊúü",traditional:"ÂÅáÊúü",pinyin:"ji√† qƒ´",meaning:"holiday; vacation",audio:"audio/ÂÅáÊúü.mp3"},Â∞è‰∏Ω:{simplified:"Â∞è‰∏Ω",traditional:"Â∞èÈ∫ó",pinyin:"xi«éo l√¨",meaning:"Xiao Li (girl's name)",audio:"audio/Â∞è‰∏Ω.mp3"},Âà∑Áâô:{simplified:"Âà∑Áâô",traditional:"Âà∑Áâô",pinyin:"shuƒÅ y√°",meaning:"brush teeth",audio:"audio/Âà∑Áâô.mp3"},ÊâÄÊúâ:{simplified:"ÊâÄÊúâ",traditional:"ÊâÄÊúâ",pinyin:"su«í y«íu",meaning:"all; every",audio:"audio/ÊâÄÊúâ.mp3"},Â§ñÂá∫:{simplified:"Â§ñÂá∫",traditional:"Â§ñÂá∫",pinyin:"w√†i ch≈´",meaning:"go out; outing",audio:"audio/Â§ñÂá∫.mp3"},ÈúÄË¶Å:{simplified:"ÈúÄË¶Å",traditional:"ÈúÄË¶Å",pinyin:"x≈´ y√†o",meaning:"need; require",audio:"audio/ÈúÄË¶Å.mp3"},Áî®ÂìÅ:{simplified:"Áî®ÂìÅ",traditional:"Áî®ÂìÅ",pinyin:"y√≤ng p«ên",meaning:"supplies; articles",audio:"audio/Áî®ÂìÅ.mp3"},ÂáÜÂ§á:{simplified:"ÂáÜÂ§á",traditional:"Ê∫ñÂÇô",pinyin:"zh«în b√®i",meaning:"prepare; get ready",audio:"audio/ÂáÜÂ§á.mp3"},ÂÆ∂‰∫∫:{simplified:"ÂÆ∂‰∫∫",traditional:"ÂÆ∂‰∫∫",pinyin:"jiƒÅ r√©n",meaning:"family members",audio:"audio/ÂÆ∂‰∫∫.mp3"},‰∏ÄËµ∑:{simplified:"‰∏ÄËµ∑",traditional:"‰∏ÄËµ∑",pinyin:"yƒ´ q«ê",meaning:"together",audio:"audio/‰∏ÄËµ∑.mp3"},‰∏úÊµ∑Â≤∏ÂÖ¨Âõ≠:{simplified:"‰∏úÊµ∑Â≤∏ÂÖ¨Âõ≠",traditional:"Êù±Êµ∑Â≤∏ÂÖ¨Âúí",pinyin:"d≈çng h«éi √†n g≈çng yu√°n",meaning:"East Coast Park",audio:"audio/‰∏úÊµ∑Â≤∏ÂÖ¨Âõ≠.mp3"},Âá∫Âèë:{simplified:"Âá∫Âèë",traditional:"Âá∫Áôº",pinyin:"ch≈´ fƒÅ",meaning:"set off; depart",audio:"audio/Âá∫Âèë.mp3"},‰∏Ä‰ºöÂÑø:{simplified:"‰∏Ä‰ºöÂÑø",traditional:"‰∏ÄÊúÉÂÖí",pinyin:"yƒ´ hu√¨r",meaning:"a while; a moment",audio:"audio/‰∏Ä‰ºöÂÑø.mp3"},ËÑöË∏èËΩ¶:{simplified:"ËÑöË∏èËΩ¶",traditional:"ËÖ≥Ë∏èËªä",pinyin:"ji«éo t√† chƒì",meaning:"bicycle",audio:"audio/ËÑöË∏èËΩ¶.mp3"},Ê∫úÊªëËΩÆ:{simplified:"Ê∫úÊªëËΩÆ",traditional:"Ê∫úÊªëËº™",pinyin:"li≈´ hu√° l√∫n",meaning:"roller skating; rollerblading",audio:"audio/Ê∫úÊªëËΩÆ.mp3"},ÂºÄÂøÉ:{simplified:"ÂºÄÂøÉ",traditional:"ÈñãÂøÉ",pinyin:"kƒÅi xƒ´n",meaning:"happy; joyful",audio:"audio/ÂºÄÂøÉ.mp3"},ÊûÅ‰∫Ü:{simplified:"ÊûÅ‰∫Ü",traditional:"Ê•µ‰∫Ü",pinyin:"j√≠ le",meaning:"extremely; to the utmost",audio:"audio/ÊûÅ‰∫Ü.mp3"},ÊëÜÊîæ:{simplified:"ÊëÜÊîæ",traditional:"Êì∫Êîæ",pinyin:"b«éi f√†ng",meaning:"arrange; set out",audio:"audio/ÊëÜÊîæ.mp3"},Â∏≠Â≠ê:{simplified:"Â∏≠Â≠ê",traditional:"Â∏≠Â≠ê",pinyin:"x√≠ zi",meaning:"mat; straw mat",audio:"audio/Â∏≠Â≠ê.mp3"},ÂºÄÂßã:{simplified:"ÂºÄÂßã",traditional:"ÈñãÂßã",pinyin:"kƒÅi sh«ê",meaning:"start; begin",audio:"audio/ÂºÄÂßã.mp3"},Ë∑üÁùÄ:{simplified:"Ë∑üÁùÄ",traditional:"Ë∑üËëó",pinyin:"gƒìn zhe",meaning:"follow; following",audio:"audio/Ë∑üÁùÄ.mp3"},Êµ∑Ëæπ:{simplified:"Êµ∑Ëæπ",traditional:"Êµ∑ÈÇä",pinyin:"h«éi biƒÅn",meaning:"seaside; beach",audio:"audio/Êµ∑Ëæπ.mp3"},ÈíìÈ±º:{simplified:"ÈíìÈ±º",traditional:"Èá£È≠ö",pinyin:"di√†o y√∫",meaning:"go fishing",audio:"audio/ÈíìÈ±º.mp3"},Â§™Èò≥:{simplified:"Â§™Èò≥",traditional:"Â§™ÈôΩ",pinyin:"t√†i y√°ng",meaning:"sun",audio:"audio/Â§™Èò≥.mp3"},‰∏ãÂ±±:{simplified:"‰∏ãÂ±±",traditional:"‰∏ãÂ±±",pinyin:"xi√† shƒÅn",meaning:"go down a mountain; set (sun)",audio:"audio/‰∏ãÂ±±.mp3"},‰æù‰æù‰∏çËàç:{simplified:"‰æù‰æù‰∏çËàç",traditional:"‰æù‰æù‰∏çÊç®",pinyin:"yƒ´ yƒ´ b√π shƒõ",meaning:"reluctant to part; lingering",audio:"audio/‰æù‰æù‰∏çËàç.mp3"},ÂõûÂÆ∂:{simplified:"ÂõûÂÆ∂",traditional:"ÂõûÂÆ∂",pinyin:"hu√≠ jiƒÅ",meaning:"go home; return home",audio:"audio/ÂõûÂÆ∂.mp3"},ËøáÂæó:{simplified:"ËøáÂæó",traditional:"ÈÅéÂæó",pinyin:"gu√≤ de",meaning:"to pass (time); to live",audio:"audio/ËøáÂæó.mp3"},ÁúüÂø´:{simplified:"ÁúüÂø´",traditional:"ÁúüÂø´",pinyin:"zhƒìn ku√†i",meaning:"really fast",audio:"audio/ÁúüÂø´.mp3"},Â§©:{simplified:"Â§©",traditional:"Â§©",pinyin:"tiƒÅn",meaning:"day; sky"},Ëøò:{simplified:"Ëøò",traditional:"ÈÇÑ",pinyin:"h√°i",meaning:"still; also"},Ê≤°:{simplified:"Ê≤°",traditional:"Ê≤í",pinyin:"m√©i",meaning:"not; have not"},‰∫Æ:{simplified:"‰∫Æ",traditional:"‰∫Æ",pinyin:"li√†ng",meaning:"bright; light"},Êàë:{simplified:"Êàë",traditional:"Êàë",pinyin:"w«í",meaning:"I; me"},Â∞±:{simplified:"Â∞±",traditional:"Â∞±",pinyin:"ji√π",meaning:"then; just"},‰∫Ü:{simplified:"‰∫Ü",traditional:"‰∫Ü",pinyin:"le",meaning:"particle (completed action)"},‰∏ç:{simplified:"‰∏ç",traditional:"‰∏ç",pinyin:"b√π",meaning:"not; no"},Á≠â:{simplified:"Á≠â",traditional:"Á≠â",pinyin:"dƒõng",meaning:"wait; and so on"},Âìç:{simplified:"Âìç",traditional:"Èüø",pinyin:"xi«éng",meaning:"sound; ring",audio:"audio/Âìç.mp3"},‰πü:{simplified:"‰πü",traditional:"‰πü",pinyin:"yƒõ",meaning:"also; too"},Áî®:{simplified:"Áî®",traditional:"Áî®",pinyin:"y√≤ng",meaning:"use"},Âè´:{simplified:"Âè´",traditional:"Âè´",pinyin:"ji√†o",meaning:"call; shout",audio:"audio/Âè´.mp3"},Âàö:{simplified:"Âàö",traditional:"Ââõ",pinyin:"gƒÅng",meaning:"just; barely"},ÁöÑ:{simplified:"ÁöÑ",traditional:"ÁöÑ",pinyin:"de",meaning:"particle (possessive)"},Âà∞:{simplified:"Âà∞",traditional:"Âà∞",pinyin:"d√†o",meaning:"arrive; to"},Âéª:{simplified:"Âéª",traditional:"Âéª",pinyin:"q√π",meaning:"go"},Áúã:{simplified:"Áúã",traditional:"Áúã",pinyin:"k√†n",meaning:"look; see; watch"},Âú®:{simplified:"Âú®",traditional:"Âú®",pinyin:"z√†i",meaning:"at; in"},ÂêÉ:{simplified:"ÂêÉ",traditional:"ÂêÉ",pinyin:"chƒ´",meaning:"eat"},‰ª¨:{simplified:"‰ª¨",traditional:"ÂÄë",pinyin:"men",meaning:"plural suffix (for people)"},ÈÄõ:{simplified:"ÈÄõ",traditional:"ÈÄõ",pinyin:"gu√†ng",meaning:"stroll; browse",audio:"audio/ÈÄõ.mp3"},Áúü:{simplified:"Áúü",traditional:"Áúü",pinyin:"zhƒìn",meaning:"really; truly"},ÊòØ:{simplified:"ÊòØ",traditional:"ÊòØ",pinyin:"sh√¨",meaning:"is; am; are"},‰∏Ä:{simplified:"‰∏Ä",traditional:"‰∏Ä",pinyin:"yƒ´",meaning:"one"},‰∏™:{simplified:"‰∏™",traditional:"ÂÄã",pinyin:"g√®",meaning:"measure word"},Èáå:{simplified:"Èáå",traditional:"Ë£°",pinyin:"l«ê",meaning:"inside"},Êää:{simplified:"Êää",traditional:"Êää",pinyin:"b«é",meaning:"particle (object marker)"},ÈÉΩ:{simplified:"ÈÉΩ",traditional:"ÈÉΩ",pinyin:"d≈çu",meaning:"all; both"},Â•Ω:{simplified:"Â•Ω",traditional:"Â•Ω",pinyin:"h«éo",meaning:"good; well"},Âíå:{simplified:"Âíå",traditional:"Âíå",pinyin:"h√©",meaning:"and; with"},Âêë:{simplified:"Âêë",traditional:"Âêë",pinyin:"xi√†ng",meaning:"towards"},‰ªñ:{simplified:"‰ªñ",traditional:"‰ªñ",pinyin:"tƒÅ",meaning:"he; him"},‰ªñ‰ª¨:{simplified:"‰ªñ‰ª¨",traditional:"‰ªñÂÄë",pinyin:"tƒÅ men",meaning:"they; them"},È™ë:{simplified:"È™ë",traditional:"È®é",pinyin:"q√≠",meaning:"ride (bicycle/horse)",audio:"audio/È™ë.mp3"},‰∏ä:{simplified:"‰∏ä",traditional:"‰∏ä",pinyin:"sh√†ng",meaning:"on; above; up"},‰æø:{simplified:"‰æø",traditional:"‰æø",pinyin:"bi√†n",meaning:"then; thereupon",audio:"audio/‰æø.mp3"},ÁùÄ:{simplified:"ÁùÄ",traditional:"Ëëó",pinyin:"zhe",meaning:"particle (continuous action)"},Âø´:{simplified:"Âø´",traditional:"Âø´",pinyin:"ku√†i",meaning:"fast; quick; soon"},Âú∞:{simplified:"Âú∞",traditional:"Âú∞",pinyin:"de/d√¨",meaning:"particle (adverbial) / earth"},Ëøô:{simplified:"Ëøô",traditional:"ÈÄô",pinyin:"zh√®",meaning:"this"},‰∏çÁ≠â:{simplified:"‰∏çÁ≠â",traditional:"‰∏çÁ≠â",pinyin:"b√π dƒõng",meaning:"not wait for"},‰∏çÁî®:{simplified:"‰∏çÁî®",traditional:"‰∏çÁî®",pinyin:"b√π y√≤ng",meaning:"need not; don't need to"},Êàë‰ª¨:{simplified:"Êàë‰ª¨",traditional:"ÊàëÂÄë",pinyin:"w«í men",meaning:"we; us"},È±ºÂ∞æÁãÆÂÖ¨Âõ≠:{simplified:"È±ºÂ∞æÁãÆÂÖ¨Âõ≠",traditional:"È≠öÂ∞æÁçÖÂÖ¨Âúí",pinyin:"y√∫ wƒõi shƒ´ g≈çng yu√°n",meaning:"Merlion Park"},ÂáÜÂ§áÂ•Ω:{simplified:"ÂáÜÂ§áÂ•Ω",traditional:"Ê∫ñÂÇôÂ•Ω",pinyin:"zh«în b√®i h«éo",meaning:"prepared; ready"},ÂºÄÂøÉÊûÅ‰∫Ü:{simplified:"ÂºÄÂøÉÊûÅ‰∫Ü",traditional:"ÈñãÂøÉÊ•µ‰∫Ü",pinyin:"kƒÅi xƒ´n j√≠ le",meaning:"extremely happy"}},nn=[{id:1,title:"‰∏Ä„ÄÅÂ§©ËøòÊ≤°‰∫Æ„ÄÅÂ§©ÂàöÂàö‰∫Æ„ÄÅ‰∏äÂçà„ÄÅ‰∏≠Âçà„ÄÅ‰∏ãÂçà„ÄÅÂÇçÊôö",sequenceWords:"Â§©ËøòÊ≤°‰∫Æ„ÄÅÂ§©ÂàöÂàö‰∫Æ„ÄÅ‰∏äÂçà„ÄÅ‰∏≠Âçà„ÄÅ‰∏ãÂçà„ÄÅÂÇçÊôö",sentences:[{text:"‰∏Ä„ÄÅÂ§©ËøòÊ≤°‰∫Æ„ÄÅÂ§©ÂàöÂàö‰∫Æ„ÄÅ‰∏äÂçà„ÄÅ‰∏≠Âçà„ÄÅ‰∏ãÂçà„ÄÅÂÇçÊôö",start:0,end:4.96,isTitle:!0},{text:"Â§©ËøòÊ≤°‰∫ÆÔºåÊàëÂ∞±Ëµ∑Â∫ä‰∫Ü„ÄÇ",start:4.96,end:9.76,isSequenceWord:!0},{text:"‰∏çÁ≠âÈóπÈíüÂìçÔºå‰πü‰∏çÁî®Áà∏Áà∏Â¶àÂ¶àÂè´„ÄÇ",start:9.76,end:13.42},{text:"Â§©ÂàöÂàö‰∫ÆÔºåÊàëÂ∞±Êù•Âà∞Â≠¶Ê†°Á§ºÂ†ÇÈõÜÂêà„ÄÇ",start:13.42,end:18.26,isSequenceWord:!0},{text:"‰∏äÂçàÔºåËÄÅÂ∏àÂ∏¶ÁùÄÂêåÂ≠¶‰ª¨Âà∞‰∫ÜÊñ∞Âä†Âù°Êª®Êµ∑Ëâ∫ÊúØ‰∏≠ÂøÉÂéªÁúãÁîªÂ±ï„ÄÇ",start:18.26,end:25.32,isSequenceWord:!0},{text:"‰∏≠ÂçàÔºåÊàë‰ª¨Â∞±Âú®ÈôÑËøëÂêÉ‰∫ÜÁæéÂë≥ÁöÑÈ£üÁâ©„ÄÇ",start:25.32,end:30.52,isSequenceWord:!0},{text:"‰∏ãÂçàÔºåÊàë‰ª¨ÂéªÂèÇËßÇ‰∫ÜÊª®Êµ∑ÊπæÈ±ºÂ∞æÁãÆÂÖ¨Âõ≠„ÄÇ",start:30.52,end:36.08,isSequenceWord:!0},{text:"ÂÇçÊôöÔºåÊàë‰ª¨ÂéªÈÄõ‰∫ÜÂ§úÂ∏Ç„ÄÅËøòÂìÅÂ∞ù‰∫ÜÁæéÈ£ü„ÄÇ",start:36.08,end:41,isSequenceWord:!0},{text:"‰ªäÂ§©ÁúüÊòØ‰∏Ä‰∏™ÁâπÂà´ÁöÑÊó•Â≠êÔºÅ",start:41,end:45.14}]},{id:2,title:"‰∫å„ÄÅÂ§©ËøòÊ≤°‰∫Æ„ÄÅÂ§©ÂàöÂàö‰∫Æ„ÄÅ‰∏äÂçà„ÄÅ‰∏≠Âçà„ÄÅ‰∏ãÂçà„ÄÅÂÇçÊôö",sequenceWords:"Â§©ËøòÊ≤°‰∫Æ„ÄÅÂ§©ÂàöÂàö‰∫Æ„ÄÅ‰∏äÂçà„ÄÅ‰∏≠Âçà„ÄÅ‰∏ãÂçà„ÄÅÂÇçÊôö",sentences:[{text:"‰∫å„ÄÅÂ§©ËøòÊ≤°‰∫Æ„ÄÅÂ§©ÂàöÂàö‰∫Æ„ÄÅ‰∏äÂçà„ÄÅ‰∏≠Âçà„ÄÅ‰∏ãÂçà„ÄÅÂÇçÊôö",start:45.14,end:46.5,isTitle:!0},{text:"ÂÅáÊúüÈáåÁöÑ‰∏ÄÂ§©ÔºåÂ§©ËøòÊ≤°‰∫ÆÔºåÂ∞è‰∏ΩÂ∞±Ëµ∑Â∫äÂà∑Áâô„ÄÇ",start:46.5,end:52.74,isSequenceWord:!0},{text:"Â§©ÂàöÂàö‰∫ÆÔºåÂ∞è‰∏ΩÂ∞±ÊääÊâÄÊúâÂ§ñÂá∫ÈúÄË¶ÅÁöÑÁî®ÂìÅÈÉΩÂáÜÂ§áÂ•Ω‰∫Ü„ÄÇ",start:52.74,end:60.14,isSequenceWord:!0},{text:"‰∏äÂçàÔºåÂ∞è‰∏ΩÂíåÂÆ∂‰∫∫‰∏ÄËµ∑Âêë‰∏úÊµ∑Â≤∏ÂÖ¨Âõ≠Âá∫Âèë‰∫Ü„ÄÇ",start:60.14,end:66.32,isSequenceWord:!0},{text:"‰ªñ‰ª¨‰∏Ä‰ºöÂÑøÈ™ëËÑöË∏èËΩ¶Ôºå‰∏Ä‰ºöÂÑøÊ∫úÊªëËΩÆÔºåÂºÄÂøÉÊûÅ‰∫ÜÔºÅ",start:66.32,end:72.82},{text:"‰∏≠ÂçàÔºåÂ∞è‰∏ΩÂíåÂÆ∂‰∫∫ÊääÂáÜÂ§áÂ•ΩÁöÑÈ£üÁâ©ÊëÜÊîæÂú®Â∏≠Â≠ê‰∏äÔºå",start:72.82,end:79.34,isSequenceWord:!0},{text:"ÂºÄÂßãÂêÉ‰∫ÜËµ∑Êù•„ÄÇ",start:79.34,end:81.24},{text:"‰∏ãÂçàÔºåÂ∞è‰∏Ω‰æøË∑üÁùÄÁà∏Áà∏Âà∞ÈôÑËøëÁöÑÊµ∑ËæπÂéªÈíìÈ±º„ÄÇ",start:81.24,end:87.02,isSequenceWord:!0},{text:"ÂÇçÊôöÔºåÂ§™Èò≥Âø´‰∏ãÂ±±‰∫ÜÔºå",start:87.02,end:90.94,isSequenceWord:!0},{text:"Â∞è‰∏Ω‰æøÂíåÂÆ∂‰∫∫‰æù‰æù‰∏çËàçÂú∞ÂõûÂÆ∂‰∫Ü„ÄÇ",start:90.94,end:94.88},{text:"Ëøô‰∏ÄÂ§©ËøáÂæóÁúüÂø´ÂïäÔºÅ",start:94.88,end:97.7}]}],$i=nn.flatMap(n=>n.sentences.map((i,t)=>({...i,sectionId:n.id,sentenceIndex:t})));function Fi({word:n,onClose:i,onPlayAudio:t}){return n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"popup-overlay show",onClick:i}),e.jsxs("div",{className:"word-popup show",children:[e.jsx("div",{className:"popup-traditional",children:n.traditional||""}),e.jsxs("div",{className:"popup-simplified",children:["(",n.simplified||"",")"]}),e.jsx("div",{className:"popup-pinyin",children:n.pinyin||""}),e.jsx("div",{className:"popup-meaning",children:n.meaning||""}),e.jsx("button",{className:"popup-audio-btn",onClick:t,children:"üîä Âê¨ÂèëÈü≥"}),e.jsx("br",{}),e.jsx("button",{className:"popup-close",onClick:i,children:"ÂÖ≥Èó≠"})]})]}):null}function Ui(){const[n,i]=l.useState(!1),[t,a]=l.useState(null),[r,o]=l.useState(null),d=l.useRef(null),c=l.useRef([]);l.useEffect(()=>{const m=d.current;if(!m)return;const b=()=>{const y=m.currentTime,C=$i.find(R=>y>=R.start&&y<R.end);if(a(C||null),C){const R=C.sectionId-1,M=c.current[R];if(M){const L=M.getBoundingClientRect();(L.top<100||L.bottom>window.innerHeight-100)&&M.scrollIntoView({behavior:"smooth",block:"center"})}}},j=()=>{a(null),i(!1)},x=()=>{i(!1)},h=()=>{i(!0)};return m.addEventListener("timeupdate",b),m.addEventListener("ended",j),m.addEventListener("pause",x),m.addEventListener("play",h),()=>{m.removeEventListener("timeupdate",b),m.removeEventListener("ended",j),m.removeEventListener("pause",x),m.removeEventListener("play",h)}},[]);const g=()=>{d.current&&(n?d.current.pause():(d.current.currentTime=0,d.current.play()))},p=l.useCallback(m=>{if(se[m]){o(se[m]);return}for(let b=m.length;b>=1;b--)for(let j=0;j<=m.length-b;j++){const x=m.substring(j,j+b);if(se[x]){o(se[x]);return}}o({simplified:m,traditional:m,pinyin:"(ÁÇπÂáªÂê¨ÂèëÈü≥)",meaning:"(Êü•ËØ¢‰∏≠...)"})},[]),f=l.useCallback(()=>{if(!r)return;const m=r.audio||`audio/${r.simplified}.mp3`;new Audio("/"+m).play().catch(()=>{const j=new SpeechSynthesisUtterance(r.simplified);j.lang="zh-CN",j.rate=.7,speechSynthesis.speak(j)})},[r]),u=l.useCallback(()=>{o(null)},[]),s=(m,b)=>(t==null?void 0:t.sectionId)===m&&(t==null?void 0:t.sentenceIndex)===b,w=l.useCallback(m=>{const b=[];let j=0;for(;j<m.length;){let x=!1;for(let h=Math.min(7,m.length-j);h>=2;h--){const y=m.substring(j,j+h);if(se[y]){b.push(y),j+=h,x=!0;break}}x||(b.push(m[j]),j++)}return b},[]),v=(m,b,j,x)=>{const h=w(m);return e.jsx("span",{className:T(x?"reading-title-text":"reading-sentence",b&&"highlighted",j&&!x&&"sequence-word"),children:h.map((y,C)=>e.jsx("span",{className:T("clickable-char",y.length>1&&se[y]&&"clickable-word"),onClick:()=>p(y),children:y},C))})};return e.jsxs("div",{className:"reading-sync-page",children:[e.jsxs("div",{className:"lesson-header lesson-header-blue",children:[e.jsx("h1",{children:"„ÄäËØ¥‰∏ÄËØ¥‰∏ÄÂ§©ÁöÑÊ¥ªÂä®„Äã"}),e.jsx("div",{className:"lesson-subtitle",children:"Describe a Day's Activities - Reading Practice"})]}),e.jsxs("div",{className:"content-container",children:[e.jsxs("div",{className:"audio-player-card audio-player-sticky",children:[e.jsx("audio",{ref:d,src:"/audio/p3hcl_reading_6.mp4",preload:"auto"}),e.jsx("button",{className:T("audio-play-btn-large",n&&"playing"),onClick:g,children:n?"‚è∏Ô∏è":"‚ñ∂Ô∏è"}),e.jsx("p",{className:"audio-hint",children:n?"Ê≠£Âú®Êí≠Êîæ... Âè•Â≠ê‰ºöËá™Âä®È´ò‰∫Æ":"ÁÇπÂáªÊí≠ÊîæÂÖ®ÊñáÊúóËØª"})]}),nn.map((m,b)=>e.jsxs("div",{ref:j=>{c.current[b]=j},className:"reading-card",children:[e.jsx("h2",{className:"section-title-reading",children:v(m.sentences[0].text,s(m.id,0),!1,!0)}),e.jsxs("div",{className:"sequence-words-box",children:[e.jsx("span",{className:"sequence-label",children:"È°∫Â∫èËØçÔºö"}),e.jsx("span",{className:"clickable-text",onClick:()=>p(m.sequenceWords),children:m.sequenceWords})]}),e.jsx("div",{className:"reading-content",children:m.sentences.slice(1).map((j,x)=>e.jsx("span",{children:v(j.text,s(m.id,x+1),j.isSequenceWord)},x))})]},m.id)),e.jsx("div",{className:"reading-instruction",children:e.jsx("p",{children:"üí° ÁÇπÂáª‰ªª‰ΩïÂ≠óËØçÊü•ÁúãÁπÅ‰Ωì„ÄÅÊãºÈü≥ÂíåËã±ÊñáÊÑèÊÄù"})}),e.jsxs("div",{className:"reading-tips",children:[e.jsx("h3",{children:"Â≠¶‰π†ÊèêÁ§∫"}),e.jsxs("ul",{children:[e.jsx("li",{children:"ÁÇπÂáª ‚ñ∂Ô∏è ‰ªéÂ§¥Êí≠ÊîæÂÖ®ÈÉ®‰∏§ÊÆµÊúóËØª"}),e.jsxs("li",{children:["ÊúóËØªÊó∂ÔºåÂΩìÂâçÂè•Â≠ê‰ºö",e.jsx("span",{className:"highlighted-demo",children:"È´ò‰∫ÆÊòæÁ§∫"})]}),e.jsx("li",{children:"ÁÇπÂáª‰ªª‰ΩïÂ≠óËØçÊü•ÁúãËØ¶ÁªÜ‰ø°ÊÅØ"}),e.jsxs("li",{children:["Ê≥®ÊÑè",e.jsx("span",{className:"sequence-word-inline",children:"Êó∂Èó¥È°∫Â∫èËØç"}),"ÁöÑ‰ΩøÁî®"]})]})]})]}),r&&e.jsx(Fi,{word:r,onClose:u,onPlayAudio:f})]})}const Bi=q("/koushi-family-cohesion")({component:Ji}),je=[{chinese:"ËÆ∞Âæó",pinyin:"j√¨ de",english:"remember"},{chinese:"Âú∞ÁÇπ",pinyin:"d√¨ di«én",english:"location"},{chinese:"Êµ∑Ëæπ",pinyin:"h«éi biƒÅn",english:"seaside"},{chinese:"Ëµ∑Âõ†",pinyin:"q«ê yƒ´n",english:"reason/cause"},{chinese:"Â∫¶ÂÅá",pinyin:"d√π ji√†",english:"vacation"},{chinese:"‰∫∫Áâ©",pinyin:"r√©n w√π",english:"people/characters"},{chinese:"Á´ãÂàª",pinyin:"l√¨ k√®",english:"immediately"},{chinese:"ÊãçÊâã",pinyin:"pƒÅi sh«íu",english:"clap hands"},{chinese:"Ê¨¢Âëº",pinyin:"huƒÅn h≈´",english:"cheer"},{chinese:"ÂáÜÂ§á",pinyin:"zh«în b√®i",english:"prepare"},{chinese:"Â∞±Áª™",pinyin:"ji√π x√π",english:"ready"},{chinese:"ÂÖ¥Ëá¥ÂãÉÂãÉ",pinyin:"x√¨ng zh√¨ b√≥ b√≥",english:"enthusiastic"},{chinese:"ÁªèËøá",pinyin:"jƒ´ng gu√≤",english:"experience/process"},{chinese:"Ëµ∂Á¥ß",pinyin:"g«én j«ên",english:"hurry"},{chinese:"Êç¢‰∏ä",pinyin:"hu√†n shang",english:"change into"},{chinese:"ÂëºÁùÄ",pinyin:"h≈´ zhe",english:"singing/humming"},{chinese:"Ê¨¢Âø´",pinyin:"huƒÅn ku√†i",english:"cheerful"},{chinese:"Ê≠åÂÑø",pinyin:"gƒì r",english:"song"}],we=[{start:9.15,end:17.59,chinese:[{word:"Âú®",pinyin:"z√†i",meaning:"at/in"},{word:"ÂõæÁâá",pinyin:"t√∫ pi√†n",meaning:"picture"},{word:"‰∏≠",pinyin:"zh≈çng",meaning:"middle/in"},{text:"Ôºå"},{word:"Êàë",pinyin:"w«í",meaning:"I"},{word:"ÁúãÂà∞",pinyin:"k√†n d√†o",meaning:"see"},{word:"‰∏Ä‰∏™",pinyin:"yƒ´ g√®",meaning:"one"},{word:"Èò≥ÂÖâÊôÆÁÖß",pinyin:"y√°ng guƒÅng p«î zh√†o",meaning:"sunny"},{word:"ÁöÑ",pinyin:"de",meaning:"(particle)"},{word:"‰∏äÂçà",pinyin:"sh√†ng w«î",meaning:"morning"},{text:"Ôºå"},{word:"Áà∏Áà∏",pinyin:"b√† ba",meaning:"dad"},{word:"È©æËΩ¶",pinyin:"ji√† chƒì",meaning:"drive"},{word:"Â∏¶ÁùÄ",pinyin:"d√†i zhe",meaning:"bringing"},{word:"ÂÖ®ÂÆ∂‰∫∫",pinyin:"qu√°n jiƒÅ r√©n",meaning:"whole family"},{word:"Âéª",pinyin:"q√π",meaning:"go"},{word:"Êµ∑Ëæπ",pinyin:"h«éi biƒÅn",meaning:"seaside"},{word:"ÈáéÈ§ê",pinyin:"yƒõ cƒÅn",meaning:"picnic"},{text:"„ÄÇ"}],english:"In the picture, I see a sunny morning where Dad drives the whole family to the beach for a picnic."},{start:18.63,end:27.59,chinese:[{word:"Êµ∑Ëæπ",pinyin:"h«éi biƒÅn",meaning:"seaside"},{word:"Êúâ",pinyin:"y«íu",meaning:"have/there is"},{word:"ÂæàÂ§ö",pinyin:"hƒõn du≈ç",meaning:"many"},{word:"‰∫∫",pinyin:"r√©n",meaning:"people"},{text:"Ôºå"},{word:"ÊúâÁöÑ",pinyin:"y«íu de",meaning:"some"},{word:"Âú®",pinyin:"z√†i",meaning:"at"},{word:"Ê∏∏Ê≥≥",pinyin:"y√≥u y«íng",meaning:"swim"},{text:"Ôºå"},{word:"ÊúâÁöÑ",pinyin:"y«íu de",meaning:"some"},{word:"Âú®",pinyin:"z√†i",meaning:"at"},{word:"ÊôíÂ§™Èò≥",pinyin:"sh√†i t√†i y√°ng",meaning:"sunbathe"},{text:"Ôºå"},{word:"ÊúâÁöÑ",pinyin:"y«íu de",meaning:"some"},{word:"Âú®",pinyin:"z√†i",meaning:"at"},{word:"Áé©Ê∏∏Êàè",pinyin:"w√°n y√≥u x√¨",meaning:"play games"},{text:"Ôºå"},{word:"ÂçÅÂàÜ",pinyin:"sh√≠ fƒìn",meaning:"very"},{word:"ÁÉ≠Èóπ",pinyin:"r√® nao",meaning:"lively"},{text:"„ÄÇ"}],english:"There are many people at the beach - some swimming, some sunbathing, some playing games - it's very lively."},{start:28.25,end:38.85,chinese:[{word:"Áà∏Áà∏Â¶àÂ¶à",pinyin:"b√† ba mƒÅ ma",meaning:"parents"},{word:"ÂÖà",pinyin:"xiƒÅn",meaning:"first"},{word:"Èì∫Â•Ω",pinyin:"p≈´ h«éo",meaning:"lay out"},{word:"Â∏≠Â≠ê",pinyin:"x√≠ zi",meaning:"mat"},{text:"Ôºå"},{word:"ÂÜç",pinyin:"z√†i",meaning:"then"},{word:"ÊëÜ‰∏ä",pinyin:"b«éi shang",meaning:"arrange"},{word:"È£üÁâ©",pinyin:"sh√≠ w√π",meaning:"food"},{text:"Ôºå"},{word:"ÊúÄÂêé",pinyin:"zu√¨ h√≤u",meaning:"finally"},{word:"‰ªñ‰ª¨",pinyin:"tƒÅ men",meaning:"they"},{word:"‰æø",pinyin:"bi√†n",meaning:"then"},{word:"ÂùêÂú®",pinyin:"zu√≤ z√†i",meaning:"sit on"},{word:"Â∏≠Â≠ê‰∏ä",pinyin:"x√≠ zi sh√†ng",meaning:"on the mat"},{word:"‰∏ÄËæπ",pinyin:"yƒ´ biƒÅn",meaning:"while"},{word:"ÊãçÁÖß",pinyin:"pƒÅi zh√†o",meaning:"take photos"},{word:"‰∏ÄËæπ",pinyin:"yƒ´ biƒÅn",meaning:"while"},{word:"Ë∞àÂ§©",pinyin:"t√°n tiƒÅn",meaning:"chat"},{text:"„ÄÇ"}],english:"Mom and Dad first lay out the mat, then arrange the food, and finally they sit on the mat chatting while taking photos."},{start:39.37,end:47.69,chinese:[{word:"Âì•Âì•",pinyin:"gƒì ge",meaning:"older brother"},{word:"Âíå",pinyin:"h√©",meaning:"and"},{word:"Â¶πÂ¶π",pinyin:"m√®i mei",meaning:"younger sister"},{word:"Âàô",pinyin:"z√©",meaning:"then/while"},{word:"Ë∑ëÂà∞",pinyin:"p«éo d√†o",meaning:"run to"},{word:"Ê≤ôÊª©‰∏ä",pinyin:"shƒÅ tƒÅn sh√†ng",meaning:"on the beach"},{word:"Áé©",pinyin:"w√°n",meaning:"play"},{word:"ÊâîÈ£ûÁõò",pinyin:"rƒìng fƒìi p√°n",meaning:"frisbee"},{word:"ÁöÑ",pinyin:"de",meaning:"(particle)"},{word:"Ê∏∏Êàè",pinyin:"y√≥u x√¨",meaning:"game"},{text:"Ôºå"},{word:"Áé©Âæó",pinyin:"w√°n de",meaning:"having fun"},{word:"ÂæàÂºÄÂøÉ",pinyin:"hƒõn kƒÅi xƒ´n",meaning:"very happy"},{text:"„ÄÇ"}],english:"The older brother and younger sister run to the beach to play frisbee, having a lot of fun."},{start:48.58,end:57.99,chinese:[{word:"Âà∞‰∫Ü",pinyin:"d√†o le",meaning:"arrived/reached"},{word:"‰∏ãÂçà",pinyin:"xi√† w«î",meaning:"afternoon"},{text:"Ôºå"},{word:"Â§©Ê∞î",pinyin:"tiƒÅn q√¨",meaning:"weather"},{word:"ÂèòÂæó",pinyin:"bi√†n de",meaning:"become"},{word:"ÂçÅÂàÜ",pinyin:"sh√≠ fƒìn",meaning:"very"},{word:"ÁÇéÁÉ≠",pinyin:"y√°n r√®",meaning:"hot"},{text:"Ôºå"},{word:"Â§ßÂÆ∂",pinyin:"d√† jiƒÅ",meaning:"everyone"},{word:"‰æø",pinyin:"bi√†n",meaning:"then"},{word:"‰∏ÄËµ∑",pinyin:"yƒ´ q«ê",meaning:"together"},{word:"Êî∂Êãæ‰∏úË•ø",pinyin:"sh≈çu shi d≈çng xi",meaning:"pack up"},{text:"Ôºå"},{word:"‰æù‰æù‰∏çËàç",pinyin:"yƒ´ yƒ´ b√π shƒõ",meaning:"reluctantly"},{word:"Âú∞",pinyin:"de",meaning:"(adverb marker)"},{word:"ÂõûÂÆ∂‰∫Ü",pinyin:"hu√≠ jiƒÅ le",meaning:"went home"},{text:"„ÄÇ"}],english:"In the afternoon, the weather became very hot, so everyone packed up and reluctantly went home."}];function Gi({word:n,pinyin:i,meaning:t,onClick:a}){return e.jsx("span",{className:"koushi-word",onClick:()=>a(n,i,t),children:n})}function Vi(n){return"word"in n}function Yi({sentence:n,isHighlighted:i,onWordClick:t}){return e.jsxs("div",{className:`koushi-sentence ${i?"highlighted":""}`,children:[e.jsx("span",{className:"chinese",children:n.chinese.map((a,r)=>Vi(a)?e.jsx(Gi,{word:a.word,pinyin:a.pinyin,meaning:a.meaning,onClick:t},r):e.jsx("span",{children:a.text},r))}),e.jsx("span",{className:"english-translation",children:n.english})]})}function Ki({word:n,isLearned:i,onClick:t}){return e.jsxs("div",{className:`koushi-vocab-card ${i?"learned":""}`,onClick:t,children:[e.jsx("div",{className:"vocab-chinese",children:n.chinese}),e.jsx("div",{className:"vocab-pinyin",children:n.pinyin})]})}function Qi({word:n,pinyin:i,meaning:t,onClose:a,onPlayAudio:r}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"popup-overlay show",onClick:a}),e.jsxs("div",{className:"koushi-word-popup show",children:[e.jsx("div",{className:"popup-word",children:n}),e.jsx("div",{className:"popup-pinyin",children:i}),e.jsx("div",{className:"popup-meaning",children:t}),e.jsx("button",{className:"popup-audio-btn",onClick:r,children:"Âê¨ÂèëÈü≥"}),e.jsx("br",{}),e.jsx("button",{className:"popup-close",onClick:a,children:"ÂÖ≥Èó≠"})]})]})}function Xi({word:n,isLearned:i,onClose:t,onPlayAudio:a,onToggleLearned:r}){return n?e.jsx("div",{className:"practice-modal show",children:e.jsxs("div",{className:"practice-content",children:[e.jsx("button",{className:"close-modal",onClick:t,children:"X"}),e.jsx("div",{className:"practice-word",children:n.chinese}),e.jsx("div",{className:"practice-pinyin",children:n.pinyin}),e.jsxs("div",{className:"practice-actions",children:[e.jsx("button",{className:"practice-btn primary",onClick:a,children:"ÂèëÈü≥"}),e.jsx("button",{className:"practice-btn primary",style:i?{background:"#ff6b6b"}:{},onClick:r,children:i?"X Ê†áËÆ∞Êú™Â≠¶‰ºö":"‚úì Ê†áËÆ∞Â∑≤Â≠¶‰ºö"}),e.jsx("button",{className:"practice-btn secondary",onClick:t,children:"ÂÖ≥Èó≠"})]})]})}):null}const Pe="koushi_family_cohesion_learned";function Ji(){const[n,i]=l.useState(new Set),[t,a]=l.useState(null),[r,o]=l.useState(null),[d,c]=l.useState(null),g=l.useRef(null);l.useEffect(()=>{const h=localStorage.getItem(Pe);h&&i(new Set(JSON.parse(h)))},[]);const p=l.useCallback(h=>{localStorage.setItem(Pe,JSON.stringify(Array.from(h)))},[]);l.useEffect(()=>{const h=g.current;if(!h)return;const y=()=>{const R=h.currentTime;let M=null;for(let L=0;L<we.length;L++){const D=we[L];if(R>=D.start&&R<D.end){M=L;break}}c(M)},C=()=>{c(null)};return h.addEventListener("timeupdate",y),h.addEventListener("ended",C),()=>{h.removeEventListener("timeupdate",y),h.removeEventListener("ended",C)}},[]);const f=l.useCallback(()=>{const h=g.current;h&&h.play()},[]),u=l.useCallback(()=>{window.confirm("Á°ÆÂÆöË¶ÅÈáçÁΩÆÂ≠¶‰π†ËøõÂ∫¶ÂêóÔºü")&&(i(new Set),p(new Set))},[p]),s=l.useCallback((h,y,C)=>{const R=g.current;R&&!R.paused&&R.pause(),a({word:h,pinyin:y,meaning:C})},[]),w=l.useCallback(()=>{a(null)},[]),v=l.useCallback(()=>{if(t){const h=new SpeechSynthesisUtterance(t.word);h.lang="zh-CN",h.rate=.7,speechSynthesis.speak(h)}},[t]),m=l.useCallback(h=>{o(h)},[]),b=l.useCallback(()=>{o(null)},[]),j=l.useCallback(()=>{if(r){const h=new SpeechSynthesisUtterance(r.chinese);h.lang="zh-CN",h.rate=.8,speechSynthesis.speak(h)}},[r]),x=l.useCallback(()=>{r&&i(h=>{const y=new Set(h);return y.has(r.chinese)?y.delete(r.chinese):y.add(r.chinese),p(y),y})},[r,p]);return l.useEffect(()=>{const h=y=>{y.key==="Escape"&&(b(),w())};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[b,w]),e.jsxs("div",{className:"koushi-page",children:[e.jsxs("div",{className:"lesson-header lesson-header-orange",children:[e.jsx("h1",{children:"Âè£ËØïÁªÉ‰π†Ôºö„ÄäÂÆ∂Â∫≠ÂáùËÅöÂäõ„Äã"}),e.jsx("div",{className:"lesson-subtitle",children:"P3HCL ÁªºÂêàÁªÉ‰π†4 ÈòÖËØªËÆ°Âàí - Family Cohesion"})]}),e.jsxs("div",{className:"content-container",children:[e.jsxs("div",{className:"controls-bar",children:[e.jsx("button",{className:"control-btn",onClick:f,children:"Êí≠ÊîæÊïÖ‰∫ãÈü≥È¢ë"}),e.jsxs("div",{className:"progress-info",children:[e.jsx("span",{children:"Â∑≤Â≠¶‰π†ËØçËØ≠: "}),e.jsx("span",{children:n.size})," / ",e.jsx("span",{children:je.length})]}),e.jsx("button",{className:"control-btn secondary",onClick:u,children:"ÈáçÁΩÆËøõÂ∫¶"})]}),e.jsxs("div",{className:"audio-player-sticky",children:[e.jsx("div",{style:{fontWeight:500,marginBottom:"10px"},children:"ÊúóËØªÈü≥È¢ë"}),e.jsxs("audio",{ref:g,controls:!0,preload:"none",children:[e.jsx("source",{src:"/audio/family-cohesion/story.mp4",type:"audio/mp4"}),"ÊÇ®ÁöÑÊµèËßàÂô®‰∏çÊîØÊåÅÈü≥È¢ëÊí≠Êîæ„ÄÇ"]})]}),e.jsx("div",{className:"section-title",children:"ÂõæÁâá"}),e.jsx("div",{className:"picture-container",children:e.jsxs("div",{className:"pictures-row",children:[e.jsxs("div",{className:"picture-box",children:[e.jsx("img",{src:"/images/family-cohesion/picture1.png",alt:"ÂõæÁâá1 - ‰∏ÄÂÆ∂‰∫∫Âú®ËΩ¶Èáå",onError:h=>{h.target.style.display="none"}}),e.jsx("div",{className:"picture-number",children:"1. ‰∏ÄÂÆ∂‰∫∫Âú®ËΩ¶Èáå"})]}),e.jsxs("div",{className:"picture-box",children:[e.jsx("img",{src:"/images/family-cohesion/picture2.png",alt:"ÂõæÁâá2 - Êµ∑ËæπÈáéÈ§ê",onError:h=>{h.target.style.display="none"}}),e.jsx("div",{className:"picture-number",children:"2. Êµ∑ËæπÈáéÈ§ê"})]}),e.jsxs("div",{className:"picture-box",children:[e.jsx("img",{src:"/images/family-cohesion/picture3.png",alt:"ÂõæÁâá3 - ÂõûÂÆ∂ÁöÑËΩ¶",onError:h=>{h.target.style.display="none"}}),e.jsx("div",{className:"picture-number",children:"3. ÂõûÂÆ∂ÁöÑËΩ¶"})]})]})}),e.jsxs("div",{className:"section-title",children:["ÈóÆÈ¢ò‰∏ÄÔºö",e.jsx("span",{className:"koushi-word",onClick:()=>s("Ë∞àË∞à","t√°n tan","talk about"),children:"Ë∞àË∞à"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("‰Ω†","n«ê","you"),children:"‰Ω†"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Âú®","z√†i","in"),children:"Âú®"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÂõæÁâá","t√∫ pi√†n","picture"),children:"ÂõæÁâá"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("‰∏≠","zh≈çng","in"),children:"‰∏≠"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÁúãÂà∞","k√†n d√†o","see"),children:"ÁúãÂà∞"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÁöÑ","de","(particle)"),children:"ÁöÑ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("‰∫ãÊÉÖ","sh√¨ qing","things"),children:"‰∫ãÊÉÖ"})]}),e.jsxs("div",{className:"question-box",children:[e.jsx("h3",{children:e.jsx("span",{className:"koushi-word",onClick:()=>s("ÂÜÖÂÆπ","n√®i r√≥ng","content"),children:"ÂÜÖÂÆπ"})}),e.jsx("div",{className:"story-text",children:we.map((h,y)=>e.jsx(Yi,{sentence:h,isHighlighted:d===y,onWordClick:s},y))}),e.jsxs("div",{className:"hint-box",children:[e.jsx("strong",{children:"ÊèêÁ§∫Ôºö"}),e.jsxs("ul",{children:[e.jsx("li",{children:"ÁÇπÂáª‰ªª‰ΩïËØçËØ≠Êü•ÁúãÊãºÈü≥„ÄÅËã±ÊñáÁøªËØëÂíåÂê¨ÂèëÈü≥"}),e.jsx("li",{children:'ÁÇπÂáª "Êí≠ÊîæÊïÖ‰∫ãÈü≥È¢ë" ÊåâÈíÆÔºåÂè•Â≠ê‰ºöÂêåÊ≠•È´ò‰∫ÆÊòæÁ§∫Ëã±ÊñáÁøªËØë'}),e.jsx("li",{children:"ÁÇπÂáªËØçËØ≠Êó∂Ôºå‰∏ªÈü≥È¢ë‰ºöËá™Âä®ÊöÇÂÅú"})]})]})]}),e.jsxs("div",{className:"question-box",children:[e.jsxs("h3",{children:[e.jsx("span",{className:"koushi-word",onClick:()=>s("ÊÄªÁªì","z«íng ji√©","summary"),children:"ÊÄªÁªì"}),"Ôºà",e.jsx("span",{className:"koushi-word",onClick:()=>s("ÊÑüÂèó","g«én sh√≤u","feelings"),children:"ÊÑüÂèó"}),"„ÄÅ",e.jsx("span",{className:"koushi-word",onClick:()=>s("ÁúãÊ≥ï","k√†n f«é","opinion"),children:"ÁúãÊ≥ï"}),"„ÄÅ",e.jsx("span",{className:"koushi-word",onClick:()=>s("ÂéüÂõ†","yu√°n yƒ´n","reason"),children:"ÂéüÂõ†"}),"„ÄÅ",e.jsx("span",{className:"koushi-word",onClick:()=>s("Â¶ÇÊûú","r√∫ gu«í","if"),children:"Â¶ÇÊûú"}),"Ôºâ"]}),e.jsxs("div",{className:"reflection-text",children:[e.jsx("div",{className:"reflection-label",children:"F=ÊÑüÂèó"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Áúã‰∫Ü","k√†n le","saw/watched"),children:"Áúã‰∫Ü"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Ëøô‰∏ÄÂπï","zh√® yƒ´ m√π","this scene"),children:"Ëøô‰∏ÄÂπï"}),"Ôºå",e.jsx("span",{className:"koushi-word",onClick:()=>s("Êàë","w«í","I"),children:"Êàë"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Âæà","hƒõn","very"),children:"Âæà"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÊÑüÂä®","g«én d√≤ng","moved/touched"),children:"ÊÑüÂä®"}),"„ÄÇ",e.jsx("div",{className:"reflection-label",style:{marginTop:"15px"},children:"O=ÁúãÊ≥ï"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Êàë","w«í","I"),children:"Êàë"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ËÆ§‰∏∫","r√®n w√©i","think/believe"),children:"ËÆ§‰∏∫"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Ëøô‰∏ÄÂÆ∂‰∫∫","zh√® yƒ´ jiƒÅ r√©n","this family"),children:"Ëøô‰∏ÄÂÆ∂‰∫∫"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÁöÑ","de","(particle)"),children:"ÁöÑ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÊÑüÊÉÖ","g«én q√≠ng","feelings/relationship"),children:"ÊÑüÊÉÖ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÂæàÂ•Ω","hƒõn h«éo","very good"),children:"ÂæàÂ•Ω"}),"„ÄÇ",e.jsx("div",{className:"reflection-label",style:{marginTop:"15px"},children:"R=ÂéüÂõ†"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Âõ†‰∏∫","yƒ´n w√®i","because"),children:"Âõ†‰∏∫"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Áà∂ÊØç","f√π m«î","parents"),children:"Áà∂ÊØç"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÊØèÂ§©","mƒõi tiƒÅn","every day"),children:"ÊØèÂ§©"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Â∑•‰Ωú","g≈çng zu√≤","work"),children:"Â∑•‰Ωú"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÈùûÂ∏∏","fƒìi ch√°ng","very"),children:"ÈùûÂ∏∏"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Âøô","m√°ng","busy"),children:"Âøô"}),"Ôºå",e.jsx("span",{className:"koushi-word",onClick:()=>s("ÂæàÂ∞ë","hƒõn sh«éo","seldom/rarely"),children:"ÂæàÂ∞ë"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Êúâ","y«íu","have"),children:"Êúâ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Êó∂Èó¥","sh√≠ jiƒÅn","time"),children:"Êó∂Èó¥"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Âíå","h√©","and/with"),children:"Âíå"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Êàë‰ª¨","w«í men","us"),children:"Êàë‰ª¨"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ËÅöÂú®‰∏ÄËµ∑","j√π z√†i yƒ´ q«ê","gather together"),children:"ËÅöÂú®‰∏ÄËµ∑"}),"„ÄÇ",e.jsx("span",{className:"koushi-word",onClick:()=>s("‰∏ÄÂÆ∂‰∫∫","yƒ´ jiƒÅ r√©n","family"),children:"‰∏ÄÂÆ∂‰∫∫"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Â∫îËØ•","yƒ´ng gƒÅi","should"),children:"Â∫îËØ•"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Â§ö","du≈ç","more"),children:"Â§ö"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ËÅöÂú®‰∏ÄËµ∑","j√π z√†i yƒ´ q«ê","gather together"),children:"ËÅöÂú®‰∏ÄËµ∑"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ËøõË°å","j√¨n x√≠ng","carry out"),children:"ËøõË°å"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Ê¥ªÂä®","hu√≥ d√≤ng","activities"),children:"Ê¥ªÂä®"}),"Ôºå",e.jsx("span",{className:"koushi-word",onClick:()=>s("ËøôÊ†∑","zh√® y√†ng","this way"),children:"ËøôÊ†∑"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Â∞±","ji√π","then"),children:"Â∞±"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ËÉΩ","n√©ng","can"),children:"ËÉΩ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Êúâ","y«íu","have"),children:"Êúâ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Êõ¥Â§ö","g√®ng du≈ç","more"),children:"Êõ¥Â§ö"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÁöÑ","de","(particle)"),children:"ÁöÑ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Êó∂Èó¥","sh√≠ jiƒÅn","time"),children:"Êó∂Èó¥"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Âéª","q√π","to go"),children:"Âéª"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("‰∫ÜËß£","li«éo jiƒõ","understand"),children:"‰∫ÜËß£"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Âíå","h√©","and"),children:"Âíå"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÂÖ≥ÂøÉ","guƒÅn xƒ´n","care about"),children:"ÂÖ≥ÂøÉ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÂØπÊñπ","du√¨ fƒÅng","each other"),children:"ÂØπÊñπ"}),"Ôºå",e.jsx("span",{className:"koushi-word",onClick:()=>s("ÂÆ∂‰∫∫‰πãÈó¥","jiƒÅ r√©n zhƒ´ jiƒÅn","between family"),children:"ÂÆ∂‰∫∫‰πãÈó¥"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÁöÑ","de","(particle)"),children:"ÁöÑ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÊÑüÊÉÖ","g«én q√≠ng","feelings"),children:"ÊÑüÊÉÖ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Â∞±","ji√π","then"),children:"Â∞±"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("‰ºö","hu√¨","will"),children:"‰ºö"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Ë∂äÊù•Ë∂äÂ•Ω","yu√® l√°i yu√® h«éo","better and better"),children:"Ë∂äÊù•Ë∂äÂ•Ω"}),"„ÄÇ",e.jsx("div",{className:"reflection-label",style:{marginTop:"15px"},children:"IF=Â¶ÇÊûú"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Â¶ÇÊûú","r√∫ gu«í","if"),children:"Â¶ÇÊûú"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Êàë","w«í","I"),children:"Êàë"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÊòØ","sh√¨","am"),children:"ÊòØ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÂõæÁâá‰∏≠","t√∫ pi√†n zh≈çng","in the picture"),children:"ÂõæÁâá‰∏≠"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÁöÑ","de","(particle)"),children:"ÁöÑ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Â∞èÂ≠©","xi«éo h√°i","child"),children:"Â∞èÂ≠©"}),"Ôºå",e.jsx("span",{className:"koushi-word",onClick:()=>s("Êàë","w«í","I"),children:"Êàë"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("‰πü","yƒõ","also"),children:"‰πü"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("‰ºö","hu√¨","will"),children:"‰ºö"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Â§ö","du≈ç","more"),children:"Â§ö"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Âíå","h√©","with"),children:"Âíå"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÂÆ∂‰∫∫","jiƒÅ r√©n","family"),children:"ÂÆ∂‰∫∫"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ËÅöÂú®‰∏ÄËµ∑","j√π z√†i yƒ´ q«ê","gather together"),children:"ËÅöÂú®‰∏ÄËµ∑"}),"Ôºå",e.jsx("span",{className:"koushi-word",onClick:()=>s("ÁèçÊÉú","zhƒìn xƒ´","cherish"),children:"ÁèçÊÉú"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Âíå","h√©","with"),children:"Âíå"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÂÆ∂‰∫∫","jiƒÅ r√©n","family"),children:"ÂÆ∂‰∫∫"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Áõ∏Â§Ñ","xiƒÅng ch«î","get along"),children:"Áõ∏Â§Ñ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÁöÑ","de","(particle)"),children:"ÁöÑ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Êó∂ÂÖâ","sh√≠ guƒÅng","time/moments"),children:"Êó∂ÂÖâ"}),"„ÄÇ"]})]}),e.jsxs("div",{className:"section-title",children:["ÈóÆÈ¢ò‰∫åÔºö",e.jsx("span",{className:"koushi-word",onClick:()=>s("ÁªèÂéÜ","jƒ´ng l√¨","experience"),children:"ÁªèÂéÜ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Á±ª","l√®i","type"),children:"Á±ª"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÈóÆÈ¢ò","w√®n t√≠","question"),children:"ÈóÆÈ¢ò"})]}),e.jsxs("div",{className:"question-box",children:[e.jsxs("h3",{children:[e.jsx("span",{className:"koushi-word",onClick:()=>s("Èô§‰∫Ü","ch√∫ le","besides"),children:"Èô§‰∫Ü"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÂõæÁâá","t√∫ pi√†n","picture"),children:"ÂõæÁâá"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("‰∏≠","zh≈çng","in"),children:"‰∏≠"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÊâÄÁúãÂà∞ÁöÑ","su«í k√†n d√†o de","what was seen"),children:"ÊâÄÁúãÂà∞ÁöÑ"}),"Ôºå",e.jsx("span",{className:"koushi-word",onClick:()=>s("Ë∞à‰∏ÄË∞à","t√°n yi tan","talk about"),children:"Ë∞à‰∏ÄË∞à"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("‰Ω†","n«ê","you"),children:"‰Ω†"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÊõæÁªè","c√©ng jƒ´ng","once/previously"),children:"ÊõæÁªè"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Âíå","h√©","with"),children:"Âíå"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÂÆ∂‰∫∫","jiƒÅ r√©n","family"),children:"ÂÆ∂‰∫∫"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ËÅöÂú®‰∏ÄËµ∑","j√π z√†i yƒ´ q«ê","gather together"),children:"ËÅöÂú®‰∏ÄËµ∑"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÁöÑ","de","(particle)"),children:"ÁöÑ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("‰∫ã","sh√¨","matter/thing"),children:"‰∫ã"}),"„ÄÇ"]}),e.jsxs("div",{className:"story-text",children:[e.jsxs("div",{className:"sentence-with-translation",children:[e.jsxs("p",{children:[e.jsx("span",{className:"koushi-word",onClick:()=>s("ËÆ∞Âæó","j√¨ de","remember"),children:"ËÆ∞Âæó"}),"Ôºà",e.jsx("span",{className:"koushi-word",onClick:()=>s("Êó∂Èó¥","sh√≠ jiƒÅn","time"),children:"Êó∂Èó¥"}),"Ôºâ",e.jsx("span",{className:"koushi-word",onClick:()=>s("ÂéªÂπ¥","q√π ni√°n","last year"),children:"ÂéªÂπ¥"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Â≠¶Ê†°ÂÅáÊúü","xu√© xi√†o ji√† qƒ´","school holiday"),children:"Â≠¶Ê†°ÂÅáÊúü"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Êó∂","sh√≠","when"),children:"Êó∂"}),"Ôºå",e.jsx("span",{className:"koushi-word",onClick:()=>s("Áà∏Áà∏","b√† ba","dad"),children:"Áà∏Áà∏"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÊèêËÆÆ","t√≠ y√¨","suggest"),children:"ÊèêËÆÆ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("‰∏ÄËµ∑Âéª","yƒ´ q«ê q√π","go together"),children:"‰∏ÄËµ∑Âéª"}),"Ôºà",e.jsx("span",{className:"koushi-word",onClick:()=>s("Âú∞ÁÇπ","d√¨ di«én","location"),children:"Âú∞ÁÇπ"}),"Ôºâ",e.jsx("span",{className:"koushi-word",onClick:()=>s("Êµ∑Ëæπ","h«éi biƒÅn","seaside"),children:"Êµ∑Ëæπ"}),"Ôºà",e.jsx("span",{className:"koushi-word",onClick:()=>s("Ëµ∑Âõ†","q«ê yƒ´n","reason"),children:"Ëµ∑Âõ†"}),"Ôºâ",e.jsx("span",{className:"koushi-word",onClick:()=>s("Â∫¶ÂÅá","d√π ji√†","vacation"),children:"Â∫¶ÂÅá"}),"ÔºåÔºà",e.jsx("span",{className:"koushi-word",onClick:()=>s("‰∫∫Áâ©","r√©n w√π","people"),children:"‰∫∫Áâ©"}),"Ôºâ",e.jsx("span",{className:"koushi-word",onClick:()=>s("Êàë‰ª¨ÂÖ®ÂÆ∂‰∫∫","w«í men qu√°n jiƒÅ r√©n","our whole family"),children:"Êàë‰ª¨ÂÖ®ÂÆ∂‰∫∫"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Âê¨‰∫Ü","tƒ´ng le","heard"),children:"Âê¨‰∫Ü"}),"Ôºå",e.jsx("span",{className:"koushi-word",onClick:()=>s("Á´ãÂàª","l√¨ k√®","immediately"),children:"Á´ãÂàª"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÊãçÊâãÊ¨¢Âëº","pƒÅi sh«íu huƒÅn h≈´","clap and cheer"),children:"ÊãçÊâãÊ¨¢Âëº"}),"„ÄÇ"]}),e.jsx("p",{className:"sentence-translation",children:"I remember last year during school holidays, dad suggested we go to the seaside for vacation, and our whole family immediately clapped and cheered."})]}),e.jsxs("div",{className:"sentence-with-translation",children:[e.jsxs("p",{children:[e.jsx("span",{className:"koushi-word",onClick:()=>s("‰∏ÄÂàá","yƒ´ qi√®","everything"),children:"‰∏ÄÂàá"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÂáÜÂ§áÂ∞±Áª™","zh«în b√®i ji√π x√π","ready"),children:"ÂáÜÂ§áÂ∞±Áª™"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Âêé","h√≤u","after"),children:"Âêé"}),"Ôºå",e.jsx("span",{className:"koushi-word",onClick:()=>s("‰æø","bi√†n","then"),children:"‰æø"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÂÖ¥Ëá¥ÂãÉÂãÉ","x√¨ng zh√¨ b√≥ b√≥","enthusiastic"),children:"ÂÖ¥Ëá¥ÂãÉÂãÉ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Âú∞","de","(adverb)"),children:"Âú∞"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Âá∫Âèë‰∫Ü","ch≈´ fƒÅ le","set off"),children:"Âá∫Âèë‰∫Ü"}),"„ÄÇ"]}),e.jsx("p",{className:"sentence-translation",children:"After everything was ready, we enthusiastically set off."})]}),e.jsxs("div",{className:"sentence-with-translation",children:[e.jsxs("p",{children:["Ôºà",e.jsx("span",{className:"koushi-word",onClick:()=>s("ÁªèËøá","jƒ´ng gu√≤","process"),children:"ÁªèËøá"}),"Ôºâ",e.jsx("span",{className:"koushi-word",onClick:()=>s("Âà∞‰∫Ü","d√†o le","arrived"),children:"Âà∞‰∫Ü"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Êµ∑Ëæπ","h«éi biƒÅn","seaside"),children:"Êµ∑Ëæπ"}),"Ôºå",e.jsx("span",{className:"koushi-word",onClick:()=>s("Êàë","w«í","I"),children:"Êàë"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Ëµ∂Á¥ß","g«én j«ên","hurry"),children:"Ëµ∂Á¥ß"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Êç¢‰∏ä","hu√†n shang","change into"),children:"Êç¢‰∏ä"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Ê≥≥Ë°£","y«íng yƒ´","swimsuit"),children:"Ê≥≥Ë°£"}),"Ôºå",e.jsx("span",{className:"koushi-word",onClick:()=>s("ÂëºÁùÄ","h≈´ zhe","humming"),children:"ÂëºÁùÄ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Ê¨¢Âø´","huƒÅn ku√†i","cheerful"),children:"Ê¨¢Âø´"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÁöÑ","de","(particle)"),children:"ÁöÑ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Ê≠åÂÑø","gƒì r","song"),children:"Ê≠åÂÑø"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Âêë","xi√†ng","toward"),children:"Âêë"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Ê∞¥Èáå","shu«ê l«ê","into water"),children:"Ê∞¥Èáå"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Ëµ∞Âéª","z«íu q√π","walk toward"),children:"Ëµ∞Âéª"}),"„ÄÇ"]}),e.jsx("p",{className:"sentence-translation",children:"When we arrived at the seaside, I quickly changed into my swimsuit and walked toward the water, humming a cheerful song."})]}),e.jsxs("div",{className:"sentence-with-translation",children:[e.jsxs("p",{children:[e.jsx("span",{className:"koushi-word",onClick:()=>s("Êàë‰ª¨","w«í men","we"),children:"Êàë‰ª¨"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Âá†‰∏™","j«ê g√®","a few"),children:"Âá†‰∏™"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Â∞èÂ≠©","xi«éo h√°i","children"),children:"Â∞èÂ≠©"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Âú®","z√†i","at"),children:"Âú®"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Ê∞¥Èáå","shu«ê l«ê","in water"),children:"Ê∞¥Èáå"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Ê∏∏Êù•Ê∏∏Âéª","y√≥u l√°i y√≥u q√π","swim around"),children:"Ê∏∏Êù•Ê∏∏Âéª"}),"Ôºå",e.jsx("span",{className:"koushi-word",onClick:()=>s("Áé©Âæó","w√°n de","having fun"),children:"Áé©Âæó"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÁúüÁóõÂø´","zhƒìn t√≤ng ku√†i","really fun"),children:"ÁúüÁóõÂø´"}),"„ÄÇ"]}),e.jsx("p",{className:"sentence-translation",children:"We children swam around in the water, having a really great time."})]}),e.jsxs("div",{className:"sentence-with-translation",children:[e.jsxs("p",{children:["Ôºà",e.jsx("span",{className:"koushi-word",onClick:()=>s("ÁªìÊûú","ji√© gu«í","result"),children:"ÁªìÊûú"}),"Ôºâ",e.jsx("span",{className:"koushi-word",onClick:()=>s("Âà∞‰∫Ü","d√†o le","when"),children:"Âà∞‰∫Ü"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ËØ•","gƒÅi","should"),children:"ËØ•"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÂõûÂÆ∂","hu√≠ jiƒÅ","go home"),children:"ÂõûÂÆ∂"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("ÁöÑ","de","(particle)"),children:"ÁöÑ"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Êó∂ÂÄô","sh√≠ hou","time"),children:"Êó∂ÂÄô"}),"Ôºå",e.jsx("span",{className:"koushi-word",onClick:()=>s("Êàë‰ª¨","w«í men","we"),children:"Êàë‰ª¨"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("‰æø","bi√†n","then"),children:"‰æø"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("‰æù‰æù‰∏çËàç","yƒ´ yƒ´ b√π shƒõ","reluctantly"),children:"‰æù‰æù‰∏çËàç"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Âú∞","de","(adverb)"),children:"Âú∞"}),e.jsx("span",{className:"koushi-word",onClick:()=>s("Á¶ªÂºÄ‰∫Ü","l√≠ kƒÅi le","left"),children:"Á¶ªÂºÄ‰∫Ü"}),"„ÄÇ"]}),e.jsx("p",{className:"sentence-translation",children:"When it was time to go home, we reluctantly left."})]})]})]}),e.jsxs("div",{className:"section-title",children:["Êú¨ËØæËØçËØ≠ÔºàÂÖ±",je.length,"‰∏™Ôºâ"]}),e.jsx("div",{className:"koushi-vocab-grid",children:je.map((h,y)=>e.jsx(Ki,{word:h,isLearned:n.has(h.chinese),onClick:()=>m(h)},y))})]}),t&&e.jsx(Qi,{word:t.word,pinyin:t.pinyin,meaning:t.meaning,onClose:w,onPlayAudio:v}),r&&e.jsx(Xi,{word:r,isLearned:n.has(r.chinese),onClose:b,onPlayAudio:j,onToggleLearned:x})]})}const Zi=q("/instructions")({component:as}),ge=[{category:"vocabulary",chinese:"Â≠óËØçÂ≠¶‰π†",pinyin:"z√¨ c√≠ xu√© x√≠",english:"Vocabulary Learning",explanation:"The section for learning new words and phrases"},{category:"vocabulary",chinese:"Â∫èÂè∑",pinyin:"x√π h√†o",english:"Serial Number",explanation:"The number or order of items in a list"},{category:"vocabulary",chinese:"ËØÜÂÜôÂ≠óËØç",pinyin:"sh√≠ xiƒõ z√¨ c√≠",english:"Words to Read and Write",explanation:"Words that students must learn to both recognize and write"},{category:"vocabulary",chinese:"ËØÜËØªÂ≠óËØç",pinyin:"sh√≠ d√∫ z√¨ c√≠",english:"Words to Read",explanation:"Words that students only need to recognize and read, not write"},{category:"vocabulary",chinese:"Ëß£Èáä",pinyin:"jiƒõ sh√¨",english:"Definition / Explanation",explanation:"The meaning or definition of a word"},{category:"vocabulary",chinese:"ÊûÑËØç",pinyin:"g√≤u c√≠",english:"Word Formation",explanation:"How words are formed or combined with other characters"},{category:"vocabulary",chinese:"Êê≠ÈÖç",pinyin:"dƒÅ p√®i",english:"Word Combinations",explanation:"Words that commonly go together"},{category:"vocabulary",chinese:"‰æãÂè•",pinyin:"l√¨ j√π",english:"Example Sentence",explanation:"A sentence showing how to use the word"},{category:"vocabulary",chinese:"ËØª‰∏ÄËØª",pinyin:"d√∫ yƒ´ d√∫",english:"Read It",explanation:"Instruction to read the following content aloud"},{category:"vocabulary",chinese:"ËØçËØ≠Êê≠ÈÖç",pinyin:"c√≠ y«î dƒÅ p√®i",english:"Word Collocations",explanation:"Common word pairings and phrases"},{category:"vocabulary",chinese:"Âê¨ÂÜôËØçËØ≠",pinyin:"tƒ´ng xiƒõ c√≠ y«î",english:"Dictation Words",explanation:"Words for spelling practice - listen and write"},{category:"exercises",chinese:"ËØ≠ÊñáÂ∫îÁî®",pinyin:"y«î w√©n y√¨ng y√≤ng",english:"Chinese Application",explanation:"Exercises to apply Chinese language skills"},{category:"exercises",chinese:"‰ªéÊâÄÊèê‰æõÁöÑÈÄâÈ°π‰∏≠ÈÄâÂá∫Ê≠£Á°ÆÁöÑÁ≠îÊ°à",pinyin:"c√≥ng su«í t√≠ g≈çng de xu«én xi√†ng zh≈çng xu«én ch≈´ zh√®ng qu√® de d√° √†n",english:"Choose the correct answer from the options provided",explanation:"Multiple choice question instruction"},{category:"exercises",chinese:"Êú¨È°µÂæóÂàÜ",pinyin:"bƒõn y√® d√© fƒìn",english:"Score for this page",explanation:"The marks earned on this page"},{category:"exercises",chinese:"ÈÄâÂá∫ÈÄÇÂΩìÁöÑËØçËØ≠",pinyin:"xu«én ch≈´ sh√¨ d√†ng de c√≠ y«î",english:"Select the appropriate word",explanation:"Choose the right word to fill in the blank"},{category:"exercises",chinese:"Êää‰ª£Ë°®ÂÆÉÁöÑÊï∞Â≠óÂ°´ÂÜôÂú®Êã¨Âè∑Èáå",pinyin:"b«é d√†i bi«éo tƒÅ de sh√π z√¨ ti√°n xiƒõ z√†i ku√≤ h√†o l«ê",english:"Write the number representing it in the brackets",explanation:"Write your answer number inside the parentheses"},{category:"exercises",chinese:"ÊîπÂÜôÂè•Â≠ê",pinyin:"g«éi xiƒõ j√π zi",english:"Rewrite Sentences",explanation:"Change or rewrite the sentence in a different way"},{category:"exercises",chinese:"Êää‰∏§‰∏™Âè•Â≠êÂêàÂπ∂Êàê‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÂè•Â≠ê",pinyin:"b«é li«éng g√® j√π zi h√© b√¨ng ch√©ng yƒ´ g√® w√°n zhƒõng de j√π zi",english:"Combine two sentences into one complete sentence",explanation:"Join two sentences together into one"},{category:"exercises",chinese:"Âä†‰∏äÈÄÇÂΩìÁöÑÊ†áÁÇπÁ¨¶Âè∑",pinyin:"jiƒÅ sh√†ng sh√¨ d√†ng de biƒÅo di«én f√∫ h√†o",english:"Add appropriate punctuation",explanation:"Put in the correct punctuation marks"},{category:"exercises",chinese:"ÁªÑÂè•ÊàêÊÆµ",pinyin:"z«î j√π ch√©ng du√†n",english:"Arrange sentences into paragraph",explanation:"Put sentences in order to form a paragraph"},{category:"exercises",chinese:"ÊåâÊ≠£Á°ÆÁöÑÈ°∫Â∫èÂ∞ÜÂè•Â≠êÊéíÂàóÂá∫Êù•",pinyin:"√†n zh√®ng qu√® de sh√πn x√π jiƒÅng j√π zi p√°i li√® ch≈´ l√°i",english:"Arrange sentences in the correct order",explanation:"Put the sentences in the right sequence"},{category:"exercises",chinese:"Âú®Êã¨Âè∑ÈáåÂÜô‰∏äÂ∫èÂè∑",pinyin:"z√†i ku√≤ h√†o l«ê xiƒõ sh√†ng x√π h√†o",english:"Write the serial number in the brackets",explanation:"Number the items in order in the parentheses"},{category:"reading",chinese:"ÈòÖËØªËÆ°Âàí",pinyin:"yu√® d√∫ j√¨ hu√†",english:"Reading Plan",explanation:"A schedule or plan for reading activities"},{category:"reading",chinese:"ÈòÖËØª‰ΩúÂìÅ",pinyin:"yu√® d√∫ zu√≤ p«ên",english:"Reading Material",explanation:"The book or text being read"},{category:"reading",chinese:"ÈòÖËØªÊó∂Èó¥",pinyin:"yu√® d√∫ sh√≠ jiƒÅn",english:"Reading Time",explanation:"How long spent reading"},{category:"reading",chinese:"ÂàÜÈíü",pinyin:"fƒìn zh≈çng",english:"Minutes",explanation:"Unit of time measurement"},{category:"reading",chinese:"ËÄÉÊü•ÊÉÖÂÜµ",pinyin:"k«éo ch√° q√≠ng ku√†ng",english:"Assessment Status",explanation:"How well the student performed"},{category:"reading",chinese:"ËÄÉÊü•Ê†áÂáÜ",pinyin:"k«éo ch√° biƒÅo zh«în",english:"Assessment Criteria",explanation:"The standards used to evaluate performance"},{category:"reading",chinese:"ËØ∑ÂÆ∂ÈïøÂú®‰ª•‰∏äÁöÑÊó∂Èó¥Ê†èÈáåÁ≠æÂêç",pinyin:"q«êng jiƒÅ zh«éng z√†i y«ê sh√†ng de sh√≠ jiƒÅn l√°n l«ê qiƒÅn m√≠ng",english:"Please have parents sign in the time column above",explanation:"Parent signature required for verification"},{category:"reading",chinese:"ÈòÖËØªÔºåÊòØÁîüÂëΩÁöÑÊ∫êÊ≥â",pinyin:"yu√® d√∫, sh√¨ shƒìng m√¨ng de yu√°n qu√°n",english:"Reading is the source of life",explanation:"A motivational phrase about the importance of reading"},{category:"oral",chinese:"ÁúãÂõæËØ¥ËØù",pinyin:"k√†n t√∫ shu≈ç hu√†",english:"Picture Description",explanation:"Describe what you see in a picture - oral practice"},{category:"oral",chinese:"ÊèèËø∞ÂõæÁâá",pinyin:"mi√°o sh√π t√∫ pi√†n",english:"Describe the Picture",explanation:"Tell what is happening in the picture"},{category:"oral",chinese:"ÊÑüÂèó",pinyin:"g«én sh√≤u",english:"Feeling (F)",explanation:"FORIF: Express how you feel about what you see"},{category:"oral",chinese:"ÁúãÊ≥ï",pinyin:"k√†n f«é",english:"Opinion (O)",explanation:"FORIF: Share your thoughts or opinion"},{category:"oral",chinese:"ÂéüÂõ†",pinyin:"yu√°n yƒ´n",english:"Reason (R)",explanation:"FORIF: Give reasons to support your opinion"},{category:"oral",chinese:"Â¶ÇÊûú",pinyin:"r√∫ gu«í",english:"If (IF)",explanation:"FORIF: Suggest what you would do if you were in the situation"}],es={vocabulary:"Vocabulary Terms",exercises:"Exercise Instructions",reading:"Reading Terms",oral:"Oral Practice Terms"},ns=[{id:"all",label:"All"},{id:"vocabulary",label:"Vocabulary"},{id:"exercises",label:"Exercises"},{id:"reading",label:"Reading"},{id:"oral",label:"Oral"}];function is({term:n}){const{play:i}=ee(),[t,a]=l.useState(!1),r=l.useCallback(async()=>{a(!0);const o=`audio/${n.chinese}.mp3`;await i(o),setTimeout(()=>a(!1),500)},[n.chinese,i]);return e.jsxs("div",{className:"term-card",children:[e.jsxs("div",{className:"term-header",children:[e.jsx("button",{className:T("instructions-audio-btn",t&&"playing"),onClick:r,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})})}),e.jsx("div",{className:"term-chinese",children:n.chinese})]}),e.jsx("div",{className:"term-pinyin",children:n.pinyin}),e.jsx("div",{className:"term-english",children:n.english}),e.jsx("div",{className:"term-explanation",children:n.explanation})]})}function ss(){const[n,i]=l.useState("all"),t=l.useMemo(()=>n==="all"?ge:ge.filter(r=>r.category===n),[n]),a=l.useMemo(()=>{const r={};return t.forEach(o=>{r[o.category]||(r[o.category]=[]),r[o.category].push(o)}),r},[t]);return e.jsxs("div",{className:"glossary-container active",children:[e.jsx("div",{className:"category-filter",children:ns.map(r=>e.jsx("button",{className:T("category-btn",n===r.id&&"active"),onClick:()=>i(r.id),children:r.label},r.id))}),e.jsx("div",{id:"glossary-content",children:Object.entries(a).map(([r,o])=>e.jsxs("div",{className:"glossary-section",children:[e.jsx("h2",{className:"section-title",children:es[r]}),o.map((d,c)=>e.jsx(is,{term:d},c))]},r))})]})}function ts(){const{play:n}=ee(),[i,t]=l.useState([]),[a,r]=l.useState(0),[o,d]=l.useState(0),[c,g]=l.useState(null),[p,f]=l.useState(!1),[u,s]=l.useState(!1),w=l.useCallback(()=>{const C=[...ge].sort(()=>Math.random()-.5).slice(0,10).map(R=>{const M=ge.filter(D=>D.chinese!==R.chinese).sort(()=>Math.random()-.5).slice(0,3).map(D=>D.english),L=[R.english,...M].sort(()=>Math.random()-.5);return{term:R,options:L}});t(C),r(0),d(0),g(null),f(!1)},[]);l.useEffect(()=>{w()},[w]);const v=i[a],m=l.useCallback(async()=>{if(!v)return;s(!0);const h=`audio/${v.term.chinese}.mp3`;await n(h),setTimeout(()=>s(!1),500)},[v,n]),b=l.useCallback(h=>{p||!v||(g(h),f(!0),h===v.term.english&&d(y=>y+1))},[p,v]),j=l.useCallback(()=>{r(h=>h+1),g(null),f(!1)},[]);if(i.length===0)return e.jsx("div",{className:"quiz-container active",children:e.jsx("div",{className:"quiz-card",children:e.jsx("p",{children:"Loading quiz..."})})});if(a>=i.length){const h=Math.round(o/i.length*100);let y="";return h===100?y="Perfect! Excellent work!":h>=80?y="Great job! Keep it up!":h>=60?y="Good effort! Review and try again!":y="Keep practicing! You can do it!",e.jsx("div",{className:"quiz-container active",children:e.jsxs("div",{className:"quiz-results",children:[e.jsxs("div",{className:"results-score",children:[o,"/",i.length]}),e.jsx("div",{className:"results-message",children:y}),e.jsx("button",{className:"restart-btn",onClick:w,children:"Try Again"})]})})}const x=c===v.term.english;return e.jsxs("div",{className:"quiz-container active",children:[e.jsxs("div",{className:"quiz-progress",children:["Question ",e.jsx("span",{id:"current-q",children:a+1})," of"," ",e.jsx("span",{id:"total-q",children:i.length}),e.jsxs("div",{className:"quiz-score",children:["Score: ",e.jsx("span",{id:"quiz-score",children:o})]})]}),e.jsxs("div",{className:"quiz-card",children:[e.jsx("div",{className:"quiz-question-label",children:"What does this mean?"}),e.jsx("button",{className:T("quiz-audio-btn",u&&"playing"),onClick:m,children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})})}),e.jsx("div",{className:"quiz-term",children:v.term.chinese}),e.jsx("div",{className:"quiz-pinyin",children:v.term.pinyin}),e.jsx("div",{className:"quiz-options",children:v.options.map((h,y)=>e.jsx("button",{className:T("quiz-option",p&&"disabled",p&&h===v.term.english&&"correct",p&&c===h&&!x&&"incorrect"),onClick:()=>b(h),disabled:p,children:h},y))}),p&&e.jsx("div",{className:T("quiz-feedback",x?"correct":"incorrect"),children:x?"Correct!":`Incorrect. The answer is: ${v.term.english}`}),p&&e.jsx("button",{className:"quiz-next-btn visible",onClick:j,children:"Next Question"})]})]})}function as(){const[n,i]=l.useState("glossary");return e.jsxs("div",{className:"instructions-page",children:[e.jsxs("div",{className:"instructions-header",children:[e.jsx("h1",{children:"Instructions Glossary"}),e.jsx("p",{children:"zhishi ciyu"})]}),e.jsxs("div",{className:"nav-tabs",children:[e.jsx("button",{className:T("nav-tab",n==="glossary"&&"active"),onClick:()=>i("glossary"),children:"Learn"}),e.jsx("button",{className:T("nav-tab",n==="quiz"&&"active"),onClick:()=>i("quiz"),children:"Quiz"})]}),e.jsx("div",{className:"instructions-content",children:n==="glossary"?e.jsx(ss,{}):e.jsx(ts,{})})]})}const rs=q("/handwriting")({component:cs});function os(n){const i=n.charCodeAt(0);return i>=19968&&i<=40959||i>=13312&&i<=19903||i>=131072&&i<=173791}function ls(n){return Array.from(n).filter(os)}function cs(){const[n,i]=l.useState("‰Ω†Â•Ω"),[t,a]=l.useState(!1),[r,o]=l.useState([]),[d,c]=l.useState(0),[g,p]=l.useState(0),[f,u]=l.useState(""),[s,w]=l.useState(!1),v=l.useRef(null),m=l.useRef(null),b=l.useRef(null),j=l.useRef(0),x=l.useRef(0),h=l.useRef(!1);l.useEffect(()=>{(async()=>{try{const W=await Ne(()=>import("https://cdn.jsdelivr.net/npm/hanzi-writer@3.7.3/+esm"),[]);b.current=W.default}catch(W){console.error("Failed to load HanziWriter:",W),u("Failed to load HanziWriter library"),w(!0)}})()},[]);const y=l.useCallback(N=>{if(!m.current||!b.current)return;m.current.innerHTML="",u(""),w(!1);const W=b.current;v.current=W.create(m.current,N,{width:300,height:300,padding:20,showOutline:!0,showCharacter:!1,strokeAnimationSpeed:1,delayBetweenStrokes:100,strokeColor:"#333",outlineColor:"#ddd",drawingColor:"#4a90d9",drawingWidth:20,showHintAfterMisses:3,highlightOnComplete:!0,highlightColor:"#27ae60",charDataLoader:P=>fetch(`https://cdn.jsdelivr.net/npm/hanzi-writer-data@2.0/${P}.json`).then(I=>{if(!I.ok)throw new Error("Character not found");return I.json()})}),p(0),v.current.quiz({onMistake:P=>{u(`${P.strokeNum+1}: Try again!`),w(!0)},onCorrectStroke:P=>{p(P.strokeNum+1),u(`${P.strokeNum+1}: Correct!`),w(!1)},onComplete:P=>{const I=P.totalMistakes;u(I===0?"Perfect! No mistakes!":`Complete! ${I} mistake${I>1?"s":""}.`),w(!1)}})},[]),C=()=>{const N=ls(n.trim());if(N.length===0){alert("Please enter at least one Chinese character.");return}o(N),c(0),a(!0),p(0),setTimeout(()=>{y(N[0])},100)},R=()=>{if(d>0){const N=d-1;c(N),y(r[N])}},M=()=>{if(d<r.length-1){const N=d+1;c(N),y(r[N])}},L=()=>{v.current&&v.current.highlightStroke(g)},D=()=>{r[d]&&y(r[d])},Y=N=>{N.key==="Enter"&&C()},ne=N=>{var P;const W=N.target;h.current=((P=m.current)==null?void 0:P.contains(W))||!1,j.current=N.changedTouches[0].screenX,x.current=N.changedTouches[0].screenY},k=N=>{if(h.current){h.current=!1;return}const W=N.changedTouches[0].screenX,P=N.changedTouches[0].screenY,I=j.current-W,F=Math.abs(x.current-P);Math.abs(I)>F&&Math.abs(I)>80&&(I>0?M():R())};return e.jsxs("div",{className:"handwriting-container",children:[e.jsx("header",{className:"handwriting-header",children:e.jsx("h1",{children:"Chinese Handwriting Practice"})}),e.jsxs("div",{className:"input-section",children:[e.jsx("input",{type:"text",id:"character-input",placeholder:"Enter characters to practice",maxLength:50,value:n,onChange:N=>i(N.target.value),onKeyPress:Y}),e.jsx("button",{id:"start-btn",onClick:C,children:"Start"})]}),t?e.jsxs("div",{className:"practice-area",onTouchStart:ne,onTouchEnd:k,children:[e.jsxs("div",{className:"progress-bar",children:[e.jsx("span",{children:d+1})," / ",e.jsx("span",{children:r.length})]}),e.jsx("div",{className:"character-display",children:e.jsx("span",{id:"current-char",children:r[d]})}),e.jsx("div",{id:"writer-container",children:e.jsx("div",{id:"character-target",ref:m})}),e.jsxs("div",{className:"controls",children:[e.jsx("button",{className:"hw-nav-btn",onClick:R,disabled:d===0,children:"Prev"}),e.jsx("button",{className:"action-btn",onClick:L,children:"Hint"}),e.jsx("button",{className:"action-btn reset-btn",onClick:D,children:"Reset"}),e.jsx("button",{className:"hw-nav-btn",onClick:M,disabled:d>=r.length-1,children:"Next"})]}),e.jsx("div",{className:T("status",s&&"error"),children:f})]}):e.jsxs("div",{className:"instructions",children:[e.jsx("h2",{children:"How to Use"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Enter Chinese characters you want to practice"}),e.jsx("li",{children:"Write each stroke in the correct order"}),e.jsx("li",{children:'Use "Hint" to see the next stroke'}),e.jsx("li",{children:'Use "Reset" to clear and try again'}),e.jsx("li",{children:"Navigate between characters with Previous/Next"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sample characters:"})," ‰Ω†Â•Ω‰∏ñÁïåÂ≠¶‰π†‰∏≠Êñá"]})]})]})}const ds=q("/family")({component:fs}),hs={"immediate-family":[{english:"Your Mom",chinese:"Â¶àÂ¶à",pinyin:"mƒÅma"},{english:"Your Dad",chinese:"Áà∏Áà∏",pinyin:"b√†ba"},{english:"Your Wife",chinese:"Â¶ªÂ≠ê / ËÄÅÂ©Ü",pinyin:"qƒ´zi / l«éop√≥"},{english:"Your Husband",chinese:"‰∏àÂ§´ / ËÄÅÂÖ¨",pinyin:"zh√†ngf≈´ / l«éog≈çng"},{english:"Your older brother",chinese:"Âì•Âì•",pinyin:"gƒìgƒì"},{english:"Your older sister",chinese:"ÂßêÂßê",pinyin:"jiƒõjiƒõ"},{english:"Your younger brother",chinese:"ÂºüÂºü",pinyin:"d√¨d√¨"},{english:"Your younger sister",chinese:"Â¶πÂ¶π",pinyin:"m√®imei"},{english:"Your son",chinese:"ÂÑøÂ≠ê",pinyin:"√©rzi"},{english:"Your daughter",chinese:"Â•≥ÂÑø",pinyin:"n«ö'√©r"}],grandparents:[{english:"Grandmother (Dad's side)",chinese:"Â•∂Â•∂",pinyin:"n«éinai"},{english:"Grandmother (Mom's side)",chinese:"Â§ñÂ©Ü",pinyin:"w√†ip√≥"},{english:"Grandfather (Dad's side)",chinese:"Áà∑Áà∑",pinyin:"y√©y√©"},{english:"Grandfather (Mom's side)",chinese:"Â§ñÂÖ¨",pinyin:"w√†ig≈çng"}],uncles:[{english:"Dad's older brother",chinese:"‰ºØ‰ºØ",pinyin:"b√≥bo"},{english:"Dad's younger brother",chinese:"ÂèîÂèî",pinyin:"sh≈´shu"},{english:"Dad's sister's husband",chinese:"ÂßëÂ§´",pinyin:"g≈´f≈´"},{english:"Mom's brother",chinese:"ËàÖËàÖ",pinyin:"ji√πjiu"}],aunts:[{english:"Dad's older sister",chinese:"ÂßëÂ¶à",pinyin:"g≈´mƒÅ"},{english:"Dad's younger sister",chinese:"ÂßëÂßë",pinyin:"g≈´g≈´"},{english:"Dad's older brother's wife",chinese:"‰ºØÊØç",pinyin:"b√≥m«î"},{english:"Dad's younger brother's wife",chinese:"Â©∂Â©∂",pinyin:"shƒõnshƒõn"},{english:"Mom's older sister",chinese:"Âß®Â¶à",pinyin:"y√≠mƒÅ"},{english:"Mom's younger sister",chinese:"ÈòøÂß®",pinyin:"ƒÅy√≠"},{english:"Mom's brother's wife",chinese:"ËàÖÊØç",pinyin:"ji√πm«î"}],cousins:[{english:"Dad's sibling's son (older)",chinese:"Â†ÇÂÖÑ",pinyin:"t√°ng xi≈çng"},{english:"Dad's sibling's son (younger)",chinese:"Â†ÇÂºü",pinyin:"t√°ng d√¨"},{english:"Dad's sibling's daughter (older)",chinese:"Â†ÇÂßê",pinyin:"t√°ng jiƒõ"},{english:"Dad's sibling's daughter (younger)",chinese:"Â†ÇÂ¶π",pinyin:"t√°ng m√®i"},{english:"Mom's sibling's son (older)",chinese:"Ë°®Âì•",pinyin:"bi«éo gƒì"},{english:"Mom's sibling's son (younger)",chinese:"Ë°®Âºü",pinyin:"bi«éo d√¨"},{english:"Mom's sibling's daughter (older)",chinese:"Ë°®Âßê",pinyin:"bi«éo jiƒõ"},{english:"Mom's sibling's daughter (younger)",chinese:"Ë°®Â¶π",pinyin:"bi«éo m√®i"}],"nephews-nieces":[{english:"Brother's son",chinese:"‰æÑÂ≠ê",pinyin:"zh√≠zi"},{english:"Sister's son",chinese:"Â§ñÁî•",pinyin:"w√†ishƒìng"},{english:"Brother's daughter",chinese:"‰æÑÂ•≥",pinyin:"zh√≠n«ö"},{english:"Sister's daughter",chinese:"Â§ñÁî•Â•≥",pinyin:"w√†ishengn«ö"}],"in-laws":[{english:"Husband's father",chinese:"ÂÖ¨ÂÖ¨",pinyin:"g≈çnggong"},{english:"Wife's father",chinese:"Â≤≥Áà∂",pinyin:"yu√®f√π"},{english:"Husband's mother",chinese:"Â©ÜÂ©Ü",pinyin:"p√≥po"},{english:"Wife's mother",chinese:"Â≤≥ÊØç",pinyin:"yu√®m«î"},{english:"Older sister's husband",chinese:"ÂßêÂ§´",pinyin:"jiƒõf≈´"},{english:"Younger sister's husband",chinese:"Â¶πÂ§´",pinyin:"m√®if≈´"},{english:"Older brother's wife",chinese:"Â´ÇÂ≠ê",pinyin:"s«éozi"},{english:"Younger brother's wife",chinese:"ÂºüÂ¶á",pinyin:"d√¨f√π"}]},us={"immediate-family":{icon:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶",title:"Your Immediate Family Áõ¥Á≥ª‰∫≤Â±û"},grandparents:{icon:"üë¥üëµ",title:"Grandparents Á•ñÁà∂ÊØç/Â§ñÁ•ñÁà∂ÊØç"},uncles:{icon:"üë®",title:"Uncles ‰ºØ‰ºØ/ÂèîÂèî/ËàÖËàÖ"},aunts:{icon:"üë©",title:"Aunts ÂßëÂ¶à/Âß®Â¶à/‰ºØÊØç/Â©∂Â©∂"},cousins:{icon:"üë´",title:"Cousins Â†ÇÂÖÑÂºüÂßêÂ¶π/Ë°®ÂÖÑÂºüÂßêÂ¶π"},"nephews-nieces":{icon:"üë∂",title:"Nephews & Nieces ‰æÑÂ≠ê/‰æÑÂ•≥/Â§ñÁî•"},"in-laws":{icon:"üíë",title:"In-Laws Âßª‰∫≤"}},ms=`flowchart TB
    subgraph FATHER_SIDE["Father's Side"]
        direction TB
        subgraph F_GP["Grandparents"]
            yeye["üë¥ Áà∑Áà∑<br/>Grandfather"]:::male
            nainai["üëµ Â•∂Â•∂<br/>Grandmother"]:::female
        end

        subgraph F_PARENTS["Parents Generation"]
            bobo["üë® ‰ºØ‰ºØ<br/>Uncle (older)"]:::male
            baba["üë® Áà∏Áà∏<br/>Father"]:::male
            shushu["üë® ÂèîÂèî<br/>Uncle (younger)"]:::male
            guma["üë© ÂßëÂ¶à<br/>Aunt"]:::female
        end

        yeye --> bobo
        nainai --> bobo
        yeye --> baba
        nainai --> baba
        yeye --> shushu
        nainai --> shushu
        yeye --> guma
        nainai --> guma
    end

    subgraph MOTHER_SIDE["Mother's Side"]
        direction TB
        subgraph M_GP["Grandparents"]
            waigong["üë¥ Â§ñÂÖ¨<br/>Grandfather"]:::male
            waipo["üëµ Â§ñÂ©Ü<br/>Grandmother"]:::female
        end

        subgraph M_PARENTS["Parents Generation"]
            mama["üë© Â¶àÂ¶à<br/>Mother"]:::female
            jiujiu["üë® ËàÖËàÖ<br/>Uncle"]:::male
            yima["üë© Âß®Â¶à<br/>Aunt (older)"]:::female
            ayi["üë© ÈòøÂß®<br/>Aunt (younger)"]:::female
        end

        waigong --> mama
        waipo --> mama
        waigong --> jiujiu
        waipo --> jiujiu
        waigong --> yima
        waipo --> yima
        waigong --> ayi
        waipo --> ayi
    end

    FATHER_SIDE ~~~ MOTHER_SIDE

    subgraph YOUR_GEN["Your Generation"]
        direction LR
        gege["üë¶ Âì•Âì•<br/>Older Brother"]:::male
        jiejie["üëß ÂßêÂßê<br/>Older Sister"]:::female
        you["üü° ‰Ω†/Êàë<br/>YOU"]:::highlight
        qizi["üíë Â¶ªÂ≠ê<br/>Wife"]:::female
        didi["üë¶ ÂºüÂºü<br/>Younger Brother"]:::male
        meimei["üëß Â¶πÂ¶π<br/>Younger Sister"]:::female
    end

    subgraph CHILDREN["Children Generation"]
        direction LR
        erzi["üë¶ ÂÑøÂ≠ê<br/>Son"]:::male
        nuer["üëß Â•≥ÂÑø<br/>Daughter"]:::female
    end

    baba -.marriage.- mama

    baba --> you
    mama --> you
    baba --> gege
    mama --> gege
    baba --> jiejie
    mama --> jiejie
    baba --> didi
    mama --> didi
    baba --> meimei
    mama --> meimei

    you -.marriage.- qizi

    you --> erzi
    qizi --> erzi
    you --> nuer
    qizi --> nuer

    classDef male fill:#80ccff,stroke:#333,stroke-width:2px,color:#000
    classDef female fill:#ffb3d9,stroke:#333,stroke-width:2px,color:#000
    classDef highlight fill:#ffd700,stroke:#333,stroke-width:3px,color:#000`;function ps({data:n}){const{play:i}=ee(),[t,a]=l.useState(!1),r=l.useCallback(async o=>{o==null||o.stopPropagation(),a(!0);const c=`audio/${n.chinese.split("/")[0].trim()}.mp3`;await i(c),setTimeout(()=>a(!1),500)},[n.chinese,i]);return e.jsxs("div",{className:"family-card",onClick:()=>r(),children:[e.jsx("div",{className:"family-card-english",children:n.english}),e.jsx("div",{className:"family-card-chinese",children:n.chinese}),e.jsx("div",{className:"family-card-pinyin",children:n.pinyin}),e.jsxs("button",{className:T("family-card-audio-btn",t&&"playing"),onClick:r,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})}),e.jsx("span",{children:"Play Audio"})]})]})}function gs({categoryId:n,members:i}){const{icon:t,title:a}=us[n];return e.jsxs("div",{className:"category-section",children:[e.jsxs("div",{className:"category-header",children:[t," ",a]}),e.jsx("div",{className:"family-grid",children:i.map((r,o)=>e.jsx(ps,{data:r},o))})]})}function xs(){const n=l.useRef(null),i=l.useRef(null),[t,a]=l.useState(1),[r,o]=l.useState({x:0,y:0}),[d,c]=l.useState(!1),g=l.useRef({x:0,y:0}),p=l.useRef({x:0,y:0});l.useEffect(()=>{(async()=>{try{const y=await Ne(()=>import("https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs"),[]);if(y.default.initialize({startOnLoad:!1,theme:"default",flowchart:{useMaxWidth:!1,htmlLabels:!0,curve:"basis",nodeSpacing:120,rankSpacing:120,padding:30},themeVariables:{fontSize:"20px",fontFamily:"Arial, sans-serif"}}),i.current){const{svg:C}=await y.default.render("family-tree-svg",ms);i.current.innerHTML=C}}catch(y){console.error("Failed to load Mermaid:",y)}})()},[]);const f=()=>a(h=>Math.min(h+.2,3)),u=()=>a(h=>Math.max(h-.2,.5)),s=()=>{a(1),o({x:0,y:0})},w=h=>{c(!0),g.current={x:h.clientX,y:h.clientY},p.current={x:r.x,y:r.y}},v=h=>{if(!d)return;const y=h.clientX-g.current.x,C=h.clientY-g.current.y;o({x:p.current.x+y,y:p.current.y+C})},m=()=>c(!1),b=h=>{h.touches.length===1&&(c(!0),g.current={x:h.touches[0].clientX,y:h.touches[0].clientY},p.current={x:r.x,y:r.y})},j=h=>{if(!d||h.touches.length!==1)return;h.preventDefault();const y=h.touches[0].clientX-g.current.x,C=h.touches[0].clientY-g.current.y;o({x:p.current.x+y,y:p.current.y+C})},x=()=>c(!1);return e.jsxs("div",{className:"tree-section",children:[e.jsx("h2",{children:"Family Tree"}),e.jsxs("div",{className:"tree-controls",children:[e.jsx("button",{className:"tree-btn",onClick:f,children:"+ Zoom In"}),e.jsx("button",{className:"tree-btn",onClick:u,children:"- Zoom Out"}),e.jsx("button",{className:"tree-btn",onClick:s,children:"Reset"})]}),e.jsx("div",{ref:n,className:"tree-container",onMouseDown:w,onMouseMove:v,onMouseUp:m,onMouseLeave:m,onTouchStart:b,onTouchMove:j,onTouchEnd:x,children:e.jsx("div",{ref:i,className:"mermaid",style:{transform:`translate(${r.x}px, ${r.y}px) scale(${t})`,cursor:d?"grabbing":"grab"}})}),e.jsxs("div",{className:"scroll-hint",children:["Click/Touch and drag to move | Zoom to enlarge",e.jsx("br",{}),"Blue=Male | Pink=Female | Gold=You"]})]})}function fs(){return e.jsxs("div",{className:"family-container",children:[e.jsxs("header",{className:"family-header",children:[e.jsx("h1",{children:"Family Relationships"}),e.jsx("p",{children:"Tap cards to hear pronunciation"})]}),e.jsxs("div",{className:"note",children:[e.jsx("strong",{children:"Tip:"})," Chinese family terms are very specific about age order and which side of the family. Pay attention to these details!"]}),e.jsx(xs,{}),Object.entries(hs).map(([n,i])=>e.jsx(gs,{categoryId:n,members:i},n))]})}const ys=q("/dashboard")({component:bs});function bs(){const n=Me(),{data:i,isLoading:t}=re(xe),{data:a,isLoading:r,error:o,refetch:d}=Ce(),c=l.useMemo(()=>{var m,b;const f=((m=a==null?void 0:a.knownWords)==null?void 0:m.length)||0,u=((b=a==null?void 0:a.unknownWords)==null?void 0:b.length)||0,s=f+u,w=i?fe(i).length:0,v=w>0?Math.round(f/w*100):0;return{knownCount:f,unknownCount:u,practicedCount:s,totalWords:w,progressPercentage:v}},[a,i]),g=l.useMemo(()=>{if(!(a!=null&&a.lastUpdated))return null;const f=new Date(a.lastUpdated),s=new Date().getTime()-f.getTime(),w=Math.floor(s/6e4),v=Math.floor(s/36e5),m=Math.floor(s/864e5);return w<1?"ÂàöÂàöÊõ¥Êñ∞":w<60?`${w} ÂàÜÈíüÂâçÊõ¥Êñ∞`:v<24?`${v} Â∞èÊó∂ÂâçÊõ¥Êñ∞`:m<7?`${m} Â§©ÂâçÊõ¥Êñ∞`:f.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},[a==null?void 0:a.lastUpdated]),p=()=>{d(),n.invalidateQueries({queryKey:["vocabulary"]})};return t||r?e.jsxs("div",{className:"dashboard-container",children:[e.jsxs("div",{className:"dashboard-header",children:[e.jsx("h1",{className:"dashboard-title",children:"ÂÆ∂ÈïøÁúãÊùø"}),e.jsx("p",{className:"dashboard-subtitle",children:"ÂÆûÊó∂Êü•ÁúãÂ≠©Â≠êÁöÑÂ≠¶‰π†ËøõÂ∫¶"})]}),e.jsx("div",{className:"loading-spinner",children:"Ê≠£Âú®Âä†ËΩΩÊï∞ÊçÆ..."})]}):o?e.jsxs("div",{className:"dashboard-container",children:[e.jsxs("div",{className:"dashboard-header",children:[e.jsx("h1",{className:"dashboard-title",children:"ÂÆ∂ÈïøÁúãÊùø"}),e.jsx("p",{className:"dashboard-subtitle",children:"ÂÆûÊó∂Êü•ÁúãÂ≠©Â≠êÁöÑÂ≠¶‰π†ËøõÂ∫¶"})]}),e.jsx("div",{className:"error-message",children:he.DATA_LOAD}),e.jsx("button",{className:"refresh-btn",onClick:p,children:"Âà∑Êñ∞Êï∞ÊçÆ"})]}):e.jsxs("div",{className:"dashboard-container",children:[e.jsxs("div",{className:"dashboard-header",children:[e.jsx("h1",{className:"dashboard-title",children:"ÂÆ∂ÈïøÁúãÊùø"}),e.jsx("p",{className:"dashboard-subtitle",children:"ÂÆûÊó∂Êü•ÁúãÂ≠©Â≠êÁöÑÂ≠¶‰π†ËøõÂ∫¶"})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{className:"stat-card-header",children:[e.jsx("div",{className:"stat-icon",children:"‚úÖ"}),e.jsx("div",{className:"stat-label",children:"Â∑≤ÊéåÊè°ËØçËØ≠"})]}),e.jsx("div",{className:"stat-value",children:c.knownCount}),e.jsx("div",{className:"stat-subtitle",children:"Â≠©Â≠êÂ∑≤Áªè‰ºöÁöÑËØçËØ≠"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{className:"stat-card-header",children:[e.jsx("div",{className:"stat-icon",children:"üìù"}),e.jsx("div",{className:"stat-label",children:"ÈúÄË¶ÅÂ§ç‰π†"})]}),e.jsx("div",{className:"stat-value",children:c.unknownCount}),e.jsx("div",{className:"stat-subtitle",children:"Â≠©Â≠êËøò‰∏ç‰ºöÁöÑËØçËØ≠"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{className:"stat-card-header",children:[e.jsx("div",{className:"stat-icon",children:"üìä"}),e.jsx("div",{className:"stat-label",children:"ÊÄª‰ΩìËøõÂ∫¶"})]}),e.jsxs("div",{className:"stat-value",children:[c.progressPercentage,"%"]}),e.jsxs("div",{className:"stat-subtitle",children:[c.practicedCount," / ",c.totalWords," ËØçËØ≠"]}),e.jsx("div",{className:"progress-bar-container",children:e.jsx("div",{className:"progress-bar",style:{width:`${c.progressPercentage}%`}})})]})]}),e.jsx("button",{className:"refresh-btn",onClick:p,children:"Âà∑Êñ∞Êï∞ÊçÆ"}),e.jsxs("div",{className:"word-lists",children:[e.jsxs("div",{className:"word-list-section",children:[e.jsxs("div",{className:"word-list-header",children:[e.jsx("span",{className:"icon",children:"‚úÖ"}),"Â∑≤ÊéåÊè°ÁöÑËØçËØ≠"]}),e.jsx("div",{className:"word-grid",children:a!=null&&a.knownWords&&a.knownWords.length>0?a.knownWords.map((f,u)=>e.jsx("div",{className:"word-chip known",children:f},`known-${f}-${u}`)):e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-state-icon",children:"üìö"}),e.jsx("p",{children:"ËøòÊ≤°ÊúâÊéåÊè°ÁöÑËØçËØ≠"})]})})]}),e.jsxs("div",{className:"word-list-section",children:[e.jsxs("div",{className:"word-list-header",children:[e.jsx("span",{className:"icon",children:"üìù"}),"ÈúÄË¶ÅÂ§ç‰π†ÁöÑËØçËØ≠"]}),e.jsx("div",{className:"word-grid",children:a!=null&&a.unknownWords&&a.unknownWords.length>0?a.unknownWords.map((f,u)=>e.jsx("div",{className:"word-chip unknown",children:f},`unknown-${f}-${u}`)):e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-state-icon",children:"üéâ"}),e.jsx("p",{children:"Â§™Ê£í‰∫ÜÔºÅÊ≤°ÊúâÈúÄË¶ÅÂ§ç‰π†ÁöÑËØçËØ≠"})]})})]})]}),g&&e.jsx("div",{className:"last-updated",children:g})]})}function js(){const{data:n,isLoading:i,error:t}=re(xe),{data:a}=Ce(),r=en(),o=$(E,j=>j.showImportantOnly),d=$(E,j=>j.showLatestOnly),c=$(E,j=>j.currentWordIndex),g=$(E,j=>j.revealState),p=$(E,j=>j.knownWords),f=$(E,j=>j.unknownWords);l.useEffect(()=>{a&&Fe(a.knownWords||[],a.unknownWords||[])},[a]);const u=l.useMemo(()=>{if(!n)return[];const j=d?li(n):fe(n);return o?Qe(j):j},[n,d,o]),s=u[c],w=u.length,v=()=>{if(!s)return;He(s);const j=new Set(p);j.add(s.simplified);const x=new Set(f);x.delete(s.simplified),r.mutate({knownWords:Array.from(j),unknownWords:Array.from(x)}),te(w)},m=()=>{if(!s)return;$e(s);const j=new Set(p);j.delete(s.simplified);const x=new Set(f);x.add(s.simplified),r.mutate({knownWords:Array.from(j),unknownWords:Array.from(x)}),te(w)},b=j=>{De(j)};return i?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):t?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:he.DATA_LOAD})}):s?e.jsxs("div",{children:[e.jsxs("header",{className:"header-row",children:[e.jsx("h1",{className:"page-title",children:"ÊúÄÊñ∞ËØçËØ≠"}),e.jsxs("div",{className:"controls",children:[e.jsx("button",{className:T("filter-btn",!d&&"active"),onClick:bn,children:d?O.ALL_WORDS:O.LATEST_WORDS}),e.jsx("button",{className:T("filter-btn",o&&"active"),onClick:_e,children:o?O.ALL_WORDS:O.IMPORTANT_WORDS}),e.jsxs("div",{className:"progress-display",children:[c+1," / ",w]})]})]}),e.jsxs("main",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"nav-buttons",children:[e.jsx("button",{className:"nav-btn",onClick:qe,disabled:c===0,children:O.PREV_BTN}),e.jsx("button",{className:"nav-btn",onClick:()=>te(w),disabled:c>=w-1,children:O.NEXT_BTN})]}),e.jsx(Xe,{word:s,currentIndex:c,totalWords:w,revealState:g,onToggleReveal:b},s.simplified),e.jsx(Je,{onKnow:v,onDontKnow:m})]})]}):e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"text-white text-xl",children:"No words available"})})}const ws=q("/")({component:js}),vs=ti.update({id:"/word-study",path:"/word-study",getParentRoute:()=>_}),ks=ci.update({id:"/vocabulary",path:"/vocabulary",getParentRoute:()=>_}),Ns=yi.update({id:"/settings",path:"/settings",getParentRoute:()=>_}),Cs=ji.update({id:"/school-tingxie",path:"/school-tingxie",getParentRoute:()=>_}),Ss=Ii.update({id:"/review",path:"/review",getParentRoute:()=>_}),Ts=Pi.update({id:"/radicals",path:"/radicals",getParentRoute:()=>_}),Rs=Mi.update({id:"/phrase-matching",path:"/phrase-matching",getParentRoute:()=>_}),As=qi.update({id:"/p3hcl-wupin-interactive",path:"/p3hcl-wupin-interactive",getParentRoute:()=>_}),Es=Hi.update({id:"/p3hcl-reading-sync",path:"/p3hcl-reading-sync",getParentRoute:()=>_}),Is=Bi.update({id:"/koushi-family-cohesion",path:"/koushi-family-cohesion",getParentRoute:()=>_}),Ws=Zi.update({id:"/instructions",path:"/instructions",getParentRoute:()=>_}),Ps=rs.update({id:"/handwriting",path:"/handwriting",getParentRoute:()=>_}),zs=ds.update({id:"/family",path:"/family",getParentRoute:()=>_}),Ls=ys.update({id:"/dashboard",path:"/dashboard",getParentRoute:()=>_}),Os=ws.update({id:"/",path:"/",getParentRoute:()=>_}),Ms={IndexRoute:Os,DashboardRoute:Ls,FamilyRoute:zs,HandwritingRoute:Ps,InstructionsRoute:Ws,KoushiFamilyCohesionRoute:Is,P3hclReadingSyncRoute:Es,P3hclWupinInteractiveRoute:As,PhraseMatchingRoute:Rs,RadicalsRoute:Ts,ReviewRoute:Ss,SchoolTingxieRoute:Cs,SettingsRoute:Ns,VocabularyRoute:ks,WordStudyRoute:vs},_s=_._addFileChildren(Ms)._addFileTypes(),sn=new cn({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*60*24}}}),qs=dn({routeTree:_s,context:{queryClient:sn},defaultPreload:"intent"}),ze=document.getElementById("root");ze.innerHTML||pn.createRoot(ze).render(e.jsx(l.StrictMode,{children:e.jsx(hn,{client:sn,children:e.jsx(un,{router:qs})})}));
